"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[179],{689:()=>{function Se(t){return"function"==typeof t}function Ji(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const So=Ji(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function es(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Ft{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Se(r))try{r()}catch(s){e=s instanceof So?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{cf(s)}catch(o){e=e??[],o instanceof So?e=[...e,...o.errors]:e.push(o)}}if(e)throw new So(e)}}add(e){var n;if(e&&e!==this)if(this.closed)cf(e);else{if(e instanceof Ft){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&es(n,e)}remove(e){const{_finalizers:n}=this;n&&es(n,e),e instanceof Ft&&e._removeParent(this)}}Ft.EMPTY=(()=>{const t=new Ft;return t.closed=!0,t})();const lf=Ft.EMPTY;function uf(t){return t instanceof Ft||t&&"closed"in t&&Se(t.remove)&&Se(t.add)&&Se(t.unsubscribe)}function cf(t){Se(t)?t():t.unsubscribe()}const vr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Eo={setTimeout(t,e,...n){const{delegate:r}=Eo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Eo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function df(t){Eo.setTimeout(()=>{const{onUnhandledError:e}=vr;if(!e)throw t;e(t)})}function hf(){}const PC=Vl("C",void 0,void 0);function Vl(t,e,n){return{kind:t,value:e,error:n}}let yr=null;function Mo(t){if(vr.useDeprecatedSynchronousErrorHandling){const e=!yr;if(e&&(yr={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=yr;if(yr=null,n)throw r}}else t()}class Hl extends Ft{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,uf(e)&&e.add(this)):this.destination=BC}static create(e,n,r){return new ts(e,n,r)}next(e){this.isStopped?Gl(function OC(t){return Vl("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Gl(function RC(t){return Vl("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Gl(PC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const NC=Function.prototype.bind;function Ul(t,e){return NC.call(t,e)}class FC{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Io(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Io(r)}else Io(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Io(n)}}}class ts extends Hl{constructor(e,n,r){let i;if(super(),Se(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&vr.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ul(e.next,s),error:e.error&&Ul(e.error,s),complete:e.complete&&Ul(e.complete,s)}):i=e}this.destination=new FC(i)}}function Io(t){vr.useDeprecatedSynchronousErrorHandling?function kC(t){vr.useDeprecatedSynchronousErrorHandling&&yr&&(yr.errorThrown=!0,yr.error=t)}(t):df(t)}function Gl(t,e){const{onStoppedNotification:n}=vr;n&&Eo.setTimeout(()=>n(t,e))}const BC={closed:!0,next:hf,error:function LC(t){throw t},complete:hf},$l="function"==typeof Symbol&&Symbol.observable||"@@observable";function _r(t){return t}function ff(t){return 0===t.length?_r:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let $e=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function HC(t){return t&&t instanceof Hl||function VC(t){return t&&Se(t.next)&&Se(t.error)&&Se(t.complete)}(t)&&uf(t)}(n)?n:new ts(n,r,i);return Mo(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=pf(r))((i,s)=>{const o=new ts({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[$l](){return this}pipe(...n){return ff(n)(this)}toPromise(n){return new(n=pf(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function pf(t){var e;return null!==(e=t??vr.Promise)&&void 0!==e?e:Promise}const UC=Ji(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let un=(()=>{class t extends $e{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new gf(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new UC}next(n){Mo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Mo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Mo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?lf:(this.currentObservers=null,s.push(n),new Ft(()=>{this.currentObservers=null,es(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new $e;return n.source=this,n}}return t.create=(e,n)=>new gf(e,n),t})();class gf extends un{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:lf}}function mf(t){return Se(t?.lift)}function Ke(t){return e=>{if(mf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Je(t,e,n,r,i){return new GC(t,e,n,r,i)}class GC extends Hl{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ue(t,e){return Ke((n,r)=>{let i=0;n.subscribe(Je(r,s=>{r.next(t.call(e,s,i++))}))})}function Cr(t){return this instanceof Cr?(this.v=t,this):new Cr(t)}function WC(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(p){return new Promise(function(f,m){s.push([h,p,f,m])>1||a(h,p)})})}function a(h,p){try{!function l(h){h.value instanceof Cr?Promise.resolve(h.value.v).then(u,c):d(s[0][2],h)}(r[h](p))}catch(f){d(s[0][3],f)}}function u(h){a("next",h)}function c(h){a("throw",h)}function d(h,p){h(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function qC(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function _f(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}(a,l,(o=t[s](o)).done,o.value)})}}}const Cf=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Df(t){return Se(t?.then)}function wf(t){return Se(t[$l])}function bf(t){return Symbol.asyncIterator&&Se(t?.[Symbol.asyncIterator])}function Sf(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ef=function QC(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Mf(t){return Se(t?.[Ef])}function If(t){return WC(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Cr(n.read());if(i)return yield Cr(void 0);yield yield Cr(r)}}finally{n.releaseLock()}})}function xf(t){return Se(t?.getReader)}function cn(t){if(t instanceof $e)return t;if(null!=t){if(wf(t))return function ZC(t){return new $e(e=>{const n=t[$l]();if(Se(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Cf(t))return function XC(t){return new $e(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(Df(t))return function KC(t){return new $e(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,df)})}(t);if(bf(t))return Tf(t);if(Mf(t))return function JC(t){return new $e(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(xf(t))return function eD(t){return Tf(If(t))}(t)}throw Sf(t)}function Tf(t){return new $e(e=>{(function tD(t,e){var n,r,i,s;return function $C(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=qC(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function bn(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function nt(t,e,n=1/0){return Se(e)?nt((r,i)=>ue((s,o)=>e(r,s,i,o))(cn(t(r,i))),n):("number"==typeof e&&(n=e),Ke((r,i)=>function nD(t,e,n,r,i,s,o,a){const l=[];let u=0,c=0,d=!1;const h=()=>{d&&!l.length&&!u&&e.complete()},p=m=>u<r?f(m):l.push(m),f=m=>{s&&e.next(m),u++;let g=!1;cn(n(m,c++)).subscribe(Je(e,_=>{i?.(_),s?p(_):e.next(_)},()=>{g=!0},void 0,()=>{if(g)try{for(u--;l.length&&u<r;){const _=l.shift();o?bn(e,o,()=>f(_)):f(_)}h()}catch(_){e.error(_)}}))};return t.subscribe(Je(e,p,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Qr(t=1/0){return nt(_r,t)}const Sn=new $e(t=>t.complete());function Wl(t){return t[t.length-1]}function ns(t){return function iD(t){return t&&Se(t.schedule)}(Wl(t))?t.pop():void 0}function Af(t,e=0){return Ke((n,r)=>{n.subscribe(Je(r,i=>bn(r,t,()=>r.next(i),e),()=>bn(r,t,()=>r.complete(),e),i=>bn(r,t,()=>r.error(i),e)))})}function Pf(t,e=0){return Ke((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Rf(t,e){if(!t)throw new Error("Iterable cannot be null");return new $e(n=>{bn(n,e,()=>{const r=t[Symbol.asyncIterator]();bn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function ze(t,e){return e?function hD(t,e){if(null!=t){if(wf(t))return function aD(t,e){return cn(t).pipe(Pf(e),Af(e))}(t,e);if(Cf(t))return function uD(t,e){return new $e(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(Df(t))return function lD(t,e){return cn(t).pipe(Pf(e),Af(e))}(t,e);if(bf(t))return Rf(t,e);if(Mf(t))return function cD(t,e){return new $e(n=>{let r;return bn(n,e,()=>{r=t[Ef](),bn(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Se(r?.return)&&r.return()})}(t,e);if(xf(t))return function dD(t,e){return Rf(If(t),e)}(t,e)}throw Sf(t)}(t,e):cn(t)}function ql(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new ts({next:()=>{r.unsubscribe(),t()}});return e(...n).subscribe(r)}function De(t){for(let e in t)if(t[e]===De)return e;throw Error("Could not find renamed property on target object.")}function we(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(we).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Ql(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const gD=De({__forward_ref__:De});function Zl(t){return t.__forward_ref__=Zl,t.toString=function(){return we(this())},t}function q(t){return function Xl(t){return"function"==typeof t&&t.hasOwnProperty(gD)&&t.__forward_ref__===Zl}(t)?t():t}class O extends Error{constructor(e,n){super(function xo(t,e){return`NG0${Math.abs(t)}${e?": "+e.trim():""}`}(e,n)),this.code=e}}function Q(t){return"string"==typeof t?t:null==t?"":String(t)}function To(t,e){throw new O(-201,!1)}function It(t,e){null==t&&function ge(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function te(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Wn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Kl(t){return Of(t,Ao)||Of(t,Nf)}function Of(t,e){return t.hasOwnProperty(e)?t[e]:null}function kf(t){return t&&(t.hasOwnProperty(Jl)||t.hasOwnProperty(bD))?t[Jl]:null}const Ao=De({\u0275prov:De}),Jl=De({\u0275inj:De}),Nf=De({ngInjectableDef:De}),bD=De({ngInjectorDef:De});var z=(()=>((z=z||{})[z.Default=0]="Default",z[z.Host=1]="Host",z[z.Self=2]="Self",z[z.SkipSelf=4]="SkipSelf",z[z.Optional=8]="Optional",z))();let eu;function Lt(t){const e=eu;return eu=t,e}function Ff(t,e,n){const r=Kl(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&z.Optional?null:void 0!==e?e:void To(we(t))}function qn(t){return{toString:t}.toString()}var zt=(()=>((zt=zt||{})[zt.OnPush=0]="OnPush",zt[zt.Default=1]="Default",zt))(),dn=(()=>{return(t=dn||(dn={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",dn;var t})();const _e=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Zr={},fe=[],Po=De({\u0275cmp:De}),tu=De({\u0275dir:De}),nu=De({\u0275pipe:De}),Lf=De({\u0275mod:De}),Mn=De({\u0275fac:De}),rs=De({__NG_ELEMENT_ID__:De});let ED=0;function is(t){return qn(()=>{const n=!0===t.standalone,r={},i={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===zt.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||fe,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||dn.Emulated,id:"c"+ED++,styles:t.styles||fe,_:null,setInput:null,schemas:t.schemas||null,tView:null},s=t.dependencies,o=t.features;return i.inputs=Vf(t.inputs,r),i.outputs=Vf(t.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(Bf).filter(jf):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(dt).filter(jf):null,i})}function Bf(t){return ve(t)||ct(t)}function jf(t){return null!==t}function Dr(t){return qn(()=>({type:t.type,bootstrap:t.bootstrap||fe,declarations:t.declarations||fe,imports:t.imports||fe,exports:t.exports||fe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Vf(t,e){if(null==t)return Zr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const it=is;function ve(t){return t[Po]||null}function ct(t){return t[tu]||null}function dt(t){return t[nu]||null}function xt(t,e){const n=t[Lf]||null;if(!n&&!0===e)throw new Error(`Type ${we(t)} does not have '\u0275mod' property.`);return n}function Ct(t){return Array.isArray(t)&&"object"==typeof t[1]}function qt(t){return Array.isArray(t)&&!0===t[1]}function su(t){return 0!=(8&t.flags)}function No(t){return 2==(2&t.flags)}function Fo(t){return 1==(1&t.flags)}function Yt(t){return null!==t.template}function PD(t){return 0!=(256&t[2])}function Mr(t,e){return t.hasOwnProperty(Mn)?t[Mn]:null}class kD{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Gf(t){return t.type.prototype.ngOnChanges&&(t.setInput=FD),ND}function ND(){const t=zf(this),e=t?.current;if(e){const n=t.previous;if(n===Zr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function FD(t,e,n,r){const i=zf(t)||function LD(t,e){return t[$f]=e}(t,{previous:Zr,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],l=o[a];s[a]=new kD(l&&l.currentValue,e,o===Zr),t[r]=e}const $f="__ngSimpleChanges__";function zf(t){return t[$f]||null}function je(t){for(;Array.isArray(t);)t=t[0];return t}function Vt(t,e){return je(e[t.index])}function cu(t,e){return t.data[e]}function At(t,e){const n=e[t];return Ct(n)?n:n[0]}function Bo(t){return 64==(64&t[2])}function Yn(t,e){return null==e?null:t[e]}function qf(t){t[18]=0}function du(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Y={lFrame:np(null),bindingsEnabled:!0};function Qf(){return Y.bindingsEnabled}function b(){return Y.lFrame.lView}function ae(){return Y.lFrame.tView}function xr(t){return Y.lFrame.contextLView=t,t[8]}function Tr(t){return Y.lFrame.contextLView=null,t}function We(){let t=Zf();for(;null!==t&&64===t.type;)t=t.parent;return t}function Zf(){return Y.lFrame.currentTNode}function hn(t,e){const n=Y.lFrame;n.currentTNode=t,n.isParent=e}function hu(){return Y.lFrame.isParent}function ni(){return Y.lFrame.bindingIndex++}function XD(t,e){const n=Y.lFrame;n.bindingIndex=n.bindingRootIndex=t,pu(e)}function pu(t){Y.lFrame.currentDirectiveIndex=t}function mu(t){Y.lFrame.currentQueryIndex=t}function JD(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ep(t,e,n){if(n&z.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&z.Host||(i=JD(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=Y.lFrame=tp();return r.currentTNode=e,r.lView=t,!0}function vu(t){const e=tp(),n=t[1];Y.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function tp(){const t=Y.lFrame,e=null===t?null:t.child;return null===e?np(t):e}function np(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function rp(){const t=Y.lFrame;return Y.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ip=rp;function yu(){const t=rp();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ft(){return Y.lFrame.selectedIndex}function Qn(t){Y.lFrame.selectedIndex=t}function Ie(){Y.lFrame.currentNamespace="svg"}function xe(){!function rw(){Y.lFrame.currentNamespace=null}()}function Vo(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),l&&(t.viewHooks||(t.viewHooks=[])).push(-n,l),u&&((t.viewHooks||(t.viewHooks=[])).push(n,u),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,u)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function Ho(t,e,n){sp(t,e,3,n)}function Uo(t,e,n,r){(3&t[2])===n&&sp(t,e,n,r)}function _u(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function sp(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&t[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(t[18]+=65536),(a<s||-1==s)&&(ow(t,n,e,l),t[18]=(4294901760&t[18])+l+2),l++}function ow(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class us{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Go(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];ap(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function op(t){return 3===t||4===t||6===t}function ap(t){return 64===t.charCodeAt(0)}function $o(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||lp(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function lp(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function up(t){return-1!==t}function ri(t){return 32767&t}function ii(t,e){let n=function dw(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let Du=!0;function zo(t){const e=Du;return Du=t,e}let hw=0;const fn={};function ds(t,e){const n=bu(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,wu(r.data,t),wu(e,null),wu(r.blueprint,null));const i=Wo(t,e),s=t.injectorIndex;if(up(i)){const o=ri(i),a=ii(i,e),l=a[1].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|l[o+u]}return e[s+8]=i,s}function wu(t,e){t.push(0,0,0,0,0,0,0,0,e)}function bu(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Wo(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=yp(i),null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function qo(t,e,n){!function fw(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(rs)&&(r=n[rs]),null==r&&(r=n[rs]=hw++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function hp(t,e,n){if(n&z.Optional)return t;To()}function fp(t,e,n,r){if(n&z.Optional&&void 0===r&&(r=null),0==(n&(z.Self|z.Host))){const i=t[9],s=Lt(void 0);try{return i?i.get(e,r,n&z.Optional):Ff(e,r,n&z.Optional)}finally{Lt(s)}}return hp(r,0,n)}function pp(t,e,n,r=z.Default,i){if(null!==t){if(1024&e[2]){const o=function _w(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=gp(s,o,n,r|z.Self,fn);if(a!==fn)return a;let l=s.parent;if(!l){const u=o[21];if(u){const c=u.get(n,fn,r);if(c!==fn)return c}l=yp(o),o=o[15]}s=l}return i}(t,e,n,r,fn);if(o!==fn)return o}const s=gp(t,e,n,r,fn);if(s!==fn)return s}return fp(e,n,r,i)}function gp(t,e,n,r,i){const s=function mw(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(rs)?t[rs]:void 0;return"number"==typeof e?e>=0?255&e:vw:e}(n);if("function"==typeof s){if(!ep(e,t,r))return r&z.Host?hp(i,0,r):fp(e,n,r,i);try{const o=s(r);if(null!=o||r&z.Optional)return o;To()}finally{ip()}}else if("number"==typeof s){let o=null,a=bu(t,e),l=-1,u=r&z.Host?e[16][6]:null;for((-1===a||r&z.SkipSelf)&&(l=-1===a?Wo(t,e):e[a+8],-1!==l&&vp(r,!1)?(o=e[1],a=ri(l),e=ii(l,e)):a=-1);-1!==a;){const c=e[1];if(mp(s,a,c.data)){const d=gw(a,e,n,o,r,u);if(d!==fn)return d}l=e[a+8],-1!==l&&vp(r,e[1].data[a+8]===u)&&mp(s,a,e)?(o=c,a=ri(l),e=ii(l,e)):a=-1}}return i}function gw(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],c=function Yo(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,l=t.directiveStart,c=s>>20,h=i?a+c:t.directiveEnd;for(let p=r?a:a+c;p<h;p++){const f=o[p];if(p<l&&n===f||p>=l&&f.type===n)return p}if(i){const p=o[l];if(p&&Yt(p)&&p.type===n)return l}return null}(a,o,n,null==r?No(a)&&Du:r!=o&&0!=(3&a.type),i&z.Host&&s===a);return null!==c?hs(e,o,c,a):fn}function hs(t,e,n,r){let i=t[n];const s=e.data;if(function aw(t){return t instanceof us}(i)){const o=i;o.resolving&&function mD(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new O(-200,`Circular dependency in DI detected for ${t}${n}`)}(function he(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Q(t)}(s[n]));const a=zo(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Lt(o.injectImpl):null;ep(t,r,z.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function sw(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=Gf(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==l&&Lt(l),zo(a),o.resolving=!1,ip()}}return i}function mp(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function vp(t,e){return!(t&z.Self||t&z.Host&&e)}class si{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return pp(this._tNode,this._lView,e,r,n)}}function vw(){return new si(We(),b())}function yp(t){const e=t[1],n=e.type;return 2===n?e.declTNode:1===n?t[6]:null}const ai="__parameters__";function ui(t,e,n){return qn(()=>{const r=function Eu(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,u,c){const d=l.hasOwnProperty(ai)?l[ai]:Object.defineProperty(l,ai,{value:[]})[ai];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class X{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=te({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Tn(t,e){t.forEach(n=>Array.isArray(n)?Tn(n,e):e(n))}function Cp(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Qo(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const vs={},Tu="__NG_DI_FLAG__",Xo="ngTempTokenPath",Pw=/\n/gm,Sp="__source";let ys;function di(t){const e=ys;return ys=t,e}function Ow(t,e=z.Default){if(void 0===ys)throw new O(-203,!1);return null===ys?Ff(t,void 0,e):ys.get(t,e&z.Optional?null:void 0,e)}function U(t,e=z.Default){return(function SD(){return eu}()||Ow)(q(t),e)}function Le(t,e=z.Default){return"number"!=typeof e&&(e=0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)),U(t,e)}function Au(t){const e=[];for(let n=0;n<t.length;n++){const r=q(t[n]);if(Array.isArray(r)){if(0===r.length)throw new O(900,!1);let i,s=z.Default;for(let o=0;o<r.length;o++){const a=r[o],l=kw(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(U(i,s))}else e.push(U(r))}return e}function _s(t,e){return t[Tu]=e,t.prototype[Tu]=e,t}function kw(t){return t[Tu]}const Cs=_s(ui("Optional"),8),Ds=_s(ui("SkipSelf"),4);let Ru;const Vu=new X("ENVIRONMENT_INITIALIZER"),Wp=new X("INJECTOR",-1),qp=new X("INJECTOR_DEF_TYPES");class Yp{get(e,n=vs){if(n===vs){const r=new Error(`NullInjectorError: No provider for ${we(e)}!`);throw r.name="NullInjectorError",r}return n}}function _b(...t){return{\u0275providers:Qp(0,t)}}function Qp(t,...e){const n=[],r=new Set;let i;return Tn(e,s=>{const o=s;Hu(o,n,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&Zp(i,n),n}function Zp(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];Tn(i,s=>{e.push(s)})}}function Hu(t,e,n,r){if(!(t=q(t)))return!1;let i=null,s=kf(t);const o=!s&&ve(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const l=t.ngModule;if(s=kf(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of l)Hu(u,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;r.add(i);try{Tn(s.imports,c=>{Hu(c,e,n,r)&&(u||(u=[]),u.push(c))})}finally{}void 0!==u&&Zp(u,e)}if(!a){const u=Mr(i)||(()=>new i);e.push({provide:i,useFactory:u,deps:fe},{provide:qp,useValue:i,multi:!0},{provide:Vu,useValue:()=>U(i),multi:!0})}const l=s.providers;null==l||a||Tn(l,c=>{e.push(c)})}}return i!==t&&void 0!==t.providers}const Cb=De({provide:String,useValue:De});function Uu(t){return null!==t&&"object"==typeof t&&Cb in t}function Ar(t){return"function"==typeof t}const Gu=new X("Set Injector scope."),ia={},wb={};let $u;function sa(){return void 0===$u&&($u=new Yp),$u}class Kn{}class Jp extends Kn{constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Wu(e,o=>this.processProvider(o)),this.records.set(Wp,pi(void 0,this)),i.has("environment")&&this.records.set(Kn,pi(void 0,this));const s=this.records.get(Gu);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(qp.multi,fe,z.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const n=di(this),r=Lt(void 0);try{return e()}finally{di(n),Lt(r)}}get(e,n=vs,r=z.Default){this.assertNotDestroyed();const i=di(this),s=Lt(void 0);try{if(!(r&z.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function Ib(t){return"function"==typeof t||"object"==typeof t&&t instanceof X}(e)&&Kl(e);a=l&&this.injectableDefInScope(l)?pi(zu(e),ia):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&z.Self?sa():this.parent).get(e,n=r&z.Optional&&n===vs?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Xo]=o[Xo]||[]).unshift(we(e)),i)throw o;return function Nw(t,e,n,r){const i=t[Xo];throw e[Sp]&&i.unshift(e[Sp]),t.message=function Fw(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=we(e);if(Array.isArray(e))i=e.map(we).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):we(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Pw,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Xo]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{Lt(s),di(i)}}resolveInjectorInitializers(){const e=di(this),n=Lt(void 0);try{const r=this.get(Vu.multi,fe,z.Self);for(const i of r)i()}finally{di(e),Lt(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(we(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new O(205,!1)}processProvider(e){let n=Ar(e=q(e))?e:q(e&&e.provide);const r=function Sb(t){return Uu(t)?pi(void 0,t.useValue):pi(function eg(t,e,n){let r;if(Ar(t)){const i=q(t);return Mr(i)||zu(i)}if(Uu(t))r=()=>q(t.useValue);else if(function Kp(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Au(t.deps||[]));else if(function Xp(t){return!(!t||!t.useExisting)}(t))r=()=>U(q(t.useExisting));else{const i=q(t&&(t.useClass||t.provide));if(!function Eb(t){return!!t.deps}(t))return Mr(i)||zu(i);r=()=>new i(...Au(t.deps))}return r}(t),ia)}(e);if(Ar(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=pi(void 0,ia,!0),i.factory=()=>Au(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===ia&&(n.value=wb,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Mb(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=q(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function zu(t){const e=Kl(t),n=null!==e?e.factory:Mr(t);if(null!==n)return n;if(t instanceof X)throw new O(204,!1);if(t instanceof Function)return function bb(t){const e=t.length;if(e>0)throw function ms(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new O(204,!1);const n=function DD(t){const e=t&&(t[Ao]||t[Nf]);if(e){const n=function wD(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new O(204,!1)}function pi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function xb(t){return!!t.\u0275providers}function Wu(t,e){for(const n of t)Array.isArray(n)?Wu(n,e):xb(n)?Wu(n.\u0275providers,e):e(n)}class tg{}class Pb{resolveComponentFactory(e){throw function Ab(t){const e=Error(`No component factory found for ${we(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let Is=(()=>{class t{}return t.NULL=new Pb,t})();function Rb(){return gi(We(),b())}function gi(t,e){return new Jn(Vt(t,e))}let Jn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=Rb,t})();class rg{}let Nb=(()=>{class t{}return t.\u0275prov=te({token:t,providedIn:"root",factory:()=>null}),t})();class aa{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Fb=new aa("14.1.2"),qu={};function Ku(t){return t.ngOriginalError}class mi{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Ku(e);for(;n&&Ku(n);)n=Ku(n);return n||null}}const Ju=new Map;let Yb=0;const tc="__ngContext__";function at(t,e){Ct(e)?(t[tc]=e[20],function Zb(t){Ju.set(t[20],t)}(e)):t[tc]=e}function xs(t){const e=t[tc];return"number"==typeof e?function ug(t){return Ju.get(t)||null}(e):e||null}function nc(t){const e=xs(t);return e?Ct(e)?e:e.lView:null}const sS=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(_e))();function An(t){return t instanceof Function?t():t}var Dt=(()=>((Dt=Dt||{})[Dt.Important=1]="Important",Dt[Dt.DashCase=2]="DashCase",Dt))();function ic(t,e){return undefined(t,e)}function Ts(t){const e=t[3];return qt(e)?e[3]:e}function sc(t){return vg(t[13])}function oc(t){return vg(t[4])}function vg(t){for(;null!==t&&!qt(t);)t=t[4];return t}function yi(t,e,n,r,i){if(null!=r){let s,o=!1;qt(r)?s=r:Ct(r)&&(o=!0,r=r[0]);const a=je(r);0===t&&null!==n?null==i?bg(e,n,a):Pr(e,n,a,i||null,!0):1===t&&null!==n?Pr(e,n,a,i||null,!0):2===t?function Ag(t,e,n){const r=la(t,e);r&&function bS(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function MS(t,e,n,r,i){const s=n[7];s!==je(n)&&yi(e,t,r,s,i);for(let a=10;a<n.length;a++){const l=n[a];As(l[1],l,t,e,r,s)}}(e,t,s,n,i)}}function lc(t,e,n){return t.createElement(e,n)}function _g(t,e){const n=t[9],r=n.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,du(i,-1)),n.splice(r,1)}function uc(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&_g(i,r),e>0&&(t[n-1][4]=r[4]);const s=Qo(t,10+e);!function gS(t,e){As(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function Cg(t,e){if(!(128&e[2])){const n=e[11];n.destroyNode&&As(t,e,n,3,null,null),function yS(t){let e=t[13];if(!e)return cc(t[1],t);for(;e;){let n=null;if(Ct(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Ct(e)&&cc(e[1],e),e=e[3];null===e&&(e=t),Ct(e)&&cc(e[1],e),n=e&&e[4]}e=n}}(e)}}function cc(t,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function wS(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof us)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function DS(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):je(e[o]),l=r[i=n[s+2]],u=n[s+3];"boolean"==typeof u?a.removeEventListener(n[s],l,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[7]=null}}(t,e),1===e[1].type&&e[11].destroy();const n=e[17];if(null!==n&&qt(e[3])){n!==e[3]&&_g(n,e);const r=e[19];null!==r&&r.detachView(t)}!function Xb(t){Ju.delete(t[20])}(e)}}function Dg(t,e,n){return function wg(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===dn.None||i===dn.Emulated)return null}return Vt(r,n)}(t,e.parent,n)}function Pr(t,e,n,r,i){t.insertBefore(e,n,r,i)}function bg(t,e,n){t.appendChild(e,n)}function Sg(t,e,n,r,i){null!==r?Pr(t,e,n,r,i):bg(t,e,n)}function la(t,e){return t.parentNode(e)}let Ig=function Mg(t,e,n){return 40&t.type?Vt(t,n):null};function ua(t,e,n,r){const i=Dg(t,r,e),s=e[11],a=function Eg(t,e,n){return Ig(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)Sg(s,i,n[l],a,!1);else Sg(s,i,n,a,!1)}function ca(t,e){if(null!==e){const n=e.type;if(3&n)return Vt(e,t);if(4&n)return hc(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return ca(t,r);{const i=t[e.index];return qt(i)?hc(-1,i):je(i)}}if(32&n)return ic(e,t)()||je(t[e.index]);{const r=Tg(t,e);return null!==r?Array.isArray(r)?r[0]:ca(Ts(t[16]),r):ca(t,e.next)}}return null}function Tg(t,e){return null!==e?t[16][6].projection[e.projection]:null}function hc(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return ca(r,i)}return e[7]}function fc(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;if(o&&0===e&&(a&&at(je(a),r),n.flags|=4),64!=(64&n.flags))if(8&l)fc(t,e,n.child,r,i,s,!1),yi(e,t,i,a,s);else if(32&l){const u=ic(n,r);let c;for(;c=u();)yi(e,t,i,c,s);yi(e,t,i,a,s)}else 16&l?Pg(t,e,r,n,i,s):yi(e,t,i,a,s);n=o?n.projectionNext:n.next}}function As(t,e,n,r,i,s){fc(n,r,t.firstChild,e,i,s,!1)}function Pg(t,e,n,r,i,s){const o=n[16],l=o[6].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)yi(e,t,i,l[u],s);else fc(t,e,l,o[3],i,s,!0)}function Rg(t,e,n){t.setAttribute(e,"style",n)}function pc(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Og(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const kg="ng-template";function xS(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Og(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Ng(t){return 4===t.type&&t.value!==kg}function TS(t,e,n){return e===(4!==t.type||n?t.value:kg)}function AS(t,e,n){let r=4;const i=t.attrs||[],s=function OS(t){for(let e=0;e<t.length;e++)if(op(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!TS(t,l,n)||""===l&&1===e.length){if(Qt(r))return!1;o=!0}}else{const u=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!xS(t.attrs,u,n)){if(Qt(r))return!1;o=!0}continue}const d=PS(8&r?"class":l,i,Ng(t),n);if(-1===d){if(Qt(r))return!1;o=!0;continue}if(""!==u){let h;h=d>s?"":i[d+1].toLowerCase();const p=8&r?h:null;if(p&&-1!==Og(p,u,0)||2&r&&u!==h){if(Qt(r))return!1;o=!0}}}}else{if(!o&&!Qt(r)&&!Qt(l))return!1;if(o&&Qt(l))continue;o=!1,r=l|1&r}}return Qt(r)||o}function Qt(t){return 0==(1&t)}function PS(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function kS(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Fg(t,e,n=!1){for(let r=0;r<e.length;r++)if(AS(t,e[r],n))return!0;return!1}function Lg(t,e){return t?":not("+e.trim()+")":e}function FS(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Qt(o)&&(e+=Lg(s,i),i=""),r=o,s=s||!Qt(r);n++}return""!==i&&(e+=Lg(s,i)),e}const Z={};function er(t){Bg(ae(),b(),ft()+t,!1)}function Bg(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&Ho(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Uo(e,s,0,n)}Qn(n)}function Ug(t,e=null,n=null,r){const i=Gg(t,e,n,r);return i.resolveInjectorInitializers(),i}function Gg(t,e=null,n=null,r,i=new Set){const s=[n||fe,_b(t)];return r=r||("object"==typeof t?void 0:we(t)),new Jp(s,e||sa(),r||null,i)}let Zt=(()=>{class t{static create(n,r){if(Array.isArray(n))return Ug({name:""},r,n,"");{const i=n.name??"";return Ug({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=vs,t.NULL=new Yp,t.\u0275prov=te({token:t,providedIn:"any",factory:()=>U(Wp)}),t.__NG_ELEMENT_ID__=-1,t})();function V(t,e=z.Default){const n=b();return null===n?U(t,e):pp(We(),n,q(t),e)}function _c(){throw new Error("invalid")}function om(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];mu(i),o.contentQueries(2,e[s],s)}}}function ga(t,e,n,r,i,s,o,a,l,u,c){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==c||t&&1024&t[2])&&(d[2]|=1024),qf(d),d[3]=d[15]=t,d[8]=n,d[10]=o||t&&t[10],d[11]=a||t&&t[11],d[12]=l||t&&t[12]||null,d[9]=u||t&&t[9]||null,d[6]=s,d[20]=function Qb(){return Yb++}(),d[21]=c,d[16]=2==e.type?t[16]:d,d}function Ci(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Pc(t,e,n,r,i){const s=Zf(),o=hu(),l=t.data[e]=function _E(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(t,e,n,r,i),function ZD(){return Y.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function ls(){const t=Y.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return hn(s,!0),s}function Di(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ma(t,e,n){vu(e);try{const r=t.viewQuery;null!==r&&Vc(1,r,n);const i=t.template;null!==i&&am(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&om(t,e),t.staticViewQueries&&Vc(2,t.viewQuery,n);const s=t.components;null!==s&&function gE(t,e){for(let n=0;n<e.length;n++)NE(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,yu()}}function Ps(t,e,n,r){const i=e[2];if(128!=(128&i)){vu(e);try{qf(e),function Xf(t){return Y.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&am(t,e,n,2,r);const o=3==(3&i);if(o){const u=t.preOrderCheckHooks;null!==u&&Ho(e,u,null)}else{const u=t.preOrderHooks;null!==u&&Uo(e,u,0,null),_u(e,0)}if(function OE(t){for(let e=sc(t);null!==e;e=oc(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(512&i[2])&&du(s,1),i[2]|=512}}}(e),function RE(t){for(let e=sc(t);null!==e;e=oc(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];Bo(r)&&Ps(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&om(t,e),o){const u=t.contentCheckHooks;null!==u&&Ho(e,u)}else{const u=t.contentHooks;null!==u&&Uo(e,u,1),_u(e,1)}!function fE(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Qn(~i);else{const s=i,o=n[++r],a=n[++r];XD(o,s),a(2,e[s])}}}finally{Qn(-1)}}(t,e);const a=t.components;null!==a&&function pE(t,e){for(let n=0;n<e.length;n++)kE(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&Vc(2,l,r),o){const u=t.viewCheckHooks;null!==u&&Ho(e,u)}else{const u=t.viewHooks;null!==u&&Uo(e,u,2),_u(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,du(e[3],-1))}finally{yu()}}}function mE(t,e,n,r){const i=e[10],o=function Wf(t){return 4==(4&t[2])}(e);try{!o&&i.begin&&i.begin(),o&&ma(t,e,r),Ps(t,e,n,r)}finally{!o&&i.end&&i.end()}}function am(t,e,n,r,i){const s=ft(),o=2&r;try{Qn(-1),o&&e.length>22&&Bg(t,e,22,!1),n(r,i)}finally{Qn(s)}}function Rc(t,e,n){!Qf()||(function SE(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||ds(n,e),at(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const l=t.data[a],u=Yt(l);u&&TE(e,n,l);const c=hs(e,t,a,n);at(c,e),null!==o&&AE(0,a-i,c,l,0,o),u&&(At(n.index,e)[8]=c)}}(t,e,n,Vt(n,e)),128==(128&n.flags)&&function EE(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function KD(){return Y.lFrame.currentDirectiveIndex}();try{Qn(s);for(let a=r;a<i;a++){const l=t.data[a],u=e[a];pu(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&gm(l,u)}}finally{Qn(-1),pu(o)}}(t,e,n))}function Oc(t,e,n=Vt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function um(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=kc(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function kc(t,e,n,r,i,s,o,a,l,u){const c=22+r,d=c+i,h=function vE(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Z);return n}(c,d),p="function"==typeof u?u():u;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1}}function dm(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function hm(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,l=null;for(let u=e.directiveStart;u<r;u++){const c=i[u],d=c.inputs,h=null===s||Ng(e)?null:PE(d,s);o.push(h),a=dm(d,u,a),l=dm(c.outputs,u,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=l}function fm(t,e){const n=At(e,t);16&n[2]||(n[2]|=32)}function Nc(t,e,n,r){let i=!1;if(Qf()){const s=function ME(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];Fg(n,o.selectors,!1)&&(i||(i=[]),qo(ds(n,e),t,o.type),Yt(o)?(mm(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,vm(n,t.data.length,s.length);for(let c=0;c<s.length;c++){const d=s[c];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,u=Di(t,e,s.length,null);for(let c=0;c<s.length;c++){const d=s[c];n.mergedAttrs=$o(n.mergedAttrs,d.hostAttrs),ym(t,n,e,u,d),xE(u,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),l=!0),u++}hm(t,n)}o&&function IE(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new O(-301,!1);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=$o(n.mergedAttrs,n.attrs),i}function pm(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const l=~e.index;(function bE(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=l&&a.push(l),a.push(r,i,o)}}function gm(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function mm(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function xE(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Yt(e)&&(n[""]=t)}}function vm(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ym(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Mr(i.type)),o=new us(s,Yt(i),V);t.blueprint[r]=o,n[r]=o,pm(t,e,0,r,Di(t,n,i.hostVars,Z),i)}function TE(t,e,n){const r=Vt(e,t),i=um(n),s=t[10],o=va(t,ga(t,i,null,n.onPush?32:16,r,e,s,s.createRenderer(r,n),null,null,null));t[e.index]=o}function AE(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const u=o[l++],c=o[l++],d=o[l++];null!==a?r.setInput(n,d,u,c):n[c]=d}}}function PE(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function _m(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function kE(t,e){const n=At(e,t);if(Bo(n)){const r=n[1];48&n[2]?Ps(r,n,r.template,n[8]):n[5]>0&&Lc(n)}}function Lc(t){for(let r=sc(t);null!==r;r=oc(r))for(let i=10;i<r.length;i++){const s=r[i];if(Bo(s))if(512&s[2]){const o=s[1];Ps(o,s,o.template,s[8])}else s[5]>0&&Lc(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=At(n[r],t);Bo(i)&&i[5]>0&&Lc(i)}}function NE(t,e){const n=At(e,t),r=n[1];(function FE(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),ma(r,n,n[8])}function va(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Bc(t){for(;t;){t[2]|=32;const e=Ts(t);if(PD(t)&&!e)return t;t=e}return null}function Dm(t){!function Cm(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=nc(n);if(null!==r){const i=r[1];mE(i,r,i.template,n)}}}(t[8])}function Vc(t,e,n){mu(0),e(t,n)}const BE=(()=>Promise.resolve(null))();function wm(t){return t[7]||(t[7]=[])}function bm(t){return t.cleanup||(t.cleanup=[])}function Em(t,e){const n=t[9],r=n?n.get(mi,null):null;r&&r.handleError(e)}function Hc(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=e[o],u=t.data[o];null!==u.setInput?u.setInput(l,i,r,a):l[a]=i}}function Rn(t,e,n){const r=function Lo(t,e){return je(e[t])}(e,t);!function yg(t,e,n){t.setValue(e,n)}(t[11],r,n)}function ya(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Ql(i,a):2==s&&(r=Ql(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function _a(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(je(s)),qt(s))for(let a=10;a<s.length;a++){const l=s[a],u=l[1].firstChild;null!==u&&_a(l[1],l,u,r)}const o=n.type;if(8&o)_a(t,e,n.child,r);else if(32&o){const a=ic(n,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=Tg(e,n);if(Array.isArray(a))r.push(...a);else{const l=Ts(e[16]);_a(l[1],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Rs{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return _a(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(qt(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(uc(e,r),Qo(n,r))}this._attachedToViewContainer=!1}Cg(this._lView[1],this._lView)}onDestroy(e){!function cm(t,e,n,r){const i=wm(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&bm(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){Bc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function jc(t,e,n){const r=e[10];r.begin&&r.begin();try{Ps(t,e,t.template,n)}catch(i){throw Em(e,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new O(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function vS(t,e){As(t,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new O(902,!1);this._appRef=e}}class jE extends Rs{constructor(e){super(e),this._view=e}detectChanges(){Dm(this._view)}checkNoChanges(){}get context(){return null}}class Uc extends Is{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ve(e);return new Os(n,this.ngModule)}}function Mm(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class HE{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){const i=this.injector.get(e,qu,r);return i!==qu||n===qu?i:this.parentInjector.get(e,n,r)}}class Os extends tg{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function LS(t){return t.map(FS).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return Mm(this.componentDef.inputs)}get outputs(){return Mm(this.componentDef.outputs)}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Kn?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new HE(e,s):e,a=o.get(rg,null);if(null===a)throw new O(407,!1);const l=o.get(Nb,null),u=a.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",d=r?function yE(t,e,n){return t.selectRootElement(e,n===dn.ShadowDom)}(u,r,this.componentDef.encapsulation):lc(a.createRenderer(null,this.componentDef),c,function VE(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),h=this.componentDef.onPush?288:272,p=function WE(t,e){return{components:[],scheduler:t||sS,clean:BE,playerHandler:e||null,flags:0}}(),f=kc(0,null,null,1,0,null,null,null,null,null),m=ga(null,f,p,h,null,null,a,u,l,o,null);let g,_;vu(m);try{const C=function $E(t,e,n,r,i,s){const o=n[1];n[22]=t;const l=Ci(o,22,2,"#host",null),u=l.mergedAttrs=e.hostAttrs;null!==u&&(ya(l,u,!0),null!==t&&(Go(i,t,u),null!==l.classes&&pc(i,t,l.classes),null!==l.styles&&Rg(i,t,l.styles)));const c=r.createRenderer(t,e),d=ga(n,um(e),null,e.onPush?32:16,n[22],l,r,c,s||null,null,null);return o.firstCreatePass&&(qo(ds(l,n),o,e.type),mm(o,l),vm(l,n.length,1)),va(n,d),n[22]=d}(d,this.componentDef,m,a,u);if(d)if(r)Go(u,d,["ng-version",Fb.full]);else{const{attrs:y,classes:w}=function BS(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Qt(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);y&&Go(u,d,y),w&&w.length>0&&pc(u,d,w.join(" "))}if(_=cu(f,22),void 0!==n){const y=_.projection=[];for(let w=0;w<this.ngContentSelectors.length;w++){const S=n[w];y.push(null!=S?Array.from(S):null)}}g=function zE(t,e,n,r,i){const s=n[1],o=function wE(t,e,n){const r=We();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ym(t,r,e,Di(t,e,1,null),n),hm(t,r));const i=hs(e,t,r.directiveStart,r);at(i,e);const s=Vt(r,e);return s&&at(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,null!==i)for(const l of i)l(o,e);if(e.contentQueries){const l=We();e.contentQueries(1,o,l.directiveStart)}const a=We();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Qn(a.index),pm(n[1],a,0,a.directiveStart,a.directiveEnd,e),gm(e,o)),o}(C,this.componentDef,m,p,[qE]),ma(f,m,null)}finally{yu()}return new GE(this.componentType,g,gi(_,m),m,_)}}class GE extends class Tb{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new jE(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;Hc(s[1],s,i,e,n),fm(s,this._tNode.index)}}get injector(){return new si(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function qE(){const t=We();Vo(b()[1],t)}function lt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function kr(t,e,n,r,i,s,o,a){const l=b(),u=ae(),c=t+22,d=u.firstCreatePass?function o2(t,e,n,r,i,s,o,a,l){const u=e.consts,c=Ci(e,t,4,o||null,Yn(u,a));Nc(e,n,c,Yn(u,l)),Vo(e,c);const d=c.tViews=kc(2,c,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(c,u,l,e,n,r,i,s,o):u.data[c];hn(d,!1);const h=l[11].createComment("");ua(u,l,h,d),at(h,l),va(l,l[c]=_m(h,l,h,d)),Fo(d)&&Rc(u,l,d),null!=o&&Oc(l,d,a)}function rr(t){return function ti(t,e){return t[e]}(function QD(){return Y.lFrame.contextLView}(),22+t)}function ir(t,e,n){const r=b();return lt(r,ni(),e)&&function Ot(t,e,n,r,i,s,o,a){const l=Vt(e,n);let c,u=e.inputs;!a&&null!=u&&(c=u[r])?(Hc(t,n,c,r,i),No(e)&&fm(n,e.index)):3&e.type&&(r=function CE(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}(ae(),function ke(){const t=Y.lFrame;return cu(t.tView,t.selectedIndex)}(),r,t,e,r[11],n,!1),ir}function Wc(t,e,n,r,i){const o=i?"class":"style";Hc(t,n,e.inputs[o],o,r)}function T(t,e,n,r){const i=b(),s=ae(),o=22+t,a=i[11],l=i[o]=lc(a,e,function iw(){return Y.lFrame.currentNamespace}()),u=s.firstCreatePass?function l2(t,e,n,r,i,s,o){const a=e.consts,u=Ci(e,t,2,i,Yn(a,s));return Nc(e,n,u,Yn(a,o)),null!==u.attrs&&ya(u,u.attrs,!1),null!==u.mergedAttrs&&ya(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];hn(u,!0);const c=u.mergedAttrs;null!==c&&Go(a,l,c);const d=u.classes;null!==d&&pc(a,l,d);const h=u.styles;return null!==h&&Rg(a,l,h),64!=(64&u.flags)&&ua(s,i,l,u),0===function $D(){return Y.lFrame.elementDepthCount}()&&at(l,i),function zD(){Y.lFrame.elementDepthCount++}(),Fo(u)&&(Rc(s,i,u),function lm(t,e,n){if(su(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,u,i)),null!==r&&Oc(i,u),T}function F(){let t=We();hu()?function fu(){Y.lFrame.isParent=!1}():(t=t.parent,hn(t,!1));const e=t;!function WD(){Y.lFrame.elementDepthCount--}();const n=ae();return n.firstCreatePass&&(Vo(n,t),su(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function uw(t){return 0!=(16&t.flags)}(e)&&Wc(n,e,b(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function cw(t){return 0!=(32&t.flags)}(e)&&Wc(n,e,b(),e.stylesWithoutHost,!1),F}function oe(t,e,n,r){return T(t,e,n,r),F(),oe}function wa(t){return!!t&&"function"==typeof t.then}const Hm=function Vm(t){return!!t&&"function"==typeof t.subscribe};function vn(t,e,n,r){const i=b(),s=ae(),o=We();return function Gm(t,e,n,r,i,s,o,a){const l=Fo(r),c=t.firstCreatePass&&bm(t),d=e[8],h=wm(e);let p=!0;if(3&r.type||a){const g=Vt(r,e),_=a?a(g):g,C=h.length,y=a?S=>a(je(S[r.index])):r.index;let w=null;if(!a&&l&&(w=function c2(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==w)(w.__ngLastListenerFn__||w).__ngNextListenerFn__=s,w.__ngLastListenerFn__=s,p=!1;else{s=zm(r,e,d,s,!1);const S=n.listen(_,i,s);h.push(s,S),c&&c.push(i,y,C,C+1)}}else s=zm(r,e,d,s,!1);const f=r.outputs;let m;if(p&&null!==f&&(m=f[i])){const g=m.length;if(g)for(let _=0;_<g;_+=2){const E=e[m[_]][m[_+1]].subscribe(s),N=h.length;h.push(s,E),c&&c.push(i,r.index,N,-(N+1))}}}(s,i,i[11],o,t,e,0,r),vn}function $m(t,e,n,r){try{return!1!==n(r)}catch(i){return Em(t,i),!1}}function zm(t,e,n,r,i){return function s(o){if(o===Function)return r;Bc(2&t.flags?At(t.index,e):e);let l=$m(e,0,r,o),u=s.__ngNextListenerFn__;for(;u;)l=$m(e,0,u,o)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function ce(t,e=""){const n=b(),r=ae(),i=t+22,s=r.firstCreatePass?Ci(r,i,1,e,null):r.data[i],o=n[i]=function ac(t,e){return t.createText(e)}(n[11],e);ua(r,n,o,s),hn(s,!1)}function Sa(t,e,n){const r=b(),i=function bi(t,e,n,r){return lt(t,ni(),n)?e+Q(n)+r:Z}(r,t,e,n);return i!==Z&&Rn(r,ft(),i),Sa}const Oi="en-US";let Bv=Oi;class Fr{}class d0{}class h0 extends Fr{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Uc(this);const r=xt(e);this._bootstrapComponents=An(r.bootstrap),this._r3Injector=Gg(e,n,[{provide:Fr,useValue:this},{provide:Is,useValue:this.componentFactoryResolver}],we(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class rd extends d0{constructor(e){super(),this.moduleType=e}create(e){return new h0(this.moduleType,e)}}class JM extends Fr{constructor(e,n,r){super(),this.componentFactoryResolver=new Uc(this),this.instance=null;const i=new Jp([...e,{provide:Fr,useValue:this},{provide:Is,useValue:this.componentFactoryResolver}],n||sa(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Ta(t,e,n=null){return new JM(t,e,n).injector}function sd(t){return e=>{setTimeout(t,void 0,e)}}const mt=class II extends un{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=sd(s),i&&(i=sd(i)),o&&(o=sd(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ft&&e.add(a),a}};let On=(()=>{class t{}return t.__NG_ELEMENT_ID__=PI,t})();const TI=On,AI=class extends TI{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e,n){const r=this._declarationTContainer.tViews,i=ga(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,n||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),ma(r,i,e),new Rs(i)}};function PI(){return function Aa(t,e){return 4&t.type?new AI(e,t,gi(t,e)):null}(We(),b())}let en=(()=>{class t{}return t.__NG_ELEMENT_ID__=RI,t})();function RI(){return function M0(t,e){let n;const r=e[t.index];if(qt(r))n=r;else{let i;if(8&t.type)i=je(r);else{const s=e[11];i=s.createComment("");const o=Vt(t,e);Pr(s,la(s,o),i,function SS(t,e){return t.nextSibling(e)}(s,o),!1)}e[t.index]=n=_m(r,e,i,t),va(e,n)}return new S0(n,t,e)}(We(),b())}const OI=en,S0=class extends OI{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return gi(this._hostTNode,this._hostLView)}get injector(){return new si(this._hostTNode,this._hostLView)}get parentInjector(){const e=Wo(this._hostTNode,this._hostLView);if(up(e)){const n=ii(e,this._hostLView),r=ri(e);return new si(n[1].data[r+8],n)}return new si(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=E0(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(n||{},s);return this.insert(o,i),o}createComponent(e,n,r,i,s){const o=e&&!function gs(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const l=o?e:new Os(ve(e)),u=r||this.parentInjector;if(!s&&null==l.ngModule){const h=(o?u:this.parentInjector).get(Kn,null);h&&(s=h)}const c=l.create(u,i,void 0,s);return this.insert(c.hostView,a),c}insert(e,n){const r=e._lView,i=r[1];if(function GD(t){return qt(t[3])}(r)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const d=r[3],h=new S0(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function _S(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],Cp(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function CS(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=64}(i,r,o,s);const a=hc(s,o),l=r[11],u=la(l,o[7]);return null!==u&&function mS(t,e,n,r,i,s){r[0]=i,r[6]=e,As(t,r,n,1,i,s)}(i,o[6],l,r,u,a),e.attachToViewContainerRef(),Cp(ad(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=E0(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=uc(this._lContainer,n);r&&(Qo(ad(this._lContainer),n),Cg(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=uc(this._lContainer,n);return r&&null!=Qo(ad(this._lContainer),n)?new Rs(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function E0(t){return t[8]}function ad(t){return t[8]||(t[8]=[])}function Ra(...t){}const Oa=new X("Application Initializer");let ka=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Ra,this.reject=Ra,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(wa(s))n.push(s);else if(Hm(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(U(Oa,8))},t.\u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const $s=new X("AppId",{providedIn:"root",factory:function Z0(){return`${Cd()}${Cd()}${Cd()}`}});function Cd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const X0=new X("Platform Initializer"),K0=new X("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),J0=new X("appBootstrapListener");let ux=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const kn=new X("LocaleId",{providedIn:"root",factory:()=>Le(kn,z.Optional|z.SkipSelf)||function cx(){return typeof $localize<"u"&&$localize.locale||Oi}()});class hx{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let Dd=(()=>{class t{compileModuleSync(n){return new rd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=An(xt(n).declarations).reduce((o,a)=>{const l=ve(a);return l&&o.push(new Os(l)),o},[]);return new hx(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const gx=(()=>Promise.resolve(0))();function wd(t){typeof Zone>"u"?gx.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class He{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new mt(!1),this.onMicrotaskEmpty=new mt(!1),this.onStable=new mt(!1),this.onError=new mt(!1),typeof Zone>"u")throw new O(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const s=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new s("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function mx(){let t=_e.requestAnimationFrame,e=_e.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function _x(t){const e=()=>{!function yx(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(_e,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Sd(t),t.isCheckStableRunning=!0,bd(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Sd(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return ny(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),ry(t)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return ny(t),n.invoke(i,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),ry(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Sd(t),bd(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!He.isInAngularZone())throw new O(909,!1)}static assertNotInAngularZone(){if(He.isInAngularZone())throw new O(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,vx,Ra,Ra);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const vx={};function bd(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Sd(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function ny(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ry(t){t._nesting--,bd(t)}class Cx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new mt,this.onMicrotaskEmpty=new mt,this.onStable=new mt,this.onError=new mt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const iy=new X(""),Na=new X("");let Id,Ed=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Id||(function Dx(t){Id=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{He.assertNotInAngularZone(),wd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())wd(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(U(He),U(Md),U(Na))},t.\u0275prov=te({token:t,factory:t.\u0275fac}),t})(),Md=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Id?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),sr=null;const sy=new X("AllowMultipleToken"),xd=new X("PlatformDestroyListeners");class oy{constructor(e,n){this.name=e,this.token=n}}function ly(t,e,n=[]){const r=`Platform: ${e}`,i=new X(r);return(s=[])=>{let o=Td();if(!o||o.injector.get(sy,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function Sx(t){if(sr&&!sr.get(sy,!1))throw new O(400,!1);sr=t;const e=t.get(cy);(function ay(t){const e=t.get(X0,null);e&&e.forEach(n=>n())})(t)}(function uy(t=[],e){return Zt.create({name:e,providers:[{provide:Gu,useValue:"platform"},{provide:xd,useValue:new Set([()=>sr=null])},...t]})}(a,r))}return function Mx(t){const e=Td();if(!e)throw new O(401,!1);return e}()}}function Td(){return sr?.get(cy)??null}let cy=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function Ix(t,e){let n;return n="noop"===t?new Cx:("zone.js"===t?void 0:t)||new He(e),n}(r?.ngZone,function dy(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:He,useValue:i}];return i.run(()=>{const o=Zt.create({providers:s,parent:this.injector,name:n.moduleType.name}),a=n.create(o),l=a.injector.get(mi,null);if(!l)throw new O(402,!1);return i.runOutsideAngular(()=>{const u=i.onError.subscribe({next:c=>{l.handleError(c)}});a.onDestroy(()=>{La(this._modules,a),u.unsubscribe()})}),function hy(t,e,n){try{const r=n();return wa(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(l,i,()=>{const u=a.injector.get(ka);return u.runInitializers(),u.donePromise.then(()=>(function jv(t){It(t,"Expected localeId to be defined"),"string"==typeof t&&(Bv=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(kn,Oi)||Oi),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=fy({},r);return function wx(t,e,n){const r=new rd(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Fa);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new O(403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new O(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(xd,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(U(Zt))},t.\u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function fy(t,e){return Array.isArray(e)?e.reduce(fy,t):{...t,...e}}let Fa=(()=>{class t{constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new $e(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new $e(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{He.assertNotInAngularZone(),wd(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{He.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),u.unsubscribe()}});this.isStable=function fD(...t){const e=ns(t),n=function oD(t,e){return"number"==typeof Wl(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?cn(r[0]):Qr(n)(ze(r,e)):Sn}(s,o.pipe(function pD(t={}){const{connector:e=(()=>new un),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,l,u=0,c=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},p=()=>{h(),o=l=void 0,c=d=!1},f=()=>{const m=o;p(),m?.unsubscribe()};return Ke((m,g)=>{u++,!d&&!c&&h();const _=l=l??e();g.add(()=>{u--,0===u&&!d&&!c&&(a=ql(f,i))}),_.subscribe(g),!o&&u>0&&(o=new ts({next:C=>_.next(C),error:C=>{d=!0,h(),a=ql(p,n,C),_.error(C)},complete:()=>{c=!0,h(),a=ql(p,r),_.complete()}}),cn(m).subscribe(o))})(s)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof tg;if(!this._injector.get(ka).done)throw!i&&function Fi(t){const e=ve(t)||ct(t)||dt(t);return null!==e&&e.standalone}(n),new O(405,false);let o;o=i?n:this._injector.get(Is).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function bx(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Fr),u=o.create(Zt.NULL,[],r||o.selector,a),c=u.location.nativeElement,d=u.injector.get(iy,null);return d?.registerApplication(c),u.onDestroy(()=>{this.detachView(u.hostView),La(this.components,u),d?.unregisterApplication(c)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new O(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;La(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(J0,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>La(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new O(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)(U(He),U(Kn),U(mi))},t.\u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function La(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let gy=!0,Ad=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ax,t})();function Ax(t){return function Px(t,e,n){if(No(t)&&!n){const r=At(t.index,e);return new Rs(r,r)}return 47&t.type?new Rs(e[16],e):null}(We(),b(),16==(16&t))}const $x=ly(null,"core",[]);let zx=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(U(Fa))},t.\u0275mod=Dr({type:t}),t.\u0275inj=Wn({}),t})(),Ha=null;function or(){return Ha}const wt=new X("DocumentToken");let Nd=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=te({token:t,factory:function(){return function Qx(){return U(My)}()},providedIn:"platform"}),t})();const Zx=new X("Location Initialized");let My=(()=>{class t extends Nd{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return or().getBaseHref(this._doc)}onPopState(n){const r=or().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=or().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){Iy()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){Iy()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(U(wt))},t.\u0275prov=te({token:t,factory:function(){return function Xx(){return new My(U(wt))}()},providedIn:"platform"}),t})();function Iy(){return!!window.history.pushState}function Fd(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function xy(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Fn(t){return t&&"?"!==t[0]?"?"+t:t}let Br=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=te({token:t,factory:function(){return Le(Ay)},providedIn:"root"}),t})();const Ty=new X("appBaseHref");let Ay=(()=>{class t extends Br{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Le(wt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Fd(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Fn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Fn(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Fn(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(U(Nd),U(Ty,8))},t.\u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Kx=(()=>{class t extends Br{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Fd(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Fn(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Fn(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(U(Nd),U(Ty,8))},t.\u0275prov=te({token:t,factory:t.\u0275fac}),t})(),Ld=(()=>{class t{constructor(n){this._subject=new mt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._baseHref=xy(Py(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Fn(r))}normalize(n){return t.stripTrailingSlash(function eT(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Py(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Fn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Fn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=Fn,t.joinWithSlash=Fd,t.stripTrailingSlash=xy,t.\u0275fac=function(n){return new(n||t)(U(Br))},t.\u0275prov=te({token:t,factory:function(){return function Jx(){return new Ld(U(Br))}()},providedIn:"root"}),t})();function Py(t){return t.replace(/\/index.html$/,"")}class qd{constructor(e,n){this._viewContainerRef=e,this._templateRef=n,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Xa=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(n)}_matchCase(n){const r=n==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(n){if(this._defaultViews&&n!==this._defaultUsed){this._defaultUsed=n;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(n)}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=it({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),t})(),$y=(()=>{class t{constructor(n,r,i){this.ngSwitch=i,i._addCase(),this._view=new qd(n,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(n){return new(n||t)(V(en),V(On),V(Xa,9))},t.\u0275dir=it({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),t})(),zy=(()=>{class t{constructor(n,r,i){i._addDefault(new qd(n,r))}}return t.\u0275fac=function(n){return new(n||t)(V(en),V(On),V(Xa,9))},t.\u0275dir=it({type:t,selectors:[["","ngSwitchDefault",""]],standalone:!0}),t})(),gA=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Dr({type:t}),t.\u0275inj=Wn({}),t})();let _A=(()=>{class t{}return t.\u0275prov=te({token:t,providedIn:"root",factory:()=>new CA(U(wt),window)}),t})();class CA{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function DA(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Qy(this.window.history)||Qy(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Qy(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Zd extends class bA extends class Yx{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function qx(t){Ha||(Ha=t)}(new Zd)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function SA(){return Ys=Ys||document.querySelector("base"),Ys?Ys.getAttribute("href"):null}();return null==n?null:function EA(t){Ka=Ka||document.createElement("a"),Ka.setAttribute("href",t);const e=Ka.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Ys=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function LT(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Ka,Ys=null;const Zy=new X("TRANSITION_ID"),IA=[{provide:Oa,useFactory:function MA(t,e,n){return()=>{n.get(ka).donePromise.then(()=>{const r=or(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[Zy,wt,Zt],multi:!0}];let TA=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=te({token:t,factory:t.\u0275fac}),t})();const Ja=new X("EventManagerPlugins");let el=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(U(Ja),U(He))},t.\u0275prov=te({token:t,factory:t.\u0275fac}),t})();class Xy{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=or().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let Ky=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=te({token:t,factory:t.\u0275fac}),t})(),Qs=(()=>{class t extends Ky{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(Jy),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(Jy))}}return t.\u0275fac=function(n){return new(n||t)(U(wt))},t.\u0275prov=te({token:t,factory:t.\u0275fac}),t})();function Jy(t){or().remove(t)}const Xd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Kd=/%COMP%/g;function tl(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?tl(t,i,n):(i=i.replace(Kd,t),n.push(i))}return n}function n_(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Jd=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new eh(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case dn.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new NA(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case dn.ShadowDom:return new FA(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=tl(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(U(el),U(Qs),U($s))},t.\u0275prov=te({token:t,factory:t.\u0275fac}),t})();class eh{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(Xd[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(i_(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(i_(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Xd[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Xd[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Dt.DashCase|Dt.Important)?e.style.setProperty(n,r,i&Dt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Dt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,n_(r)):this.eventManager.addEventListener(e,n,n_(r))}}function i_(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class NA extends eh{constructor(e,n,r,i){super(e),this.component=r;const s=tl(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr=function RA(t){return"_ngcontent-%COMP%".replace(Kd,t)}(i+"-"+r.id),this.hostAttr=function OA(t){return"_nghost-%COMP%".replace(Kd,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class FA extends eh{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=tl(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let LA=(()=>{class t extends Xy{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(U(wt))},t.\u0275prov=te({token:t,factory:t.\u0275fac}),t})();const s_=["alt","control","meta","shift"],jA={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},o_={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},VA={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let HA=(()=>{class t extends Xy{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>or().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="";if(s_.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(n){let r="",i=function UA(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&o_.hasOwnProperty(e)&&(e=o_[e]))}return jA[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),s_.forEach(s=>{s!=i&&(0,VA[s])(n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{t.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(U(wt))},t.\u0275prov=te({token:t,factory:t.\u0275fac}),t})();const WA=ly($x,"browser",[{provide:K0,useValue:"browser"},{provide:X0,useValue:function GA(){Zd.makeCurrent()},multi:!0},{provide:wt,useFactory:function zA(){return function Ww(t){Ru=t}(document),document},deps:[]}]),l_=new X(""),u_=[{provide:Na,useClass:class xA{addToWindow(e){_e.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},_e.getAllAngularTestabilities=()=>e.getAllTestabilities(),_e.getAllAngularRootElements=()=>e.getAllRootElements(),_e.frameworkStabilizers||(_e.frameworkStabilizers=[]),_e.frameworkStabilizers.push(r=>{const i=_e.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?or().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:iy,useClass:Ed,deps:[He,Md,Na]},{provide:Ed,useClass:Ed,deps:[He,Md,Na]}],c_=[{provide:Gu,useValue:"root"},{provide:mi,useFactory:function $A(){return new mi},deps:[]},{provide:Ja,useClass:LA,multi:!0,deps:[wt,He,K0]},{provide:Ja,useClass:HA,multi:!0,deps:[wt]},{provide:Jd,useClass:Jd,deps:[el,Qs,$s]},{provide:rg,useExisting:Jd},{provide:Ky,useExisting:Qs},{provide:Qs,useClass:Qs,deps:[wt]},{provide:el,useClass:el,deps:[Ja,He]},{provide:class wA{},useClass:TA,deps:[]},[]];let qA=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:$s,useValue:n.appId},{provide:Zy,useExisting:$s},IA]}}}return t.\u0275fac=function(n){return new(n||t)(U(l_,12))},t.\u0275mod=Dr({type:t}),t.\u0275inj=Wn({providers:[...c_,...u_],imports:[gA,zx]}),t})(),d_=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(U(wt))},t.\u0275prov=te({token:t,factory:function(n){let r=null;return r=n?new n:function QA(){return new d_(U(wt))}(),r},providedIn:"root"}),t})();function $(...t){return ze(t,ns(t))}typeof window<"u"&&window;class sn extends un{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const nl=Ji(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:rP}=Array,{getPrototypeOf:iP,prototype:sP,keys:oP}=Object;const{isArray:uP}=Array;function p_(...t){const e=ns(t),n=function sD(t){return Se(Wl(t))?t.pop():void 0}(t),{args:r,keys:i}=function aP(t){if(1===t.length){const e=t[0];if(rP(e))return{args:e,keys:null};if(function lP(t){return t&&"object"==typeof t&&iP(t)===sP}(e)){const n=oP(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return ze([],e);const s=new $e(function fP(t,e,n=_r){return r=>{g_(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)g_(e,()=>{const u=ze(t[l],e);let c=!1;u.subscribe(Je(r,d=>{s[l]=d,c||(c=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>function hP(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,o):_r));return n?s.pipe(function dP(t){return ue(e=>function cP(t,e){return uP(e)?t(...e):t(e)}(t,e))}(n)):s}function g_(t,e,n){t?bn(n,t,e):e()}function rh(...t){return function pP(){return Qr(1)}()(ze(t,ns(t)))}function m_(t){return new $e(e=>{cn(t()).subscribe(e)})}function Zs(t,e){const n=Se(t)?t:()=>t,r=i=>i.error(n());return new $e(e?i=>e.schedule(r,0,i):r)}function ih(){return Ke((t,e)=>{let n=null;t._refCount++;const r=Je(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class v_ extends $e{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,mf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ft;const n=this.getSubject();e.add(this.source.subscribe(Je(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ft.EMPTY)}return e}refCount(){return ih()(this)}}function Cn(t,e){return Ke((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(Je(r,l=>{i?.unsubscribe();let u=0;const c=s++;cn(t(l,c)).subscribe(i=Je(r,d=>r.next(e?e(l,d,c,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Xs(t){return t<=0?()=>Sn:Ke((e,n)=>{let r=0;e.subscribe(Je(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function lr(t,e){return Ke((n,r)=>{let i=0;n.subscribe(Je(r,s=>t.call(e,s,i++)&&r.next(s)))})}function rl(t){return Ke((e,n)=>{let r=!1;e.subscribe(Je(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function y_(t=mP){return Ke((e,n)=>{let r=!1;e.subscribe(Je(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function mP(){return new nl}function ur(t,e){const n=arguments.length>=2;return r=>r.pipe(t?lr((i,s)=>t(i,s,r)):_r,Xs(1),n?rl(e):y_(()=>new nl))}function jr(t,e){return Se(e)?nt(t,e,1):nt(t,1)}function ut(t,e,n){const r=Se(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ke((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Je(s,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),s.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):_r}function cr(t){return Ke((e,n)=>{let s,r=null,i=!1;r=e.subscribe(Je(n,void 0,void 0,o=>{s=cn(t(o,cr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function vP(t,e,n,r,i){return(s,o)=>{let a=n,l=e,u=0;s.subscribe(Je(o,c=>{const d=u++;l=a?t(l,c,d):(a=!0,c),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function __(t,e){return Ke(vP(t,e,arguments.length>=2,!0))}function sh(t){return t<=0?()=>Sn:Ke((e,n)=>{let r=[];e.subscribe(Je(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function C_(t,e){const n=arguments.length>=2;return r=>r.pipe(t?lr((i,s)=>t(i,s,r)):_r,sh(1),n?rl(e):y_(()=>new nl))}function oh(t){return Ke((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const re="primary";class CP{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function ji(t){return new CP(t)}function DP(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Dn(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!D_(t[i],e[i]))return!1;return!0}function D_(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function w_(t){return Array.prototype.concat.apply([],t)}function b_(t){return t.length>0?t[t.length-1]:null}function rt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Bn(t){return Hm(t)?t:wa(t)?ze(Promise.resolve(t)):$(t)}const SP={exact:function M_(t,e,n){if(!Hr(t.segments,e.segments)||!il(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!M_(t.children[r],e.children[r],n))return!1;return!0},subset:I_},S_={exact:function EP(t,e){return Dn(t,e)},subset:function MP(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>D_(t[n],e[n]))},ignored:()=>!0};function E_(t,e,n){return SP[n.paths](t.root,e.root,n.matrixParams)&&S_[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function I_(t,e,n){return x_(t,e,e.segments,n)}function x_(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Hr(i,n)||e.hasChildren()||!il(i,n,r))}if(t.segments.length===n.length){if(!Hr(t.segments,n)||!il(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!I_(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Hr(t.segments,i)&&il(t.segments,i,r)&&t.children[re])&&x_(t.children[re],e,s,r)}}function il(t,e,n){return e.every((r,i)=>S_[n](t[i].parameters,r.parameters))}class Vr{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ji(this.queryParams)),this._queryParamMap}toString(){return TP.serialize(this)}}class ie{constructor(e,n){this.segments=e,this.children=n,this.parent=null,rt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sl(this)}}class Ks{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=ji(this.parameters)),this._parameterMap}toString(){return R_(this)}}function Hr(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let T_=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=te({token:t,factory:function(){return new lh},providedIn:"root"}),t})();class lh{parse(e){const n=new BP(e);return new Vr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Js(e.root,!0)}`,r=function RP(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${ol(n)}=${ol(i)}`).join("&"):`${ol(n)}=${ol(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function AP(t){return encodeURI(t)}(e.fragment)}`:""}`}}const TP=new lh;function sl(t){return t.segments.map(e=>R_(e)).join("/")}function Js(t,e){if(!t.hasChildren())return sl(t);if(e){const n=t.children[re]?Js(t.children[re],!1):"",r=[];return rt(t.children,(i,s)=>{s!==re&&r.push(`${s}:${Js(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function xP(t,e){let n=[];return rt(t.children,(r,i)=>{i===re&&(n=n.concat(e(r,i)))}),rt(t.children,(r,i)=>{i!==re&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===re?[Js(t.children[re],!1)]:[`${i}:${Js(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[re]?`${sl(t)}/${n[0]}`:`${sl(t)}/(${n.join("//")})`}}function A_(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ol(t){return A_(t).replace(/%3B/gi,";")}function uh(t){return A_(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function al(t){return decodeURIComponent(t)}function P_(t){return al(t.replace(/\+/g,"%20"))}function R_(t){return`${uh(t.path)}${function PP(t){return Object.keys(t).map(e=>`;${uh(e)}=${uh(t[e])}`).join("")}(t.parameters)}`}const OP=/^[^\/()?;=#]+/;function ll(t){const e=t.match(OP);return e?e[0]:""}const kP=/^[^=?&#]+/,FP=/^[^&#]+/;class BP{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ie([],{}):new ie([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[re]=new ie(e,n)),r}parseSegment(){const e=ll(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new O(4009,!1);return this.capture(e),new Ks(al(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=ll(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=ll(this.remaining);i&&(r=i,this.capture(r))}e[al(n)]=al(r)}parseQueryParam(e){const n=function NP(t){const e=t.match(kP);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function LP(t){const e=t.match(FP);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=P_(n),s=P_(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ll(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new O(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=re);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[re]:new ie([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new O(4011,!1)}}function ch(t){return t.segments.length>0?new ie([],{[re]:t}):t}function ul(t){const e={};for(const r of Object.keys(t.children)){const s=ul(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function jP(t){if(1===t.numberOfChildren&&t.children[re]){const e=t.children[re];return new ie(t.segments.concat(e.segments),e.children)}return t}(new ie(t.segments,e))}function Ur(t){return t instanceof Vr}function UP(t,e,n,r,i){if(0===n.length)return Vi(e.root,e.root,e.root,r,i);const s=function N_(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new k_(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return rt(s.outlets,(l,u)=>{a[u]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new k_(n,e,r)}(n);return s.toRoot()?Vi(e.root,e.root,new ie([],{}),r,i):function o(l){const u=function $P(t,e,n,r){if(t.isAbsolute)return new Hi(e.root,!0,0);if(-1===r)return new Hi(n,n===e.root,0);return function F_(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new O(4005,!1);i=r.segments.length}return new Hi(r,!1,i-s)}(n,r+(eo(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,e,t.snapshot?._urlSegment,l),c=u.processChildren?no(u.segmentGroup,u.index,s.commands):hh(u.segmentGroup,u.index,s.commands);return Vi(e.root,u.segmentGroup,c,r,i)}(t.snapshot?._lastPathIndex)}function eo(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function to(t){return"object"==typeof t&&null!=t&&t.outlets}function Vi(t,e,n,r,i){let o,s={};r&&rt(r,(l,u)=>{s[u]=Array.isArray(l)?l.map(c=>`${c}`):`${l}`}),o=t===e?n:O_(t,e,n);const a=ch(ul(o));return new Vr(a,s,i)}function O_(t,e,n){const r={};return rt(t.children,(i,s)=>{r[s]=i===e?n:O_(i,e,n)}),new ie(t.segments,r)}class k_{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&eo(r[0]))throw new O(4003,!1);const i=r.find(to);if(i&&i!==b_(r))throw new O(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Hi{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function hh(t,e,n){if(t||(t=new ie([],{})),0===t.segments.length&&t.hasChildren())return no(t,e,n);const r=function WP(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(to(a))break;const l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!B_(l,u,o))return s;r+=2}else{if(!B_(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new ie(t.segments.slice(0,r.pathIndex),{});return s.children[re]=new ie(t.segments.slice(r.pathIndex),t.children),no(s,0,i)}return r.match&&0===i.length?new ie(t.segments,{}):r.match&&!t.hasChildren()?fh(t,e,n):r.match?no(t,0,i):fh(t,e,n)}function no(t,e,n){if(0===n.length)return new ie(t.segments,{});{const r=function zP(t){return to(t[0])?t[0].outlets:{[re]:t}}(n),i={};return rt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=hh(t.children[o],e,s))}),rt(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ie(t.segments,i)}}function fh(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(to(s)){const l=qP(s.outlets);return new ie(r,l)}if(0===i&&eo(n[0])){r.push(new Ks(t.segments[e].path,L_(n[0]))),i++;continue}const o=to(s)?s.outlets[re]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&eo(a)?(r.push(new Ks(o,L_(a))),i+=2):(r.push(new Ks(o,{})),i++)}return new ie(r,{})}function qP(t){const e={};return rt(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=fh(new ie([],{}),0,n))}),e}function L_(t){const e={};return rt(t,(n,r)=>e[r]=`${n}`),e}function B_(t,e,n){return t==n.path&&Dn(e,n.parameters)}class jn{constructor(e,n){this.id=e,this.url=n}}class ph extends jn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Gr extends jn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class cl extends jn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class j_ extends jn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class YP extends jn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QP extends jn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZP extends jn{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class XP extends jn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KP extends jn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JP{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class eR{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class tR{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nR{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rR{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iR{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class V_{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class H_{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=gh(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=gh(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=mh(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return mh(e,this._root).map(n=>n.value)}}function gh(t,e){if(t===e.value)return e;for(const n of e.children){const r=gh(t,n);if(r)return r}return null}function mh(t,e){if(t===e.value)return[e];for(const n of e.children){const r=mh(t,n);if(r.length)return r.unshift(e),r}return[]}class Vn{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Ui(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class U_ extends H_{constructor(e,n){super(e),this.snapshot=n,vh(this,e)}toString(){return this.snapshot.toString()}}function G_(t,e){const n=function oR(t,e){const o=new dl([],{},{},"",{},re,e,null,t.root,-1,{});return new z_("",new Vn(o,[]))}(t,e),r=new sn([new Ks("",{})]),i=new sn({}),s=new sn({}),o=new sn({}),a=new sn(""),l=new Gi(r,i,o,a,s,re,e,n.root);return l.snapshot=n.root,new U_(new Vn(l,[]),n)}class Gi{constructor(e,n,r,i,s,o,a,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ue(e=>ji(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ue(e=>ji(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $_(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function aR(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class dl{constructor(e,n,r,i,s,o,a,l,u,c,d,h){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=c,this._correctedLastPathIndex=h??c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ji(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ji(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class z_ extends H_{constructor(e,n){super(n),this.url=e,vh(this,n)}toString(){return W_(this._root)}}function vh(t,e){e.value._routerState=t,e.children.forEach(n=>vh(t,n))}function W_(t){const e=t.children.length>0?` { ${t.children.map(W_).join(", ")} } `:"";return`${t.value}${e}`}function yh(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Dn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Dn(e.params,n.params)||t.params.next(n.params),function wP(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Dn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Dn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function _h(t,e){const n=Dn(t.params,e.params)&&function IP(t,e){return Hr(t,e)&&t.every((n,r)=>Dn(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||_h(t.parent,e.parent))}function ro(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function uR(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ro(t,r,i);return ro(t,r)})}(t,e,n);return new Vn(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ro(t,a)),o}}const r=function cR(t){return new Gi(new sn(t.url),new sn(t.params),new sn(t.queryParams),new sn(t.fragment),new sn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>ro(t,s));return new Vn(r,i)}}const Ch="ngNavigationCancelingError";function q_(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Ur(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Y_(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function Y_(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Ch]=!0,r.cancellationCode=e,n&&(r.url=n),r}function Q_(t){return Z_(t)&&Ur(t.url)}function Z_(t){return t&&t[Ch]}class dR{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new io,this.attachRef=null}}let io=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new dR,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const hl=!1;let Dh=(()=>{class t{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.changeDetector=s,this.environmentInjector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new mt,this.deactivateEvents=new mt,this.attachEvents=new mt,this.detachEvents=new mt,this.name=i||re,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new O(4012,hl);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new O(4012,hl);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new O(4012,hl);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new O(4013,hl);this._activatedRoute=n;const i=this.location,o=n._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new hR(n,a,i.injector);if(r&&function fR(t){return!!t.resolveComponentFactory}(r)){const u=r.resolveComponentFactory(o);this.activated=i.createComponent(u,i.length,l)}else this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(V(io),V(en),function fs(t){return function pw(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(op(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(We(),t)}("name"),V(Ad),V(Kn))},t.\u0275dir=it({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class hR{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Gi?this.route:e===io?this.childContexts:this.parent.get(e,n)}}let X_=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=is({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&oe(0,"router-outlet")},dependencies:[Dh],encapsulation:2}),t})();function K_(t,e){return t.providers&&!t._injector&&(t._injector=Ta(t.providers,e,`Route: ${t.path}`)),t._injector??e}function bh(t){const e=t.children&&t.children.map(bh),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==re&&(n.component=X_),n}function $t(t){return t.outlet||re}function J_(t,e){const n=t.filter(r=>$t(r)===e);return n.push(...t.filter(r=>$t(r)!==e)),n}function e1(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class yR{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),yh(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Ui(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),rt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ui(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ui(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=Ui(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new iR(s.value.snapshot))}),e.children.length&&this.forwardEvent(new nR(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(yh(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),yh(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=e1(i.snapshot),l=a?.get(Is)??null;o.attachRef=null,o.route=i,o.resolver=l,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class t1{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class fl{constructor(e,n){this.component=e,this.route=n}}function _R(t,e,n){const r=t._root;return so(r,e?e._root:null,n,[r.value])}function pl(t,e,n){return(e1(e)??n).get(t)}function so(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ui(e);return t.children.forEach(o=>{(function DR(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function wR(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Hr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Hr(t.url,e.url)||!Dn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_h(t,e)||!Dn(t.queryParams,e.queryParams);default:return!_h(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new t1(r)):(s.data=o.data,s._resolvedData=o._resolvedData),so(t,e,s.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new fl(a.outlet.component,o))}else o&&oo(e,a,i),i.canActivateChecks.push(new t1(r)),so(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),rt(s,(o,a)=>oo(o,n.getContext(a),i)),i}function oo(t,e,n){const r=Ui(t),i=t.value;rt(r,(s,o)=>{oo(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new fl(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function ao(t){return"function"==typeof t}function Sh(t){return t instanceof nl||"EmptyError"===t?.name}const gl=Symbol("INITIAL_VALUE");function $i(){return Cn(t=>p_(t.map(e=>e.pipe(Xs(1),function gP(...t){const e=ns(t);return Ke((n,r)=>{(e?rh(t,n,e):rh(t,n)).subscribe(r)})}(gl)))).pipe(ue(e=>{for(const n of e)if(!0!==n){if(n===gl)return gl;if(!1===n||n instanceof Vr)return n}return!0}),lr(e=>e!==gl),Xs(1)))}function n1(t){return function jC(...t){return ff(t)}(ut(e=>{if(Ur(e))throw q_(0,e)}),ue(e=>!0===e))}const Eh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function r1(t,e,n,r,i){const s=Mh(t,e,n);return s.matched?function jR(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?$(i.map(o=>{const a=t.get(o),l=function xR(t){return t&&ao(t.canMatch)}(a)?a.canMatch(e,n):a(e,n);return Bn(l)})).pipe($i(),n1()):$(!0)}(r=K_(e,r),e,n).pipe(ue(o=>!0===o?s:{...Eh})):$(s)}function Mh(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Eh}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||DP)(n,t,e);if(!i)return{...Eh};const s={};rt(i.posParams,(a,l)=>{s[l]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function ml(t,e,n,r,i="corrected"){if(n.length>0&&function UR(t,e,n){return n.some(r=>vl(t,e,r)&&$t(r)!==re)}(t,n,r)){const o=new ie(e,function HR(t,e,n,r){const i={};i[re]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&$t(s)!==re){const o=new ie([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[$t(s)]=o}return i}(t,e,r,new ie(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function GR(t,e,n){return n.some(r=>vl(t,e,r))}(t,n,r)){const o=new ie(t.segments,function VR(t,e,n,r,i,s){const o={};for(const a of r)if(vl(t,n,a)&&!i[$t(a)]){const l=new ie([],{});l._sourceSegment=t,l._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[$t(a)]=l}return{...i,...o}}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const s=new ie(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function vl(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function i1(t,e,n,r){return!!($t(t)===r||r!==re&&vl(e,n,t))&&("**"===t.path||Mh(e,t,n).matched)}function s1(t,e,n){return 0===e.length&&!t.children[n]}const yl=!1;class _l{constructor(e){this.segmentGroup=e||null}}class o1{constructor(e){this.urlTree=e}}function lo(t){return Zs(new _l(t))}function a1(t){return Zs(new o1(t))}class qR{constructor(e,n,r,i,s){this.injector=e,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=ml(this.urlTree.root,[],[],this.config).segmentGroup,n=new ie(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,n,re).pipe(ue(s=>this.createUrlTree(ul(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(cr(s=>{if(s instanceof o1)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof _l?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,re).pipe(ue(i=>this.createUrlTree(ul(i),e.queryParams,e.fragment))).pipe(cr(i=>{throw i instanceof _l?this.noMatchError(i):i}))}noMatchError(e){return new O(4002,yl)}createUrlTree(e,n,r){const i=ch(e);return new Vr(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(ue(s=>new ie([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return ze(i).pipe(jr(s=>{const o=r.children[s],a=J_(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(ue(l=>({segment:l,outlet:s})))}),__((s,o)=>(s[o.outlet]=o.segment,s),{}),C_())}expandSegment(e,n,r,i,s,o){return ze(r).pipe(jr(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(cr(u=>{if(u instanceof _l)return $(null);throw u}))),ur(a=>!!a),cr((a,l)=>{if(Sh(a))return s1(n,i,s)?$(new ie([],{})):lo(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return i1(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):lo(n):lo(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?a1(s):this.lineralizeSegments(r,s).pipe(nt(o=>{const a=new ie(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:c}=Mh(n,i,s);if(!a)return lo(n);const d=this.applyRedirectCommands(l,i.redirectTo,c);return i.redirectTo.startsWith("/")?a1(d):this.lineralizeSegments(i,d).pipe(nt(h=>this.expandSegment(e,n,r,h.concat(u),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){return"**"===r.path?(e=K_(r,e),r.loadChildren?(r._loadedRoutes?$({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(ue(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new ie(i,{})))):$(new ie(i,{}))):r1(n,r,i,e).pipe(Cn(({matched:o,consumedSegments:a,remainingSegments:l})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(nt(c=>{const d=c.injector??e,h=c.routes,{segmentGroup:p,slicedSegments:f}=ml(n,a,l,h),m=new ie(p.segments,p.children);if(0===f.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(ue(y=>new ie(a,y)));if(0===h.length&&0===f.length)return $(new ie(a,{}));const g=$t(r)===s;return this.expandSegment(d,m,h,f,g?re:s,!0).pipe(ue(C=>new ie(a.concat(C.segments),C.children)))})):lo(n)))}getChildConfig(e,n,r){return n.children?$({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?$({routes:n._loadedRoutes,injector:n._loadedInjector}):function BR(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?$(!0):$(i.map(o=>{const a=t.get(o),l=function SR(t){return t&&ao(t.canLoad)}(a)?a.canLoad(e,n):a(e,n);return Bn(l)})).pipe($i(),n1())}(e,n,r).pipe(nt(i=>i?this.configLoader.loadChildren(e,n).pipe(ut(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function zR(t){return Zs(Y_(yl,3))}())):$({routes:[],injector:e})}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return $(r);if(i.numberOfChildren>1||!i.children[re])return Zs(new O(4e3,yl));i=i.children[re]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Vr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return rt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return rt(n.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,r,i)}),new ie(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new O(4001,yl);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}class QR{}class KR{constructor(e,n,r,i,s,o,a,l){this.injector=e,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a,this.urlSerializer=l}recognize(){const e=ml(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,re).pipe(ue(n=>{if(null===n)return null;const r=new dl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},re,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Vn(r,n),s=new z_(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const n=e.value,r=$_(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i)}processChildren(e,n,r){return ze(Object.keys(r.children)).pipe(jr(i=>{const s=r.children[i],o=J_(n,i);return this.processSegmentGroup(e,o,s,i)}),__((i,s)=>i&&s?(i.push(...s),i):null),function yP(t,e=!1){return Ke((n,r)=>{let i=0;n.subscribe(Je(r,s=>{const o=t(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),rl(null),C_(),ue(i=>{if(null===i)return null;const s=l1(i);return function JR(t){t.sort((e,n)=>e.value.outlet===re?-1:n.value.outlet===re?1:e.value.outlet.localeCompare(n.value.outlet))}(s),s}))}processSegment(e,n,r,i,s){return ze(n).pipe(jr(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),ur(o=>!!o),cr(o=>{if(Sh(o))return s1(r,i,s)?$([]):$(null);throw o}))}processSegmentAgainstRoute(e,n,r,i,s){if(n.redirectTo||!i1(n,r,i,s))return $(null);let o;if("**"===n.path){const a=i.length>0?b_(i).parameters:{},l=c1(r)+i.length;o=$({snapshot:new dl(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,h1(n),$t(n),n.component??n._loadedComponent??null,n,u1(r),l,f1(n),l),consumedSegments:[],remainingSegments:[]})}else o=r1(r,n,i,e).pipe(ue(({matched:a,consumedSegments:l,remainingSegments:u,parameters:c})=>{if(!a)return null;const d=c1(r)+l.length;return{snapshot:new dl(l,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,h1(n),$t(n),n.component??n._loadedComponent??null,n,u1(r),d,f1(n),d),consumedSegments:l,remainingSegments:u}}));return o.pipe(Cn(a=>{if(null===a)return $(null);const{snapshot:l,consumedSegments:u,remainingSegments:c}=a;e=n._injector??e;const d=n._loadedInjector??e,h=function eO(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:p,slicedSegments:f}=ml(r,u,c,h.filter(g=>void 0===g.redirectTo),this.relativeLinkResolution);if(0===f.length&&p.hasChildren())return this.processChildren(d,h,p).pipe(ue(g=>null===g?null:[new Vn(l,g)]));if(0===h.length&&0===f.length)return $([new Vn(l,[])]);const m=$t(n)===s;return this.processSegment(d,h,p,f,m?re:s).pipe(ue(g=>null===g?null:[new Vn(l,g)]))}))}}function tO(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function l1(t){const e=[],n=new Set;for(const r of t){if(!tO(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=l1(r.children);e.push(new Vn(r.value,i))}return e.filter(r=>!n.has(r))}function u1(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function c1(t){let e=t,n=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift??0;return n-1}function h1(t){return t.data||{}}function f1(t){return t.resolve||{}}const Ih=Symbol("RouteTitle");function p1(t){return"string"==typeof t.title||null===t.title}function xh(t){return Cn(e=>{const n=t(e);return n?ze(n).pipe(ue(()=>e)):$(e)})}let g1=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===re);return r}getResolvedTitleForRoute(n){return n.data[Ih]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=te({token:t,factory:function(){return Le(m1)},providedIn:"root"}),t})(),m1=(()=>{class t extends g1{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(U(d_))},t.\u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class uO{}class dO extends class cO{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const Th=new X("",{providedIn:"root",factory:()=>({})}),Ah=new X("ROUTES");let Ph=(()=>{class t{constructor(n,r){this.injector=n,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return $(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Bn(n.loadComponent()).pipe(ut(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),oh(()=>{this.componentLoaders.delete(n)})),i=new v_(r,()=>new un).pipe(ih());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return $({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(ue(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,u,c=!1;Array.isArray(a)?u=a:(l=a.create(n).injector,u=w_(l.get(Ah,[],z.Self|z.Optional)));return{routes:u.map(bh),injector:l}}),oh(()=>{this.childrenLoaders.delete(r)})),o=new v_(s,()=>new un).pipe(ih());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return Bn(n()).pipe(nt(r=>r instanceof d0||Array.isArray(r)?$(r):ze(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)(U(Zt),U(Dd))},t.\u0275prov=te({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class fO{}class pO{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function gO(t){throw t}function mO(t,e,n){return e.parse("/")}const vO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},yO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function y1(){const t=Le(T_),e=Le(io),n=Le(Ld),r=Le(Zt),i=Le(Dd),s=Le(Ah,{optional:!0})??[],o=Le(Th,{optional:!0})??{},a=Le(m1),l=Le(g1,{optional:!0}),u=Le(fO,{optional:!0}),c=Le(uO,{optional:!0}),d=new yt(null,t,e,n,r,i,w_(s));return u&&(d.urlHandlingStrategy=u),c&&(d.routeReuseStrategy=c),d.titleStrategy=l??a,function _O(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(e.canceledNavigationResolution=t.canceledNavigationResolution)}(o,d),d}let yt=(()=>{class t{constructor(n,r,i,s,o,a,l){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new un,this.errorHandler=gO,this.malformedUriErrorHandler=mO,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>$(void 0),this.urlHandlingStrategy=new pO,this.routeReuseStrategy=new dO,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=o.get(Ph),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new eR(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new JP(h)),this.ngModule=o.get(Fr),this.console=o.get(ux);const d=o.get(He);this.isNgZoneEnabled=d instanceof He&&He.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function bP(){return new Vr(new ie([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=G_(this.currentUrlTree,this.rootComponentType),this.transitions=new sn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(lr(i=>0!==i.id),ue(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Cn(i=>{let s=!1,o=!1;return $(i).pipe(ut(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Cn(a=>{const l=this.browserUrlTree.toString(),u=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||u)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return _1(a.source)&&(this.browserUrlTree=a.extractedUrl),$(a).pipe(Cn(d=>{const h=this.transitions.getValue();return r.next(new ph(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Sn:Promise.resolve(d)}),function YR(t,e,n,r){return Cn(i=>function WR(t,e,n,r,i){return new qR(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(ue(s=>({...i,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),ut(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},i.urlAfterRedirects=d.urlAfterRedirects}),function rO(t,e,n,r,i,s){return nt(o=>function XR(t,e,n,r,i,s,o="emptyOnly",a="legacy"){return new KR(t,e,n,r,i,o,a,s).recognize().pipe(Cn(l=>null===l?function ZR(t){return new $e(e=>e.error(t))}(new QR):$(l)))}(t,e,n,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i,s).pipe(ue(a=>({...o,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),ut(d=>{if(i.targetSnapshot=d.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const p=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(p,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new YP(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:p,source:f,restoredState:m,extras:g}=a,_=new ph(h,this.serializeUrl(p),f,m);r.next(_);const C=G_(p,this.rootComponentType).snapshot;return $(i={...a,targetSnapshot:C,urlAfterRedirects:p,extras:{...g,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),Sn}),ut(a=>{const l=new QP(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),ue(a=>i={...a,guards:_R(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function AR(t,e){return nt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?$({...n,guardsResult:!0}):function PR(t,e,n,r){return ze(t).pipe(nt(i=>function LR(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?$(s.map(a=>{const l=pl(a,e,i);return Bn(function IR(t){return t&&ao(t.canDeactivate)}(l)?l.canDeactivate(t,e,n,r):l(t,e,n,r)).pipe(ur())})).pipe($i()):$(!0)}(i.component,i.route,n,e,r)),ur(i=>!0!==i,!0))}(o,r,i,t).pipe(nt(a=>a&&function bR(t){return"boolean"==typeof t}(a)?function RR(t,e,n,r){return ze(e).pipe(jr(i=>rh(function kR(t,e){return null!==t&&e&&e(new tR(t)),$(!0)}(i.route.parent,r),function OR(t,e){return null!==t&&e&&e(new rR(t)),$(!0)}(i.route,r),function FR(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function CR(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>m_(()=>$(o.guards.map(l=>{const u=pl(l,o.node,n);return Bn(function MR(t){return t&&ao(t.canActivateChild)}(u)?u.canActivateChild(r,t):u(r,t)).pipe(ur())})).pipe($i())));return $(s).pipe($i())}(t,i.path,n),function NR(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return $(!0);const i=r.map(s=>m_(()=>{const o=pl(s,e,n);return Bn(function ER(t){return t&&ao(t.canActivate)}(o)?o.canActivate(e,t):o(e,t)).pipe(ur())}));return $(i).pipe($i())}(t,i.route,n))),ur(i=>!0!==i,!0))}(r,s,t,e):$(a)),ue(a=>({...n,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),ut(a=>{if(i.guardsResult=a.guardsResult,Ur(a.guardsResult))throw q_(0,a.guardsResult);const l=new ZP(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),lr(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),xh(a=>{if(a.guards.canActivateChecks.length)return $(a).pipe(ut(l=>{const u=new XP(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}),Cn(l=>{let u=!1;return $(l).pipe(function iO(t,e){return nt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return $(n);let s=0;return ze(i).pipe(jr(o=>function sO(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!p1(i)&&(s[Ih]=i.title),function oO(t,e,n,r){const i=function aO(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return $({});const s={};return ze(i).pipe(nt(o=>function lO(t,e,n,r){const i=pl(t,e,r);return Bn(i.resolve?i.resolve(e,n):i(e,n))}(t[o],e,n,r).pipe(ur(),ut(a=>{s[o]=a}))),sh(1),function _P(t){return ue(()=>t)}(s),cr(o=>Sh(o)?Sn:Zs(o)))}(s,t,e,r).pipe(ue(o=>(t._resolvedData=o,t.data=$_(t,n).resolve,i&&p1(i)&&(t.data[Ih]=i.title),null)))}(o.route,r,t,e)),ut(()=>s++),sh(1),nt(o=>s===i.length?$(n):Sn))})}(this.paramsInheritanceStrategy,this.ngModule.injector),ut({next:()=>u=!0,complete:()=>{u||(this.restoreHistory(l),this.cancelNavigationTransition(l,"",2))}}))}),ut(l=>{const u=new KP(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}))}),xh(a=>{const l=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(ut(d=>{u.component=d}),ue(()=>{})));for(const d of u.children)c.push(...l(d));return c};return p_(l(a.targetSnapshot.root)).pipe(rl(),Xs(1))}),xh(()=>this.afterPreactivation()),ue(a=>{const l=function lR(t,e,n){const r=ro(t,e._root,n?n._root:void 0);return new U_(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:l}}),ut(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>ue(r=>(new yR(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),ut({next(){s=!0},complete(){s=!0}}),oh(()=>{s||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),cr(a=>{if(o=!0,Z_(a)){Q_(a)||(this.navigated=!0,this.restoreHistory(i,!0));const l=new cl(i.id,this.serializeUrl(i.extractedUrl),a.message,a.cancellationCode);if(r.next(l),Q_(a)){const u=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),c={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||_1(i.source)};this.scheduleNavigation(u,"imperative",null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new j_(i.id,this.serializeUrl(i.extractedUrl),a,i.targetSnapshot??void 0);r.next(l);try{i.resolve(this.errorHandler(a))}catch(u){i.reject(u)}}return Sn}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next({...this.transitions.value,...n})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=n.state?.navigationId?n.state:null;if(s){const a={...s};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const o=this.parseUrl(n.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){this.config=n.map(bh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,u=i||this.routerState.root,c=l?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),UP(u,this.currentUrlTree,n,d,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Ur(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function CO(t){for(let e=0;e<t.length;e++){if(null==t[e])throw new O(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...vO}:!1===r?{...yO}:r,Ur(n))return E_(this.currentUrlTree,n,i);const s=this.parseUrl(n);return E_(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new Gr(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,u;o?(a=o.resolve,l=o.reject,u=o.promise):u=new Promise((h,p)=>{a=h,l=p});const c=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),d=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:c,targetPageId:d,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r,i){const s=new cl(n.id,this.serializeUrl(n.extractedUrl),r,i);this.triggerEvent(s),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){_c()},t.\u0275prov=te({token:t,factory:function(){return y1()},providedIn:"root"}),t})();function _1(t){return"imperative"!==t}class C1{}let D1=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(lr(n=>n instanceof Gr),jr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Ta(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return ze(i).pipe(Qr())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):$(null);const s=i.pipe(nt(o=>null===o?$(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?ze([s,this.loader.loadComponent(r)]).pipe(Qr()):s})}}return t.\u0275fac=function(n){return new(n||t)(U(yt),U(Dd),U(Kn),U(C1),U(Ph))},t.\u0275prov=te({token:t,factory:t.\u0275fac}),t})();const w1=new X("");let bO=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof ph?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Gr&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof V_&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new V_(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){_c()},t.\u0275prov=te({token:t,factory:t.\u0275fac}),t})();const b1=new X("ROUTER_FORROOT_GUARD"),S1=new X(""),SO=[Ld,{provide:T_,useClass:lh},{provide:yt,useFactory:y1},io,{provide:Gi,useFactory:function EO(t){return t.routerState.root},deps:[yt]},Ph];function MO(){return new oy("Router",yt)}let E1=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[SO,[],M1(n),{provide:b1,useFactory:AO,deps:[[yt,new Cs,new Ds]]},{provide:Th,useValue:r||{}},r?.useHash?{provide:Br,useClass:Kx}:{provide:Br,useClass:Ay},{provide:w1,useFactory:()=>{const t=Le(yt),e=Le(_A),n=Le(Th);return n.scrollOffset&&e.setOffset(n.scrollOffset),new bO(t,e,n)}},r?.preloadingStrategy?LO(r.preloadingStrategy):[],{provide:oy,multi:!0,useFactory:MO},r?.initialNavigation?RO(r):[],[{provide:I1,useFactory:PO},{provide:J0,multi:!0,useExisting:I1}]]}}static forChild(n){return{ngModule:t,providers:[M1(n)]}}}return t.\u0275fac=function(n){return new(n||t)(U(b1,8))},t.\u0275mod=Dr({type:t}),t.\u0275inj=Wn({}),t})();function AO(t){return"guarded"}function M1(t){return[{provide:Ah,multi:!0,useValue:t}]}function PO(){const t=Le(Zt);return e=>{const n=t.get(Fa);if(e!==n.components[0])return;const r=t.get(yt),i=t.get(x1);1===t.get(kh)&&r.initialNavigation(),t.get(S1,null,z.Optional)?.setUpPreloading(),t.get(w1,null,z.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.next(),i.complete()}}const I1=new X("");function RO(t){return["disabled"===t.initialNavigation?[{provide:Oa,multi:!0,useFactory:()=>{const t=Le(yt);return()=>{t.setUpLocationChangeListener()}}},{provide:kh,useValue:2}]:[],"enabledBlocking"===t.initialNavigation?[{provide:kh,useValue:0},{provide:Oa,multi:!0,deps:[Zt],useFactory:t=>{const e=t.get(Zx,Promise.resolve(null));let n=!1;return()=>e.then(()=>new Promise(i=>{const s=t.get(yt),o=t.get(x1);(function r(i){t.get(yt).events.pipe(lr(o=>o instanceof Gr||o instanceof cl||o instanceof j_),ue(o=>o instanceof Gr||o instanceof cl&&(0===o.code||1===o.code)&&null),lr(o=>null!==o),Xs(1)).subscribe(()=>{i()})})(()=>{i(!0),n=!0}),s.afterPreactivation=()=>(i(!0),n||o.closed?$(void 0):o),s.initialNavigation()}))}}]:[]]}const x1=new X("",{factory:()=>new un}),kh=new X("",{providedIn:"root",factory:()=>1});function LO(t){return[D1,{provide:S1,useExisting:D1},{provide:C1,useExisting:t}]}var BO=Math.PI/180;const zi=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},k={_global:zi,version:"8.3.11",isBrowser:function jO(){return typeof window<"u"&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window))}(),isUnminified:/param/.test(function(t){}.toString()),dblClickWindow:400,getAngle:t=>k.angleDeg?t*BO:t,enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:()=>k.DD.isDragging,isDragReady:()=>!!k.DD.node,document:zi.document,_injectGlobal(t){zi.Konva=t}},Pe=t=>{k[t.prototype.getClassName()]=t};k._injectGlobal(k);class kt{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new kt(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){var n=this.m;return{x:n[0]*e.x+n[2]*e.y+n[4],y:n[1]*e.x+n[3]*e.y+n[5]}}translate(e,n){return this.m[4]+=this.m[0]*e+this.m[2]*n,this.m[5]+=this.m[1]*e+this.m[3]*n,this}scale(e,n){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=n,this.m[3]*=n,this}rotate(e){var n=Math.cos(e),r=Math.sin(e),s=this.m[1]*n+this.m[3]*r,o=this.m[0]*-r+this.m[2]*n,a=this.m[1]*-r+this.m[3]*n;return this.m[0]=this.m[0]*n+this.m[2]*r,this.m[1]=s,this.m[2]=o,this.m[3]=a,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,n){var i=this.m[1]+this.m[3]*n,s=this.m[2]+this.m[0]*e,o=this.m[3]+this.m[1]*e;return this.m[0]=this.m[0]+this.m[2]*n,this.m[1]=i,this.m[2]=s,this.m[3]=o,this}multiply(e){var r=this.m[1]*e.m[0]+this.m[3]*e.m[1],i=this.m[0]*e.m[2]+this.m[2]*e.m[3],s=this.m[1]*e.m[2]+this.m[3]*e.m[3],o=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],a=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=this.m[0]*e.m[0]+this.m[2]*e.m[1],this.m[1]=r,this.m[2]=i,this.m[3]=s,this.m[4]=o,this.m[5]=a,this}invert(){var e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),r=-this.m[1]*e,i=-this.m[2]*e,s=this.m[0]*e,o=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),a=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=this.m[3]*e,this.m[1]=r,this.m[2]=i,this.m[3]=s,this.m[4]=o,this.m[5]=a,this}getMatrix(){return this.m}decompose(){var e=this.m[0],n=this.m[1],r=this.m[2],i=this.m[3],a=e*i-n*r;let l={x:this.m[4],y:this.m[5],rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(0!=e||0!=n){var u=Math.sqrt(e*e+n*n);l.rotation=n>0?Math.acos(e/u):-Math.acos(e/u),l.scaleX=u,l.scaleY=a/u,l.skewX=(e*r+n*i)/a,l.skewY=0}else if(0!=r||0!=i){var c=Math.sqrt(r*r+i*i);l.rotation=Math.PI/2-(i>0?Math.acos(-r/c):-Math.acos(r/c)),l.scaleX=a/c,l.scaleY=c,l.skewX=0,l.skewY=(e*r+n*i)/a}return l.rotation=D._getRotation(l.rotation),l}}var $O=Math.PI/180,zO=180/Math.PI,T1="Konva error: ",Fh={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},ZO=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,wl=[];const XO=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(t){setTimeout(t,60)},D={_isElement:t=>!(!t||1!=t.nodeType),_isFunction:t=>!!(t&&t.constructor&&t.call&&t.apply),_isPlainObject:t=>!!t&&t.constructor===Object,_isArray:t=>"[object Array]"===Object.prototype.toString.call(t),_isNumber:t=>"[object Number]"===Object.prototype.toString.call(t)&&!isNaN(t)&&isFinite(t),_isString:t=>"[object String]"===Object.prototype.toString.call(t),_isBoolean:t=>"[object Boolean]"===Object.prototype.toString.call(t),isObject:t=>t instanceof Object,isValidSelector(t){if("string"!=typeof t)return!1;var e=t[0];return"#"===e||"."===e||e===e.toUpperCase()},_sign:t=>0===t||t>0?1:-1,requestAnimFrame(t){wl.push(t),1===wl.length&&XO(function(){const e=wl;wl=[],e.forEach(function(n){n()})})},createCanvasElement(){var t=document.createElement("canvas");try{t.style=t.style||{}}catch{}return t},createImageElement:()=>document.createElement("img"),_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,e){var n=D.createImageElement();n.onload=function(){e(n)},n.src=t},_rgbToHex:(t,e,n)=>((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1),_hexToRgb(t){t=t.replace("#","");var e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:255&e}},getRandomColor(){for(var t=(16777215*Math.random()<<0).toString(16);t.length<6;)t="0"+t;return"#"+t},getRGB(t){var e;return t in Fh?{r:(e=Fh[t])[0],g:e[1],b:e[2]}:"#"===t[0]?this._hexToRgb(t.substring(1)):"rgb("===t.substr(0,4)?(e=ZO.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA:t=>D._namedColorToRBA(t=t||"black")||D._hex3ColorToRGBA(t)||D._hex6ColorToRGBA(t)||D._rgbColorToRGBA(t)||D._rgbaColorToRGBA(t)||D._hslColorToRGBA(t),_namedColorToRBA(t){var e=Fh[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(0===t.indexOf("rgb(")){var e=(t=t.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(0===t.indexOf("rgba(")){var e=(t=t.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map((n,r)=>"%"===n.slice(-1)?3===r?parseInt(n)/100:parseInt(n)/100*255:Number(n));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex6ColorToRGBA(t){if("#"===t[0]&&7===t.length)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex3ColorToRGBA(t){if("#"===t[0]&&4===t.length)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){const[e,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),r=Number(n[0])/360,i=Number(n[1])/100,s=Number(n[2])/100;let o,a,l;if(0===i)return l=255*s,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};o=s<.5?s*(1+i):s+i-s*i;const u=2*s-o,c=[0,0,0];for(let d=0;d<3;d++)a=r+1/3*-(d-1),a<0&&a++,a>1&&a--,l=6*a<1?u+6*(o-u)*a:2*a<1?o:3*a<2?u+(o-u)*(2/3-a)*6:u,c[d]=255*l;return{r:Math.round(c[0]),g:Math.round(c[1]),b:Math.round(c[2]),a:1}}},haveIntersection:(t,e)=>!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y),cloneObject(t){var e={};for(var n in t)e[n]=this._isPlainObject(t[n])?this.cloneObject(t[n]):this._isArray(t[n])?this.cloneArray(t[n]):t[n];return e},cloneArray:t=>t.slice(0),degToRad:t=>t*$O,radToDeg:t=>t*zO,_degToRad:t=>(D.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),D.degToRad(t)),_radToDeg:t=>(D.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),D.radToDeg(t)),_getRotation:t=>k.angleDeg?D.radToDeg(t):t,_capitalize:t=>t.charAt(0).toUpperCase()+t.slice(1),throw(t){throw new Error(T1+t)},error(t){console.error(T1+t)},warn(t){!k.showWarnings||console.warn("Konva warning: "+t)},each(t,e){for(var n in t)e(n,t[n])},_inRange:(t,e,n)=>e<=t&&t<n,_getProjectionToSegment(t,e,n,r,i,s){var o,a,l,u=(t-n)*(t-n)+(e-r)*(e-r);if(0==u)o=t,a=e,l=(i-n)*(i-n)+(s-r)*(s-r);else{var c=((i-t)*(n-t)+(s-e)*(r-e))/u;c<0?(o=t,a=e,l=(t-i)*(t-i)+(e-s)*(e-s)):c>1?(o=n,a=r,l=(n-i)*(n-i)+(r-s)*(r-s)):l=((o=t+c*(n-t))-i)*(o-i)+((a=e+c*(r-e))-s)*(a-s)}return[o,a,l]},_getProjectionToLine(t,e,n){var r=D.cloneObject(t),i=Number.MAX_VALUE;return e.forEach(function(s,o){if(n||o!==e.length-1){var a=e[(o+1)%e.length],l=D._getProjectionToSegment(s.x,s.y,a.x,a.y,t.x,t.y),c=l[1],d=l[2];d<i&&(r.x=l[0],r.y=c,i=d)}}),r},_prepareArrayForTween(t,e,n){var r,i=[],s=[];if(t.length>e.length){var o=e;e=t,t=o}for(r=0;r<t.length;r+=2)i.push({x:t[r],y:t[r+1]});for(r=0;r<e.length;r+=2)s.push({x:e[r],y:e[r+1]});var a=[];return s.forEach(function(l){var u=D._getProjectionToLine(l,i,n);a.push(u.x),a.push(u.y)}),a},_prepareToStringify(t){var e;for(var n in t.visitedByCircularReferenceRemoval=!0,t)if(t.hasOwnProperty(n)&&t[n]&&"object"==typeof t[n])if(e=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||D._isElement(t[n])){if(!e.configurable)return null;delete t[n]}else if(null===D._prepareToStringify(t[n])){if(!e.configurable)return null;delete t[n]}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(var n in e)t[n]=e[n];return t},_getFirstPointerId:t=>t.touches?t.changedTouches[0].identifier:t.pointerId||999};function Hn(t){return D._isString(t)?'"'+t+'"':"[object Number]"===Object.prototype.toString.call(t)||D._isBoolean(t)?t:Object.prototype.toString.call(t)}function A1(t){return t>255?255:t<0?0:Math.round(t)}function I(){if(k.isUnminified)return function(t,e){return D._isNumber(t)||D.warn(Hn(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function P1(t){if(k.isUnminified)return function(e,n){let r=D._isNumber(e),i=D._isArray(e)&&e.length==t;return!r&&!i&&D.warn(Hn(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function Lh(){if(k.isUnminified)return function(t,e){return D._isNumber(t)||"auto"===t||D.warn(Hn(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function Wi(){if(k.isUnminified)return function(t,e){return D._isString(t)||D.warn(Hn(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function R1(){if(k.isUnminified)return function(t,e){const n=D._isString(t),r="[object CanvasGradient]"===Object.prototype.toString.call(t)||t&&t.addColorStop;return n||r||D.warn(Hn(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function on(){if(k.isUnminified)return function(t,e){return!0===t||!1===t||D.warn(Hn(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}var uo="get",co="set";const v={addGetterSetter(t,e,n,r,i){v.addGetter(t,e,n),v.addSetter(t,e,r,i),v.addOverloadedGetterSetter(t,e)},addGetter(t,e,n){var r=uo+D._capitalize(e);t.prototype[r]=t.prototype[r]||function(){var i=this.attrs[e];return void 0===i?n:i}},addSetter(t,e,n,r){var i=co+D._capitalize(e);t.prototype[i]||v.overWriteSetter(t,e,n,r)},overWriteSetter(t,e,n,r){var i=co+D._capitalize(e);t.prototype[i]=function(s){return n&&null!=s&&(s=n.call(this,s,e)),this._setAttr(e,s),r&&r.call(this),this}},addComponentsGetterSetter(t,e,n,r,i){var u,c,s=n.length,o=D._capitalize,a=uo+o(e),l=co+o(e);t.prototype[a]=function(){var h={};for(u=0;u<s;u++)h[c=n[u]]=this.getAttr(e+o(c));return h};var d=function JO(t){if(k.isUnminified)return function(e,n){return D.isObject(e)||D.warn(Hn(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}(n);t.prototype[l]=function(h){var f,p=this.attrs[e];for(f in r&&(h=r.call(this,h)),d&&d.call(this,h,e),h)!h.hasOwnProperty(f)||this._setAttr(e+o(f),h[f]);return this._fireChangeEvent(e,p,h),i&&i.call(this),this},v.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter(t,e){var n=D._capitalize(e),r=co+n,i=uo+n;t.prototype[e]=function(){return arguments.length?(this[r](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter(t,e,n,r){D.error("Adding deprecated "+e);var i=uo+D._capitalize(e),s=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[i]=function(){D.error(s);var o=this.attrs[e];return void 0===o?n:o},v.addSetter(t,e,r,function(){D.error(s)}),v.addOverloadedGetterSetter(t,e)},backCompat(t,e){D.each(e,function(n,r){var i=t.prototype[r],s=uo+D._capitalize(n),o=co+D._capitalize(n);function a(){i.apply(this,arguments),D.error('"'+n+'" method is deprecated and will be removed soon. Use ""'+r+'" instead.')}t.prototype[n]=a,t.prototype[s]=a,t.prototype[o]=a})},afterSetFilter(){this._filterUpToDate=!1}};function ek(t){var i,s,e=[],n=t.length,r=D;for(i=0;i<n;i++)r._isNumber(s=t[i])?s=Math.round(1e3*s)/1e3:r._isString(s)||(s+=""),e.push(s);return e}var Sl,k1=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"];class bl{constructor(e){this.canvas=e,this._context=e._canvas.getContext("2d"),k.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){var o,a,l,u,r=this.traceArr,i=r.length,s="";for(o=0;o<i;o++)(l=(a=r[o]).method)?(u=a.args,s+=l,e?s+="()":D._isArray(u[0])?s+="(["+u.join(",")+"])":(n&&(u=u.map(c=>"number"==typeof c?Math.floor(c):c)),s+="("+u.join(",")+")")):(s+=a.property,e||(s+="="+a.val)),s+=";";return s}clearTrace(){this.traceArr=[]}_trace(e){var n=this.traceArr;n.push(e),n.length>=100&&n.shift()}reset(){var e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){var n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){var n=e.getLineCap();n&&this.setAttr("lineCap",n)}_applyOpacity(e){var n=e.getAbsoluteOpacity();1!==n&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){var n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}setAttr(e,n){this._context[e]=n}arc(e,n,r,i,s,o){this._context.arc(e,n,r,i,s,o)}arcTo(e,n,r,i,s){this._context.arcTo(e,n,r,i,s)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,r,i,s,o){this._context.bezierCurveTo(e,n,r,i,s,o)}clearRect(e,n,r,i){this._context.clearRect(e,n,r,i)}clip(){this._context.clip()}closePath(){this._context.closePath()}createImageData(e,n){var r=arguments;return 2===r.length?this._context.createImageData(e,n):1===r.length?this._context.createImageData(e):void 0}createLinearGradient(e,n,r,i){return this._context.createLinearGradient(e,n,r,i)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,r,i,s,o){return this._context.createRadialGradient(e,n,r,i,s,o)}drawImage(e,n,r,i,s,o,a,l,u){var c=arguments,d=this._context;3===c.length?d.drawImage(e,n,r):5===c.length?d.drawImage(e,n,r,i,s):9===c.length&&d.drawImage(e,n,r,i,s,o,a,l,u)}ellipse(e,n,r,i,s,o,a,l){this._context.ellipse(e,n,r,i,s,o,a,l)}isPointInPath(e,n){return this._context.isPointInPath(e,n)}fill(e){e?this._context.fill(e):this._context.fill()}fillRect(e,n,r,i){this._context.fillRect(e,n,r,i)}strokeRect(e,n,r,i){this._context.strokeRect(e,n,r,i)}fillText(e,n,r,i){i?this._context.fillText(e,n,r,i):this._context.fillText(e,n,r)}measureText(e){return this._context.measureText(e)}getImageData(e,n,r,i){return this._context.getImageData(e,n,r,i)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,r,i){this._context.rect(e,n,r,i)}putImageData(e,n,r){this._context.putImageData(e,n,r)}quadraticCurveTo(e,n,r,i){this._context.quadraticCurveTo(e,n,r,i)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,r,i,s,o){this._context.setTransform(e,n,r,i,s,o)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,r,i){this._context.strokeText(e,n,r,i)}transform(e,n,r,i,s,o){this._context.transform(e,n,r,i,s,o)}translate(e,n){this._context.translate(e,n)}_enableTrace(){var i,s,e=this,n=k1.length,r=this.setAttr,o=function(a){var u,l=e[a];e[a]=function(){return s=ek(Array.prototype.slice.call(arguments,0)),u=l.apply(e,arguments),e._trace({method:a,args:s}),u}};for(i=0;i<n;i++)o(k1[i]);e.setAttr=function(){r.apply(e,arguments);var a=arguments[0],l=arguments[1];("shadowOffsetX"===a||"shadowOffsetY"===a||"shadowBlur"===a)&&(l/=this.canvas.getPixelRatio()),e._trace({property:a,val:l})}}_applyGlobalCompositeOperation(e){const n=e.attrs.globalCompositeOperation;!n||"source-over"===n||this.setAttr("globalCompositeOperation",n)}}["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach(function(t){Object.defineProperty(bl.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class ck extends bl{_fillColor(e){var n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){var n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){var n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){var n=e.fill(),r=e.getFillPriority();if(n&&"color"===r)this._fillColor(e);else{var i=e.getFillPatternImage();if(i&&"pattern"===r)this._fillPattern(e);else{var s=e.getFillLinearGradientColorStops();if(s&&"linear-gradient"===r)this._fillLinearGradient(e);else{var o=e.getFillRadialGradientColorStops();o&&"radial-gradient"===r?this._fillRadialGradient(e):n?this._fillColor(e):i?this._fillPattern(e):s?this._fillLinearGradient(e):o&&this._fillRadialGradient(e)}}}}_strokeLinearGradient(e){var n=e.getStrokeLinearGradientStartPoint(),r=e.getStrokeLinearGradientEndPoint(),i=e.getStrokeLinearGradientColorStops(),s=this.createLinearGradient(n.x,n.y,r.x,r.y);if(i){for(var o=0;o<i.length;o+=2)s.addColorStop(i[o],i[o+1]);this.setAttr("strokeStyle",s)}}_stroke(e){var n=e.dash(),r=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!r){this.save();var i=this.getCanvas().getPixelRatio();this.setTransform(i,0,0,i,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),r||this.restore()}}_applyShadow(e){var n,r,i,s=null!==(n=e.getShadowRGBA())&&void 0!==n?n:"black",o=null!==(r=e.getShadowBlur())&&void 0!==r?r:5,a=null!==(i=e.getShadowOffset())&&void 0!==i?i:{x:0,y:0},l=e.getAbsoluteScale(),u=this.canvas.getPixelRatio(),c=l.x*u,d=l.y*u;this.setAttr("shadowColor",s),this.setAttr("shadowBlur",o*Math.min(Math.abs(c),Math.abs(d))),this.setAttr("shadowOffsetX",a.x*c),this.setAttr("shadowOffsetY",a.y*d)}}class dk extends bl{_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){var n=e.getStrokeScaleEnabled();if(!n){this.save();var r=this.getCanvas().getPixelRatio();this.setTransform(r,0,0,r,0,0)}this._applyLineCap(e);var i=e.hitStrokeWidth(),s="auto"===i?e.strokeWidth():i;this.setAttr("lineWidth",s),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),n||this.restore()}}}class El{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var r=(e||{}).pixelRatio||k.pixelRatio||function hk(){if(Sl)return Sl;var e=D.createCanvasElement().getContext("2d");return Sl=(k._global.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}();this.pixelRatio=r,this._canvas=D.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){var n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";var n=this.pixelRatio;this.getContext()._context.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";var n=this.pixelRatio;this.getContext()._context.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch{try{return this._canvas.toDataURL()}catch(i){return D.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}v.addGetterSetter(El,"pixelRatio",void 0,I());class qi extends El{constructor(e={width:0,height:0}){super(e),this.context=new ck(this),this.setSize(e.width,e.height)}}class Bh extends El{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new dk(this),this.setSize(e.width,e.height)}}const de={get isDragging(){var t=!1;return de._dragElements.forEach(e=>{"dragging"===e.dragStatus&&(t=!0)}),t},justDragged:!1,get node(){var t;return de._dragElements.forEach(e=>{t=e.node}),t},_dragElements:new Map,_drag(t){const e=[];de._dragElements.forEach((n,r)=>{const{node:i}=n,s=i.getStage();s.setPointersPositions(t),void 0===n.pointerId&&(n.pointerId=D._getFirstPointerId(t));const o=s._changedPointerPositions.find(u=>u.id===n.pointerId);if(o){if("dragging"!==n.dragStatus){var a=i.dragDistance();if(Math.max(Math.abs(o.x-n.startPointerPos.x),Math.abs(o.y-n.startPointerPos.y))<a||(i.startDrag({evt:t}),!i.isDragging()))return}i._setDragPosition(t,n),e.push(i)}}),e.forEach(n=>{n.fire("dragmove",{type:"dragmove",target:n,evt:t},!0)})},_endDragBefore(t){const e=[];de._dragElements.forEach(n=>{const{node:r}=n,i=r.getStage();if(t&&i.setPointersPositions(t),!i._changedPointerPositions.find(a=>a.id===n.pointerId))return;("dragging"===n.dragStatus||"stopped"===n.dragStatus)&&(de.justDragged=!0,k._mouseListenClick=!1,k._touchListenClick=!1,k._pointerListenClick=!1,n.dragStatus="stopped");const o=n.node.getLayer()||n.node instanceof k.Stage&&n.node;o&&-1===e.indexOf(o)&&e.push(o)}),e.forEach(n=>{n.draw()})},_endDragAfter(t){de._dragElements.forEach((e,n)=>{"stopped"===e.dragStatus&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:t},!0),"dragging"!==e.dragStatus&&de._dragElements.delete(n)})}};k.isBrowser&&(window.addEventListener("mouseup",de._endDragBefore,!0),window.addEventListener("touchend",de._endDragBefore,!0),window.addEventListener("mousemove",de._drag),window.addEventListener("touchmove",de._drag),window.addEventListener("mouseup",de._endDragAfter,!1),window.addEventListener("touchend",de._endDragAfter,!1));var Ml="absoluteOpacity",Il="allEventListeners",Un="absoluteTransform",N1="absoluteScale",ho="canvas",jh="listening",F1="mouseenter",L1="mouseleave",hr="transform",Vh="visible",vk=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(" ");let yk=1;class x{constructor(e){this._id=yk++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){e!==hr&&e!==Un||!this._cache.get(e)?e?this._cache.delete(e):this._cache.clear():this._cache.get(e).dirty=!0}_getCache(e,n){var r=this._cache.get(e);return(void 0===r||(e===hr||e===Un)&&!0===r.dirty)&&(r=n.call(this),this._cache.set(e,r)),r}_calculate(e,n,r){if(!this._attachedDepsListeners.get(e)){const i=n.map(s=>s+"Change.konva").join(" ");this.on(i,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,r)}_getCanvasCache(){return this._cache.get(ho)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===Un&&this.fire("absoluteTransformChange")}clearCache(){return this._cache.delete(ho),this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){var n=e||{},r={};(void 0===n.x||void 0===n.y||void 0===n.width||void 0===n.height)&&(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var i=Math.ceil(n.width||r.width),s=Math.ceil(n.height||r.height),o=n.pixelRatio,a=void 0===n.x?Math.floor(r.x):n.x,l=void 0===n.y?Math.floor(r.y):n.y,u=n.offset||0,c=n.drawBorder||!1,d=n.hitCanvasPixelRatio||1;if(i&&s){a-=u,l-=u;var h=new qi({pixelRatio:o,width:i+=2*u+1,height:s+=2*u+1}),p=new qi({pixelRatio:o,width:0,height:0}),f=new Bh({pixelRatio:d,width:i,height:s}),m=h.getContext(),g=f.getContext();return f.isCache=!0,h.isCache=!0,this._cache.delete(ho),this._filterUpToDate=!1,!1===n.imageSmoothingEnabled&&(h.getContext()._context.imageSmoothingEnabled=!1,p.getContext()._context.imageSmoothingEnabled=!1),m.save(),g.save(),m.translate(-a,-l),g.translate(-a,-l),this._isUnderCache=!0,this._clearSelfAndDescendantCache(Ml),this._clearSelfAndDescendantCache(N1),this.drawScene(h,this),this.drawHit(f,this),this._isUnderCache=!1,m.restore(),g.restore(),c&&(m.save(),m.beginPath(),m.rect(0,0,i,s),m.closePath(),m.setAttr("strokeStyle","red"),m.setAttr("lineWidth",5),m.stroke(),m.restore()),this._cache.set(ho,{scene:h,filter:p,hit:f,x:a,y:l}),this._requestDraw(),this}D.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.")}isCached(){return this._cache.has(ho)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){var i,s,o,a,r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],l=this.getAbsoluteTransform(n);return r.forEach(function(u){var c=l.point(u);void 0===i&&(i=o=c.x,s=a=c.y),i=Math.min(i,c.x),s=Math.min(s,c.y),o=Math.max(o,c.x),a=Math.max(a,c.y)}),{x:i,y:s,width:o-i,height:a-s}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();e.translate(n.x,n.y);var r=this._getCachedSceneCanvas(),i=r.pixelRatio;e.drawImage(r._canvas,0,0,r.width/i,r.height/i),e.restore()}_drawCachedHitCanvas(e){var n=this._getCanvasCache(),r=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),e.restore()}_getCachedSceneCanvas(){var o,a,l,u,e=this.filters(),n=this._getCanvasCache(),r=n.scene,i=n.filter,s=i.getContext();if(e){if(!this._filterUpToDate){var c=r.pixelRatio;i.setSize(r.width/r.pixelRatio,r.height/r.pixelRatio);try{for(o=e.length,s.clear(),s.drawImage(r._canvas,0,0,r.getWidth()/c,r.getHeight()/c),a=s.getImageData(0,0,i.getWidth(),i.getHeight()),l=0;l<o;l++)"function"==typeof(u=e[l])?(u.call(this,a),s.putImageData(a,0,0)):D.error("Filter should be type of function, but got "+typeof u+" instead. Please check correct filters")}catch(d){D.error("Unable to apply filter. "+d.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return i}return r}on(e,n){if(this._cache&&this._cache.delete(Il),3===arguments.length)return this._delegate.apply(this,arguments);var s,a,l,u,r=e.split(" "),i=r.length;for(s=0;s<i;s++)u=(a=r[s].split("."))[1]||"",this.eventListeners[l=a[0]]||(this.eventListeners[l]=[]),this.eventListeners[l].push({name:u,handler:n});return this}off(e,n){var s,o,l,u,c,r=(e||"").split(" "),i=r.length;if(this._cache&&this._cache.delete(Il),!e)for(o in this.eventListeners)this._off(o);for(s=0;s<i;s++)if(c=(l=r[s].split("."))[1],u=l[0])this.eventListeners[u]&&this._off(u,c,n);else for(o in this.eventListeners)this._off(o,c,n);return this}dispatchEvent(e){return this.fire(e.type,{target:this,type:e.type,evt:e}),this}addEventListener(e,n){return this.on(e,function(r){n.call(this,r.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,r){var i=this;this.on(e,function(s){for(var o=s.target.findAncestors(n,!0,i),a=0;a<o.length;a++)(s=D.cloneObject(s)).currentTarget=o[a],r.call(o[a],s)})}remove(){return this.isDragging()&&this.stopDrag(),de._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Un),this._clearSelfAndDescendantCache(Ml),this._clearSelfAndDescendantCache(N1),this._clearSelfAndDescendantCache("stage"),this._clearSelfAndDescendantCache(Vh),this._clearSelfAndDescendantCache(jh)}_remove(){this._clearCaches();var e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this}getAttr(e){var n="get"+D._capitalize(e);return D._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){for(var e=this.getParent(),n=[];e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{var n,r;if(!e)return this;for(n in e)"children"!==n&&(r="set"+D._capitalize(n),D._isFunction(this[r])?this[r](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache(jh,this._isListening)}_isListening(e){if(!this.listening())return!1;const r=this.getParent();return!r||r===e||this===e||r._isListening(e)}isVisible(){return this._getCache(Vh,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const r=this.getParent();return!r||r===e||this===e||r._isVisible(e)}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);var r=this.getLayer(),i=!1;de._dragElements.forEach(o=>{"dragging"===o.dragStatus&&("Stage"===o.node.nodeType||o.node.getLayer()===r)&&(i=!0)});var s=!n&&!k.hitOnDragEnabled&&i;return this.isListening()&&this.isVisible()&&!s}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var i,s,o,a,e=this.getDepth(),n=this,r=0;return"Stage"!==n.nodeType&&function l(u){for(i=[],s=u.length,o=0;o<s;o++)r++,"Shape"!==(a=u[o]).nodeType&&(i=i.concat(a.getChildren().slice())),a._id===n._id&&(o=s);i.length>0&&i[0].getDepth()<=e&&l(i)}(n.getStage().getChildren()),r}getDepth(){for(var e=0,n=this.parent;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(hr),this._clearSelfAndDescendantCache(Un)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var e=this.getStage().getPointerPosition();if(!e)return null;var n=this.getAbsoluteTransform().copy();return n.invert(),n.point(e)}getAbsolutePosition(e){let n=!1,r=this.parent;for(;r;){if(r.isCached()){n=!0;break}r=r.parent}n&&!e&&(e=!0);var i=this.getAbsoluteTransform(e).getMatrix(),s=new kt,o=this.offset();return s.m=i.slice(),s.translate(o.x,o.y),s.getTranslation()}setAbsolutePosition(e){var n=this._clearTransform();this.attrs.x=n.x,this.attrs.y=n.y,delete n.x,delete n.y,this._clearCache(hr);var r=this._getAbsoluteTransform().copy();return r.invert(),r.translate(e.x,e.y),e={x:this.attrs.x+r.getTranslation().x,y:this.attrs.y+r.getTranslation().y},this._setTransform(n),this.setPosition({x:e.x,y:e.y}),this._clearCache(hr),this._clearSelfAndDescendantCache(Un),this}_setTransform(e){var n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){var e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){var n=e.x,r=e.y,i=this.x(),s=this.y();return void 0!==n&&(i+=n),void 0!==r&&(s+=r),this.setPosition({x:i,y:s}),this}_eachAncestorReverse(e,n){var s,o,r=[],i=this.getParent();if(!n||n._id!==this._id){for(r.unshift(this);i&&(!n||i._id!==n._id);)r.unshift(i),i=i.parent;for(s=r.length,o=0;o<s;o++)e(r[o])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return D.warn("Node has no parent. moveToTop function is ignored."),!1;var e=this.index;return e<this.parent.getChildren().length-1&&(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0)}moveUp(){if(!this.parent)return D.warn("Node has no parent. moveUp function is ignored."),!1;var e=this.index;return e<this.parent.getChildren().length-1&&(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0)}moveDown(){if(!this.parent)return D.warn("Node has no parent. moveDown function is ignored."),!1;var e=this.index;return e>0&&(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0)}moveToBottom(){if(!this.parent)return D.warn("Node has no parent. moveToBottom function is ignored."),!1;var e=this.index;return e>0&&(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)}setZIndex(e){return this.parent?((e<0||e>=this.parent.children.length)&&D.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+"."),this.parent.children.splice(this.index,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this):(D.warn("Node has no parent. zIndex parameter is ignored."),this)}getAbsoluteOpacity(){return this._getCache(Ml,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var e=this.opacity(),n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){var r,i,s,o,e={},n=this.getAttrs();for(r in e.attrs={},n)(!D.isObject(i=n[r])||D._isPlainObject(i)||D._isArray(i))&&(s="function"==typeof this[r]&&this[r],delete n[r],o=s?s.call(this):null,n[r]=i,o!==i&&(e.attrs[r]=i));return e.className=this.getClassName(),D._prepareToStringify(e)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,r){var i=[];n&&this._isMatch(e)&&i.push(this);for(var s=this.parent;s;){if(s===r)return i;s._isMatch(e)&&i.push(s),s=s.parent}return i}isAncestorOf(e){return!1}findAncestor(e,n,r){return this.findAncestors(e,n,r)[0]}_isMatch(e){if(!e)return!1;if("function"==typeof e)return e(this);var i,s,n=e.replace(/ /g,"").split(","),r=n.length;for(i=0;i<r;i++)if(D.isValidSelector(s=n[i])||(D.warn('Selector "'+s+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),D.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),D.warn("Konva is awesome, right?")),"#"===s.charAt(0)){if(this.id()===s.slice(1))return!0}else if("."===s.charAt(0)){if(this.hasName(s.slice(1)))return!0}else if(this.className===s||this.nodeType===s)return!0;return!1}getLayer(){var e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache("stage",this._getStage)}_getStage(){var e=this.getParent();if(e)return e.getStage()}fire(e,n={},r){return n.target=n.target||this,r?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(Un,this._getAbsoluteTransform)}_getAbsoluteTransform(e){var n;if(e)return n=new kt,this._eachAncestorReverse(function(i){var s=i.transformsEnabled();"all"===s?n.multiply(i.getTransform()):"position"===s&&n.translate(i.x()-i.offsetX(),i.y()-i.offsetY())},e),n;n=this._cache.get(Un)||new kt,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();var r=this.transformsEnabled();return"all"===r?n.multiply(this.getTransform()):"position"===r&&n.translate((this.attrs.x||0)-(this.attrs.offsetX||0),(this.attrs.y||0)-(this.attrs.offsetY||0)),n.dirty=!1,n}getAbsoluteScale(e){for(var n=this;n;)n._isUnderCache&&(e=n),n=n.getParent();const i=this.getAbsoluteTransform(e).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(hr,this._getTransform)}_getTransform(){var e,n,r=this._cache.get(hr)||new kt;r.reset();var i=this.x(),s=this.y(),o=k.getAngle(this.rotation()),a=null!==(e=this.attrs.scaleX)&&void 0!==e?e:1,l=null!==(n=this.attrs.scaleY)&&void 0!==n?n:1,u=this.attrs.skewX||0,c=this.attrs.skewY||0,d=this.attrs.offsetX||0,h=this.attrs.offsetY||0;return(0!==i||0!==s)&&r.translate(i,s),0!==o&&r.rotate(o),(0!==u||0!==c)&&r.skew(u,c),(1!==a||1!==l)&&r.scale(a,l),(0!==d||0!==h)&&r.translate(-1*d,-1*h),r.dirty=!1,r}clone(e){var r,i,s,o,a,n=D.cloneObject(this.attrs);for(r in e)n[r]=e[r];var l=new this.constructor(n);for(r in this.eventListeners)for(s=(i=this.eventListeners[r]).length,o=0;o<s;o++)(a=i[o]).name.indexOf("konva")<0&&(l.eventListeners[r]||(l.eventListeners[r]=[]),l.eventListeners[r].push(a));return l}_toKonvaCanvas(e){e=e||{};var n=this.getClientRect(),r=this.getStage(),i=void 0!==e.x?e.x:Math.floor(n.x),s=void 0!==e.y?e.y:Math.floor(n.y),o=e.pixelRatio||1,a=new qi({width:e.width||Math.ceil(n.width)||(r?r.width():0),height:e.height||Math.ceil(n.height)||(r?r.height():0),pixelRatio:o}),l=a.getContext();return!1===e.imageSmoothingEnabled&&(l._context.imageSmoothingEnabled=!1),l.save(),(i||s)&&l.translate(-1*i,-1*s),this.drawScene(a),l.restore(),a}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){var n=(e=e||{}).mimeType||null,r=e.quality||null,i=this._toKonvaCanvas(e).toDataURL(n,r);return e.callback&&e.callback(i),i}toImage(e){return new Promise((n,r)=>{try{const i=e?.callback;i&&delete e.callback,D._urlToImage(this.toDataURL(e),function(s){n(s),i?.(s)})}catch(i){r(i)}})}toBlob(e){return new Promise((n,r)=>{try{const i=e?.callback;i&&delete e.callback,this.toCanvas(e).toBlob(s=>{n(s),i?.(s)})}catch(i){r(i)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():k.dragDistance}_off(e,n,r){var s,o,i=this.eventListeners[e];for(s=0;s<i.length;s++)if(!("konva"===(o=i[s].name)&&"konva"!==n||n&&o!==n||r&&r!==i[s].handler)){if(i.splice(s,1),0===i.length){delete this.eventListeners[e];break}s--}}_fireChangeEvent(e,n,r){this._fire(e+"Change",{oldVal:n,newVal:r})}addName(e){if(!this.hasName(e)){var n=this.name();this.name(n?n+" "+e:e)}return this}hasName(e){if(!e)return!1;const n=this.name();return!!n&&-1!==(n||"").split(/\s/g).indexOf(e)}removeName(e){var n=(this.name()||"").split(/\s/g),r=n.indexOf(e);return-1!==r&&(n.splice(r,1),this.name(n.join(" "))),this}setAttr(e,n){var r=this["set"+D._capitalize(e)];return D._isFunction(r)?r.call(this,n):this._setAttr(e,n),this}_requestDraw(){k.autoDrawEnabled&&(this.getLayer()||this.getStage())?.batchDraw()}_setAttr(e,n){var r=this.attrs[e];r===n&&!D.isObject(n)||(null==n?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,r,n),this._requestDraw())}_setComponentAttr(e,n,r){var i;void 0!==r&&((i=this.attrs[e])||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=r,this._fireChangeEvent(e,i,r))}_fireAndBubble(e,n,r){if(n&&"Shape"===this.nodeType&&(n.target=this),e!==F1&&e!==L1||!(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||"Stage"===this.nodeType&&!r)){this._fire(e,n);var s=(e===F1||e===L1)&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!s&&(r&&r.parent?this._fireAndBubble.call(this.parent,e,n,r):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){let n=this._cache.get(Il);if(!n){n={};let i=Object.getPrototypeOf(this);for(;i;)if(i.eventListeners){for(var r in i.eventListeners)n[r]=i.eventListeners[r].concat(n[r]||[]);i=Object.getPrototypeOf(i)}else i=Object.getPrototypeOf(i);this._cache.set(Il,n)}return n[e]}_fire(e,n){(n=n||{}).currentTarget=this,n.type=e;const r=this._getProtoListeners(e);if(r)for(var i=0;i<r.length;i++)r[i].handler.call(this,n);const s=this.eventListeners[e];if(s)for(i=0;i<s.length;i++)s[i].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){var n=e?e.pointerId:void 0,r=this.getStage(),i=this.getAbsolutePosition(),s=r._getPointerById(n)||r._changedPointerPositions[0]||i;de._dragElements.set(this._id,{node:this,startPointerPos:s,offset:{x:s.x-i.x,y:s.y-i.y},dragStatus:"ready",pointerId:n})}startDrag(e,n=!0){de._dragElements.has(this._id)||this._createDragElement(e),de._dragElements.get(this._id).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){const r=this.getStage()._getPointerById(n.pointerId);if(r){var i={x:r.x-n.offset.x,y:r.y-n.offset.y},s=this.dragBoundFunc();if(void 0!==s){const o=s.call(this,i,e);o?i=o:D.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==i.x||this._lastPos.y!==i.y)&&(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}}stopDrag(e){const n=de._dragElements.get(this._id);n&&(n.dragStatus="stopped"),de._endDragBefore(e),de._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=de._dragElements.get(this._id);return!!e&&"dragging"===e.dragStatus}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if((void 0===e.evt.button||k.dragButtons.indexOf(e.evt.button)>=0)&&!this.isDragging()){var i=!1;de._dragElements.forEach(s=>{this.isAncestorOf(s.node)&&(i=!0)}),i||this._createDragElement(e)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const n=de._dragElements.get(this._id),i=n&&"ready"===n.dragStatus;n&&"dragging"===n.dragStatus?this.stopDrag():i&&de._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const n=this.getStage();if(!n)return!1;const r={x:-e.x,y:-e.y,width:n.width()+2*e.x,height:n.height()+2*e.y};return D.haveIntersection(r,this.getClientRect())}static create(e,n){return D._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){var s,o,a,r=x.prototype.getClassName.call(e),i=e.children;if(n&&(e.attrs.container=n),k[r]||(D.warn('Can not find a node with class name "'+r+'". Fallback to "Shape".'),r="Shape"),s=new(0,k[r])(e.attrs),i)for(o=i.length,a=0;a<o;a++)s.add(x._createNode(i[a]));return s}}x.prototype.nodeType="Node",x.prototype._attrsAffectingSize=[],x.prototype.eventListeners={},x.prototype.on.call(x.prototype,vk,function(){this._batchingTransformChange?this._needClearTransformCache=!0:(this._clearCache(hr),this._clearSelfAndDescendantCache(Un))}),x.prototype.on.call(x.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(Vh)}),x.prototype.on.call(x.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(jh)}),x.prototype.on.call(x.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(Ml)});const be=v.addGetterSetter;be(x,"zIndex"),be(x,"absolutePosition"),be(x,"position"),be(x,"x",0,I()),be(x,"y",0,I()),be(x,"globalCompositeOperation","source-over",Wi()),be(x,"opacity",1,I()),be(x,"name","",Wi()),be(x,"id","",Wi()),be(x,"rotation",0,I()),v.addComponentsGetterSetter(x,"scale",["x","y"]),be(x,"scaleX",1,I()),be(x,"scaleY",1,I()),v.addComponentsGetterSetter(x,"skew",["x","y"]),be(x,"skewX",0,I()),be(x,"skewY",0,I()),v.addComponentsGetterSetter(x,"offset",["x","y"]),be(x,"offsetX",0,I()),be(x,"offsetY",0,I()),be(x,"dragDistance",null,I()),be(x,"width",0,I()),be(x,"height",0,I()),be(x,"listening",!0,on()),be(x,"preventDefault",!0,on()),be(x,"filters",null,function(t){return this._filterUpToDate=!1,t}),be(x,"visible",!0,on()),be(x,"transformsEnabled","all",Wi()),be(x,"size"),be(x,"dragBoundFunc"),be(x,"draggable",!1,on()),v.backCompat(x,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class Nt extends x{constructor(){super(...arguments),this.children=[]}getChildren(e){if(!e)return this.children||[];var r=[];return(this.children||[]).forEach(function(i){e(i)&&r.push(i)}),r}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(arguments.length>1){for(var n=0;n<arguments.length;n++)this.add(arguments[n]);return this}var r=e[0];return r.getParent()?(r.moveTo(this),this):(this._validateAdd(r),r.index=this.getChildren().length,r.parent=this,r._clearCaches(),this.getChildren().push(r),this._fire("add",{child:r}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){var n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){var r=[];return this._descendants(i=>{const s=i._isMatch(e);return s&&r.push(i),!(!s||!n)}),r}_descendants(e){let n=!1;const r=this.getChildren();for(const i of r){if(n=e(i),n)return!0;if(i.hasChildren()&&(n=i._descendants(e),n))return!0}return!1}toObject(){var e=x.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){for(var n=e.getParent();n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){var n=x.prototype.clone.call(this,e);return this.getChildren().forEach(function(r){n.add(r.clone())}),n}getAllIntersections(e){var n=[];return this.find("Shape").forEach(function(r){r.isVisible()&&r.intersects(e)&&n.push(r)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&(null===(n=this.children)||void 0===n||n.forEach(function(r){r._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;null===(e=this.children)||void 0===e||e.forEach(function(n,r){n.index=r}),this._requestDraw()}drawScene(e,n){var r=this.getLayer(),i=e||r&&r.getCanvas(),s=i&&i.getContext(),o=this._getCanvasCache(),a=o&&o.scene,l=i&&i.isCache;if(!this.isVisible()&&!l)return this;if(a){s.save();var u=this.getAbsoluteTransform(n).getMatrix();s.transform(u[0],u[1],u[2],u[3],u[4],u[5]),this._drawCachedSceneCanvas(s),s.restore()}else this._drawChildren("drawScene",i,n);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;var r=this.getLayer(),i=e||r&&r.hitCanvas,s=i&&i.getContext(),o=this._getCanvasCache();if(o&&o.hit){s.save();var l=this.getAbsoluteTransform(n).getMatrix();s.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedHitCanvas(s),s.restore()}else this._drawChildren("drawHit",i,n);return this}_drawChildren(e,n,r){var i,s=n&&n.getContext(),o=this.clipWidth(),a=this.clipHeight(),l=this.clipFunc(),u=o&&a||l;const c=r===this;if(u){s.save();var d=this.getAbsoluteTransform(r),h=d.getMatrix();if(s.transform(h[0],h[1],h[2],h[3],h[4],h[5]),s.beginPath(),l)l.call(this,s,this);else{var p=this.clipX(),f=this.clipY();s.rect(p,f,o,a)}s.clip(),h=d.copy().invert().getMatrix(),s.transform(h[0],h[1],h[2],h[3],h[4],h[5])}var m=!c&&"source-over"!==this.globalCompositeOperation()&&"drawScene"===e;m&&(s.save(),s._applyGlobalCompositeOperation(this)),null===(i=this.children)||void 0===i||i.forEach(function(g){g[e](n,r)}),m&&s.restore(),u&&s.restore()}getClientRect(e){var n,s,o,a,l,u,r=(e=e||{}).skipTransform,i=e.relativeTo,c=this;null===(n=this.children)||void 0===n||n.forEach(function(m){if(m.visible()){var g=m.getClientRect({relativeTo:c,skipShadow:e.skipShadow,skipStroke:e.skipStroke});0===g.width&&0===g.height||(void 0===s?(s=g.x,o=g.y,a=g.x+g.width,l=g.y+g.height):(s=Math.min(s,g.x),o=Math.min(o,g.y),a=Math.max(a,g.x+g.width),l=Math.max(l,g.y+g.height)))}});for(var d=this.find("Shape"),h=!1,p=0;p<d.length;p++)if(d[p]._isVisible(this)){h=!0;break}return u=h&&void 0!==s?{x:s,y:o,width:a-s,height:l-o}:{x:0,y:0,width:0,height:0},r?u:this._transformedRect(u,i)}}v.addComponentsGetterSetter(Nt,"clip",["x","y","width","height"]),v.addGetterSetter(Nt,"clipX",void 0,I()),v.addGetterSetter(Nt,"clipY",void 0,I()),v.addGetterSetter(Nt,"clipWidth",void 0,I()),v.addGetterSetter(Nt,"clipHeight",void 0,I()),v.addGetterSetter(Nt,"clipFunc");const fo=new Map,H1=void 0!==k._global.PointerEvent;function Hh(t){return fo.get(t)}function Uh(t){return{evt:t,pointerId:t.pointerId}}function U1(t,e){return fo.get(t)===e}function G1(t,e){po(t),e.getStage()&&(fo.set(t,e),H1&&e._fire("gotpointercapture",Uh(new PointerEvent("gotpointercapture"))))}function po(t,e){const n=fo.get(t);n&&(n.getStage(),fo.delete(t),H1&&n._fire("lostpointercapture",Uh(new PointerEvent("lostpointercapture"))))}var z1="mouseleave",W1="mouseover",q1="mouseenter",Y1="mousemove",Q1="mousedown",Z1="mouseup",go="pointermove",mo="pointerdown",Yi="pointerup",vo="pointercancel",Tl="pointerout",Al="pointerleave",Pl="pointerover",Rl="pointerenter",Gh="contextmenu",X1="touchstart",K1="touchend",J1="touchmove",eC="touchcancel",$h="wheel",Sk=[[q1,"_pointerenter"],[Q1,"_pointerdown"],[Y1,"_pointermove"],[Z1,"_pointerup"],[z1,"_pointerleave"],[X1,"_pointerdown"],[J1,"_pointermove"],[K1,"_pointerup"],[eC,"_pointercancel"],[W1,"_pointerover"],[$h,"_wheel"],[Gh,"_contextmenu"],[mo,"_pointerdown"],[go,"_pointermove"],[Yi,"_pointerup"],[vo,"_pointercancel"],["lostpointercapture","_lostpointercapture"]];const zh={mouse:{[Tl]:"mouseout",[Al]:z1,[Pl]:W1,[Rl]:q1,[go]:Y1,[mo]:Q1,[Yi]:Z1,[vo]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[Tl]:"touchout",[Al]:"touchleave",[Pl]:"touchover",[Rl]:"touchenter",[go]:J1,[mo]:X1,[Yi]:K1,[vo]:eC,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[Tl]:Tl,[Al]:Al,[Pl]:Pl,[Rl]:Rl,[go]:go,[mo]:mo,[Yi]:Yi,[vo]:vo,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},yo=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",Qi=t=>{const e=yo(t);return"pointer"===e?k.pointerEventsEnabled&&zh.pointer:"touch"===e?zh.touch:"mouse"===e?zh.mouse:void 0};function tC(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&D.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}const Ol=[];class kl extends Nt{constructor(e){super(tC(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),Ol.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{tC(this.attrs)}),this._checkVisibility()}_validateAdd(e){const n="Layer"===e.getType(),r="FastLayer"===e.getType();n||r||D.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if("string"==typeof e){if("."===e.charAt(0)){var n=e.slice(1);e=document.getElementsByClassName(n)[0]}else{var r;r="#"!==e.charAt(0)?e:e.slice(1),e=document.getElementById(r)}if(!e)throw"Can not find container in document with id "+r}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var r,e=this.children,n=e.length;for(r=0;r<n;r++)e[r].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),Nt.prototype.clone.call(this,e)}destroy(){super.destroy();var e=this.content;e&&D._isInDocument(e)&&this.container().removeChild(e);var n=Ol.indexOf(this);return n>-1&&Ol.splice(n,1),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(D.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)}_getPointerById(e){return this._pointerPositions.find(n=>n.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){(e=e||{}).x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();var n=new qi({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),r=n.getContext()._context,i=this.children;return(e.x||e.y)&&r.translate(-1*e.x,-1*e.y),i.forEach(function(s){if(s.isVisible()){var o=s._toKonvaCanvas(e);r.drawImage(o._canvas,e.x,e.y,o.getWidth()/o.getPixelRatio(),o.getHeight()/o.getPixelRatio())}}),n}getIntersection(e){if(!e)return null;var s,n=this.children;for(s=n.length-1;s>=0;s--){const o=n[s].getIntersection(e);if(o)return o}return null}_resizeDOM(){var e=this.width(),n=this.height();this.content&&(this.content.style.width=e+"px",this.content.style.height=n+"px"),this.bufferCanvas.setSize(e,n),this.bufferHitCanvas.setSize(e,n),this.children.forEach(r=>{r.setSize({width:e,height:n}),r.draw()})}add(e,...n){if(arguments.length>1){for(var r=0;r<arguments.length;r++)this.add(arguments[r]);return this}super.add(e);var i=this.children.length;return i>5&&D.warn("The stage has "+i+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),k.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return U1(e,this)}setPointerCapture(e){G1(e,this)}releaseCapture(e){po(e)}getLayers(){return this.children}_bindContentEvents(){!k.isBrowser||Sk.forEach(([e,n])=>{this.content.addEventListener(e,r=>{this[n](r)})})}_pointerenter(e){this.setPointersPositions(e);const n=Qi(e.type);this._fire(n.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const n=Qi(e.type);this._fire(n.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let n=this[e+"targetShape"];return n&&!n.getStage()&&(n=null),n}_pointerleave(e){const n=Qi(e.type),r=yo(e.type);if(n){this.setPointersPositions(e);var i=this._getTargetShape(r),s=!de.isDragging||k.hitOnDragEnabled;i&&s?(i._fireAndBubble(n.pointerout,{evt:e}),i._fireAndBubble(n.pointerleave,{evt:e}),this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this[r+"targetShape"]=null):s&&(this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(n.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(e){const n=Qi(e.type),r=yo(e.type);if(n){this.setPointersPositions(e);var i=!1;this._changedPointerPositions.forEach(s=>{var o=this.getIntersection(s);if(de.justDragged=!1,k["_"+r+"ListenClick"]=!0,!o||!o.isListening())return;k.capturePointerEventsEnabled&&o.setPointerCapture(s.id),this[r+"ClickStartShape"]=o,o._fireAndBubble(n.pointerdown,{evt:e,pointerId:s.id}),i=!0;const l=e.type.indexOf("touch")>=0;o.preventDefault()&&e.cancelable&&l&&e.preventDefault()}),i||this._fire(n.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(e){const n=Qi(e.type),r=yo(e.type);if(!n)return;if(de.isDragging&&de.node.preventDefault()&&e.cancelable&&e.preventDefault(),this.setPointersPositions(e),de.isDragging&&!k.hitOnDragEnabled)return;var s={};let o=!1;var a=this._getTargetShape(r);this._changedPointerPositions.forEach(l=>{const u=Hh(l.id)||this.getIntersection(l),c=l.id,d={evt:e,pointerId:c};var h=a!==u;if(h&&a&&(a._fireAndBubble(n.pointerout,Object.assign({},d),u),a._fireAndBubble(n.pointerleave,Object.assign({},d),u)),u){if(s[u._id])return;s[u._id]=!0}u&&u.isListening()?(o=!0,h&&(u._fireAndBubble(n.pointerover,Object.assign({},d),a),u._fireAndBubble(n.pointerenter,Object.assign({},d),a),this[r+"targetShape"]=u),u._fireAndBubble(n.pointermove,Object.assign({},d))):a&&(this._fire(n.pointerover,{evt:e,target:this,currentTarget:this,pointerId:c}),this[r+"targetShape"]=null)}),o||this._fire(n.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const n=Qi(e.type),r=yo(e.type);if(!n)return;this.setPointersPositions(e);const i=this[r+"ClickStartShape"],s=this[r+"ClickEndShape"];var o={};let a=!1;this._changedPointerPositions.forEach(l=>{const u=Hh(l.id)||this.getIntersection(l);if(u){if(u.releaseCapture(l.id),o[u._id])return;o[u._id]=!0}const c=l.id,d={evt:e,pointerId:c};let h=!1;k["_"+r+"InDblClickWindow"]?(h=!0,clearTimeout(this[r+"DblTimeout"])):de.justDragged||(k["_"+r+"InDblClickWindow"]=!0,clearTimeout(this[r+"DblTimeout"])),this[r+"DblTimeout"]=setTimeout(function(){k["_"+r+"InDblClickWindow"]=!1},k.dblClickWindow),u&&u.isListening()?(a=!0,this[r+"ClickEndShape"]=u,u._fireAndBubble(n.pointerup,Object.assign({},d)),k["_"+r+"ListenClick"]&&i&&i===u&&(u._fireAndBubble(n.pointerclick,Object.assign({},d)),h&&s&&s===u&&u._fireAndBubble(n.pointerdblclick,Object.assign({},d)))):(this[r+"ClickEndShape"]=null,k["_"+r+"ListenClick"]&&this._fire(n.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:c}),h&&this._fire(n.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:c}))}),a||this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),k["_"+r+"ListenClick"]=!1,e.cancelable&&"touch"!==r&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);var n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(Gh,{evt:e}):this._fire(Gh,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);var n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble($h,{evt:e}):this._fire($h,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const n=Hh(e.pointerId)||this.getIntersection(this.getPointerPosition());n&&n._fireAndBubble(Yi,Uh(e)),po(e.pointerId)}_lostpointercapture(e){po(e.pointerId)}setPointersPositions(e){var n=this._getContentPosition(),r=null,i=null;void 0!==(e=e||window.event).touches?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,s=>{this._pointerPositions.push({id:s.identifier,x:(s.clientX-n.left)/n.scaleX,y:(s.clientY-n.top)/n.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,s=>{this._changedPointerPositions.push({id:s.identifier,x:(s.clientX-n.left)/n.scaleX,y:(s.clientY-n.top)/n.scaleY})})):(this.pointerPos={x:r=(e.clientX-n.left)/n.scaleX,y:i=(e.clientY-n.top)/n.scaleY},this._pointerPositions=[{x:r,y:i,id:D._getFirstPointerId(e)}],this._changedPointerPositions=[{x:r,y:i,id:D._getFirstPointerId(e)}])}_setPointerPosition(e){D.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new qi({width:this.width(),height:this.height()}),this.bufferHitCanvas=new Bh({pixelRatio:1,width:this.width(),height:this.height()}),k.isBrowser){var e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}}cache(){return D.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}}kl.prototype.nodeType="Stage",Pe(kl),v.addGetterSetter(kl,"container");var nC="hasShadow",rC="shadowRGBA",iC="patternImage",sC="linearGradient",oC="radialGradient";let Nl;function Wh(){return Nl||(Nl=D.createCanvasElement().getContext("2d"),Nl)}const _o={};class M extends x{constructor(e){let n;for(super(e);n=D.getRandomColor(),!n||n in _o;);this.colorKey=n,_o[n]=this}getContext(){return D.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return D.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(nC,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(iC,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const n=Wh().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(n&&n.setTransform){const r=new kt;r.translate(this.fillPatternX(),this.fillPatternY()),r.rotate(k.getAngle(this.fillPatternRotation())),r.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),r.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const i=r.getMatrix(),s=typeof DOMMatrix>"u"?{a:i[0],b:i[1],c:i[2],d:i[3],e:i[4],f:i[5]}:new DOMMatrix(i);n.setTransform(s)}return n}}_getLinearGradient(){return this._getCache(sC,this.__getLinearGradient)}__getLinearGradient(){var e=this.fillLinearGradientColorStops();if(e){for(var n=Wh(),r=this.fillLinearGradientStartPoint(),i=this.fillLinearGradientEndPoint(),s=n.createLinearGradient(r.x,r.y,i.x,i.y),o=0;o<e.length;o+=2)s.addColorStop(e[o],e[o+1]);return s}}_getRadialGradient(){return this._getCache(oC,this.__getRadialGradient)}__getRadialGradient(){var e=this.fillRadialGradientColorStops();if(e){for(var n=Wh(),r=this.fillRadialGradientStartPoint(),i=this.fillRadialGradientEndPoint(),s=n.createRadialGradient(r.x,r.y,this.fillRadialGradientStartRadius(),i.x,i.y,this.fillRadialGradientEndRadius()),o=0;o<e.length;o+=2)s.addColorStop(e[o],e[o+1]);return s}}getShadowRGBA(){return this._getCache(rC,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var e=D.colorToRGBA(this.shadowColor());return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!(!this.stroke()&&!this.strokeLinearGradientColorStops()))}hasHitStroke(){const e=this.hitStrokeWidth();return"auto"===e?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){var r=this.getStage().bufferHitCanvas;return r.getContext().clear(),this.drawHit(r,null,!0),r.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return x.prototype.destroy.call(this),delete _o[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var n;if(!this.getStage()||null!==(n=this.attrs.perfectDrawEnabled)&&void 0!==n&&!n)return!1;const i=e||this.hasFill(),s=this.hasStroke(),o=1!==this.getAbsoluteOpacity();if(i&&s&&o)return!0;const a=this.hasShadow(),l=this.shadowForStrokeEnabled();return!!(i&&s&&a&&l)}setStrokeHitEnabled(e){D.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),this.hitStrokeWidth(e?"auto":0)}getStrokeHitEnabled(){return 0!==this.hitStrokeWidth()}getSelfRect(){var e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){const n=e.skipTransform,r=e.relativeTo,i=this.getSelfRect(),o=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,a=i.width+o,l=i.height+o,u=!e.skipShadow&&this.hasShadow(),c=u?this.shadowOffsetX():0,d=u?this.shadowOffsetY():0,h=a+Math.abs(c),p=l+Math.abs(d),f=u&&this.shadowBlur()||0,_={width:h+2*f,height:p+2*f,x:-(o/2+f)+Math.min(c,0)+i.x,y:-(o/2+f)+Math.min(d,0)+i.y};return n?_:this._transformedRect(_,r)}drawScene(e,n){var c,d,r=this.getLayer(),i=e||r.getCanvas(),s=i.getContext(),o=this._getCanvasCache(),a=this.getSceneFunc(),l=this.hasShadow(),h=i.isCache,p=n===this;if(!this.isVisible()&&!p)return this;if(o){s.save();var f=this.getAbsoluteTransform(n).getMatrix();return s.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this._drawCachedSceneCanvas(s),s.restore(),this}if(!a)return this;if(s.save(),this._useBufferCanvas()&&!h){(d=(c=this.getStage().bufferCanvas).getContext()).clear(),d.save(),d._applyLineJoin(this);var m=this.getAbsoluteTransform(n).getMatrix();d.transform(m[0],m[1],m[2],m[3],m[4],m[5]),a.call(this,d,this),d.restore();var g=c.pixelRatio;l&&s._applyShadow(this),s._applyOpacity(this),s._applyGlobalCompositeOperation(this),s.drawImage(c._canvas,0,0,c.width/g,c.height/g)}else s._applyLineJoin(this),p||(m=this.getAbsoluteTransform(n).getMatrix(),s.transform(m[0],m[1],m[2],m[3],m[4],m[5]),s._applyOpacity(this),s._applyGlobalCompositeOperation(this)),l&&s._applyShadow(this),a.call(this,s,this);return s.restore(),this}drawHit(e,n,r=!1){if(!this.shouldDrawHit(n,r))return this;var i=this.getLayer(),s=e||i.hitCanvas,o=s&&s.getContext(),a=this.hitFunc()||this.sceneFunc(),l=this._getCanvasCache(),u=l&&l.hit;if(this.colorKey||D.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),u){o.save();var c=this.getAbsoluteTransform(n).getMatrix();return o.transform(c[0],c[1],c[2],c[3],c[4],c[5]),this._drawCachedHitCanvas(o),o.restore(),this}if(!a)return this;if(o.save(),o._applyLineJoin(this),this!==n){var h=this.getAbsoluteTransform(n).getMatrix();o.transform(h[0],h[1],h[2],h[3],h[4],h[5])}return a.call(this,o,this),o.restore(),this}drawHitFromCache(e=0){var l,u,c,d,h,n=this._getCanvasCache(),r=this._getCachedSceneCanvas(),i=n.hit,s=i.getContext(),o=i.getWidth(),a=i.getHeight();s.clear(),s.drawImage(r._canvas,0,0,o,a);try{for(c=(u=(l=s.getImageData(0,0,o,a)).data).length,d=D._hexToRgb(this.colorKey),h=0;h<c;h+=4)u[h+3]>e?(u[h]=d.r,u[h+1]=d.g,u[h+2]=d.b,u[h+3]=255):u[h+3]=0;s.putImageData(l,0,0)}catch(f){D.error("Unable to draw hit graph from cached scene canvas. "+f.message)}return this}hasPointerCapture(e){return U1(e,this)}setPointerCapture(e){G1(e,this)}releaseCapture(e){po(e)}}M.prototype._fillFunc=function Mk(t){t.fill()},M.prototype._strokeFunc=function Ik(t){t.stroke()},M.prototype._fillFuncHit=function xk(t){t.fill()},M.prototype._strokeFuncHit=function Tk(t){t.stroke()},M.prototype._centroid=!1,M.prototype.nodeType="Shape",Pe(M),M.prototype.eventListeners={},M.prototype.on.call(M.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",function Ak(){this._clearCache(nC)}),M.prototype.on.call(M.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",function Pk(){this._clearCache(rC)}),M.prototype.on.call(M.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",function Rk(){this._clearCache(iC)}),M.prototype.on.call(M.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",function Ok(){this._clearCache(sC)}),M.prototype.on.call(M.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",function kk(){this._clearCache(oC)}),v.addGetterSetter(M,"stroke",void 0,R1()),v.addGetterSetter(M,"strokeWidth",2,I()),v.addGetterSetter(M,"fillAfterStrokeEnabled",!1),v.addGetterSetter(M,"hitStrokeWidth","auto",Lh()),v.addGetterSetter(M,"strokeHitEnabled",!0,on()),v.addGetterSetter(M,"perfectDrawEnabled",!0,on()),v.addGetterSetter(M,"shadowForStrokeEnabled",!0,on()),v.addGetterSetter(M,"lineJoin"),v.addGetterSetter(M,"lineCap"),v.addGetterSetter(M,"sceneFunc"),v.addGetterSetter(M,"hitFunc"),v.addGetterSetter(M,"dash"),v.addGetterSetter(M,"dashOffset",0,I()),v.addGetterSetter(M,"shadowColor",void 0,Wi()),v.addGetterSetter(M,"shadowBlur",0,I()),v.addGetterSetter(M,"shadowOpacity",1,I()),v.addComponentsGetterSetter(M,"shadowOffset",["x","y"]),v.addGetterSetter(M,"shadowOffsetX",0,I()),v.addGetterSetter(M,"shadowOffsetY",0,I()),v.addGetterSetter(M,"fillPatternImage"),v.addGetterSetter(M,"fill",void 0,R1()),v.addGetterSetter(M,"fillPatternX",0,I()),v.addGetterSetter(M,"fillPatternY",0,I()),v.addGetterSetter(M,"fillLinearGradientColorStops"),v.addGetterSetter(M,"strokeLinearGradientColorStops"),v.addGetterSetter(M,"fillRadialGradientStartRadius",0),v.addGetterSetter(M,"fillRadialGradientEndRadius",0),v.addGetterSetter(M,"fillRadialGradientColorStops"),v.addGetterSetter(M,"fillPatternRepeat","repeat"),v.addGetterSetter(M,"fillEnabled",!0),v.addGetterSetter(M,"strokeEnabled",!0),v.addGetterSetter(M,"shadowEnabled",!0),v.addGetterSetter(M,"dashEnabled",!0),v.addGetterSetter(M,"strokeScaleEnabled",!0),v.addGetterSetter(M,"fillPriority","color"),v.addComponentsGetterSetter(M,"fillPatternOffset",["x","y"]),v.addGetterSetter(M,"fillPatternOffsetX",0,I()),v.addGetterSetter(M,"fillPatternOffsetY",0,I()),v.addComponentsGetterSetter(M,"fillPatternScale",["x","y"]),v.addGetterSetter(M,"fillPatternScaleX",1,I()),v.addGetterSetter(M,"fillPatternScaleY",1,I()),v.addComponentsGetterSetter(M,"fillLinearGradientStartPoint",["x","y"]),v.addComponentsGetterSetter(M,"strokeLinearGradientStartPoint",["x","y"]),v.addGetterSetter(M,"fillLinearGradientStartPointX",0),v.addGetterSetter(M,"strokeLinearGradientStartPointX",0),v.addGetterSetter(M,"fillLinearGradientStartPointY",0),v.addGetterSetter(M,"strokeLinearGradientStartPointY",0),v.addComponentsGetterSetter(M,"fillLinearGradientEndPoint",["x","y"]),v.addComponentsGetterSetter(M,"strokeLinearGradientEndPoint",["x","y"]),v.addGetterSetter(M,"fillLinearGradientEndPointX",0),v.addGetterSetter(M,"strokeLinearGradientEndPointX",0),v.addGetterSetter(M,"fillLinearGradientEndPointY",0),v.addGetterSetter(M,"strokeLinearGradientEndPointY",0),v.addComponentsGetterSetter(M,"fillRadialGradientStartPoint",["x","y"]),v.addGetterSetter(M,"fillRadialGradientStartPointX",0),v.addGetterSetter(M,"fillRadialGradientStartPointY",0),v.addComponentsGetterSetter(M,"fillRadialGradientEndPoint",["x","y"]),v.addGetterSetter(M,"fillRadialGradientEndPointX",0),v.addGetterSetter(M,"fillRadialGradientEndPointY",0),v.addGetterSetter(M,"fillPatternRotation",0),v.backCompat(M,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});var aC=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],Bk=aC.length;class $r extends Nt{constructor(e){super(e),this.canvas=new qi,this.hitCanvas=new Bh({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);var n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){x.prototype.moveToTop.call(this);var e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!x.prototype.moveUp.call(this))return!1;var n=this.getStage();return!(!n||!n.content||(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),0))}moveDown(){if(x.prototype.moveDown.call(this)){var e=this.getStage();if(e){var n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(x.prototype.moveToBottom.call(this)){var e=this.getStage();if(e){var n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var e=this.getNativeCanvasElement();return x.prototype.remove.call(this),e&&e.parentNode&&D._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){var n=e.getType();"Group"!==n&&"Shape"!==n&&D.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return(e=e||{}).width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=void 0!==e.x?e.x:this.x(),e.y=void 0!==e.y?e.y:this.y(),x.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.canvas._canvas.style.display=this.visible()?"block":"none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){D.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){D.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,D.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;for(var n=1,r=!1;;){for(let i=0;i<Bk;i++){const s=aC[i],o=this._getIntersection({x:e.x+s.x*n,y:e.y+s.y*n}),a=o.shape;if(a)return a;if(r=!!o.antialiased,!o.antialiased)break}if(!r)return null;n+=1}}_getIntersection(e){const n=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,i=r[3];if(255===i){const s=D._rgbToHex(r[0],r[1],r[2]),o=_o["#"+s];return o?{shape:o}:{antialiased:!0}}return i>0?{antialiased:!0}:{}}drawScene(e,n){var r=this.getLayer(),i=e||r&&r.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&i.getContext().clear(),Nt.prototype.drawScene.call(this,i,n),this._fire("draw",{node:this}),this}drawHit(e,n){var r=this.getLayer(),i=e||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),Nt.prototype.drawHit.call(this,i,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){D.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return D.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(this.parent&&this.parent.content){var e=this.parent;this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}}}$r.prototype.nodeType="Layer",Pe($r),v.addGetterSetter($r,"imageSmoothingEnabled",!0),v.addGetterSetter($r,"clearBeforeDraw",!0),v.addGetterSetter($r,"hitGraphEnabled",!0,on());class qh extends $r{constructor(e){super(e),this.listening(!1),D.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}qh.prototype.nodeType="FastLayer",Pe(qh);class Zi extends Nt{_validateAdd(e){var n=e.getType();"Group"!==n&&"Shape"!==n&&D.throw("You may only add groups and shapes to groups.")}}Zi.prototype.nodeType="Group",Pe(Zi);var Yh=zi.performance&&zi.performance.now?function(){return zi.performance.now()}:function(){return(new Date).getTime()};let Qh=(()=>{class t{constructor(n,r){this.id=t.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:Yh(),frameRate:0},this.func=n,this.setLayers(r)}setLayers(n){return this.layers=n?n.length>0?n:[n]:[],this}getLayers(){return this.layers}addLayer(n){var s,r=this.layers,i=r.length;for(s=0;s<i;s++)if(r[s]._id===n._id)return!1;return this.layers.push(n),!0}isRunning(){var s,r=t.animations,i=r.length;for(s=0;s<i;s++)if(r[s].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=Yh(),t._addAnimation(this),this}stop(){return t._removeAnimation(this),this}_updateFrameObject(n){this.frame.timeDiff=n-this.frame.lastTime,this.frame.lastTime=n,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(n){this.animations.push(n),this._handleAnimation()}static _removeAnimation(n){var o,r=n.id,i=this.animations,s=i.length;for(o=0;o<s;o++)if(i[o].id===r){this.animations.splice(o,1);break}}static _runFrames(){var i,s,o,a,l,u,c,d,n={},r=this.animations;for(a=0;a<r.length;a++)if(s=(i=r[a]).layers,o=i.func,i._updateFrameObject(Yh()),u=s.length,!o||!1!==o.call(i,i.frame))for(l=0;l<u;l++)void 0!==(c=s[l])._id&&(n[c._id]=c);for(d in n)!n.hasOwnProperty(d)||n[d].batchDraw()}static _animationLoop(){var n=t;n.animations.length?(n._runFrames(),D.requestAnimFrame(n._animationLoop)):n.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,D.requestAnimFrame(this._animationLoop))}}return t.animations=[],t.animIdCounter=0,t.animRunning=!1,t})();var jk={node:1,duration:1,easing:1,onFinish:1,yoyo:1},Hk=0,cC=["fill","stroke","shadowColor"];class Uk{constructor(e,n,r,i,s,o,a){this.prop=e,this.propFunc=n,this.begin=i,this._pos=i,this.duration=o,this._change=0,this.prevPos=0,this.yoyo=a,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=r,this._change=s-this.begin,this.pause()}fire(e){var n=this[e];n&&n()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return void 0===e&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var e=this.getTimer()-this._startTime;2===this.state?this.setTime(e):3===this.state&&this.setTime(this.duration-e)}pause(){this.state=1,this.fire("onPause")}getTimer(){return(new Date).getTime()}}let dC=(()=>{class t{constructor(n){var o,u,r=this,i=n.node,s=i._id,a=n.easing||Co.Linear,l=!!n.yoyo;o=typeof n.duration>"u"?.3:0===n.duration?.001:n.duration,this.node=i,this._id=Hk++;var c=i.getLayer()||(i instanceof k.Stage?i.getLayers():null);for(u in c||D.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new Qh(function(){r.tween.onEnterFrame()},c),this.tween=new Uk(u,function(d){r._tweenFunc(d)},a,0,1,1e3*o,l),this._addListeners(),t.attrs[s]||(t.attrs[s]={}),t.attrs[s][this._id]||(t.attrs[s][this._id]={}),t.tweens[s]||(t.tweens[s]={}),n)void 0===jk[u]&&this._addAttr(u,n[u]);this.reset(),this.onFinish=n.onFinish,this.onReset=n.onReset,this.onUpdate=n.onUpdate}_addAttr(n,r){var o,a,l,u,c,d,h,p,i=this.node,s=i._id;if((l=t.tweens[s][n])&&delete t.attrs[s][l][n],o=i.getAttr(n),D._isArray(r))if(a=[],c=Math.max(r.length,o.length),"points"===n&&r.length!==o.length&&(r.length>o.length?(h=o,o=D._prepareArrayForTween(o,r,i.closed())):(d=r,r=D._prepareArrayForTween(r,o,i.closed()))),0===n.indexOf("fill"))for(u=0;u<c;u++)if(u%2==0)a.push(r[u]-o[u]);else{var f=D.colorToRGBA(o[u]);p=D.colorToRGBA(r[u]),o[u]=f,a.push({r:p.r-f.r,g:p.g-f.g,b:p.b-f.b,a:p.a-f.a})}else for(u=0;u<c;u++)a.push(r[u]-o[u]);else-1!==cC.indexOf(n)?(o=D.colorToRGBA(o),a={r:(p=D.colorToRGBA(r)).r-o.r,g:p.g-o.g,b:p.b-o.b,a:p.a-o.a}):a=r-o;t.attrs[s][this._id][n]={start:o,diff:a,end:r,trueEnd:d,trueStart:h},t.tweens[s][n]=this._id}_tweenFunc(n){var s,o,a,l,u,c,d,h,r=this.node,i=t.attrs[r._id][this._id];for(s in i){if(l=(o=i[s]).diff,h=o.end,D._isArray(a=o.start))if(u=[],d=Math.max(a.length,h.length),0===s.indexOf("fill"))for(c=0;c<d;c++)u.push(c%2==0?(a[c]||0)+l[c]*n:"rgba("+Math.round(a[c].r+l[c].r*n)+","+Math.round(a[c].g+l[c].g*n)+","+Math.round(a[c].b+l[c].b*n)+","+(a[c].a+l[c].a*n)+")");else for(c=0;c<d;c++)u.push((a[c]||0)+l[c]*n);else u=-1!==cC.indexOf(s)?"rgba("+Math.round(a.r+l.r*n)+","+Math.round(a.g+l.g*n)+","+Math.round(a.b+l.b*n)+","+(a.a+l.a*n)+")":a+l*n;r.setAttr(s,u)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var n=this.node,r=t.attrs[n._id][this._id];r.points&&r.points.trueEnd&&n.setAttr("points",r.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var n=this.node,r=t.attrs[n._id][this._id];r.points&&r.points.trueStart&&n.points(r.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(n){return this.tween.seek(1e3*n),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var s,n=this.node._id,r=this._id,i=t.tweens[n];for(s in this.pause(),i)delete t.tweens[n][s];delete t.attrs[n][r]}}return t.attrs={},t.tweens={},t})();x.prototype.to=function(t){var e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new dC(t).play()};const Co={BackEaseIn(t,e,n,r){var i=1.70158;return n*(t/=r)*t*((i+1)*t-i)+e},BackEaseOut(t,e,n,r){var i=1.70158;return n*((t=t/r-1)*t*((i+1)*t+i)+1)+e},BackEaseInOut(t,e,n,r){var i=1.70158;return(t/=r/2)<1?n/2*(t*t*((1+(i*=1.525))*t-i))+e:n/2*((t-=2)*t*((1+(i*=1.525))*t+i)+2)+e},ElasticEaseIn(t,e,n,r,i,s){var o=0;return 0===t?e:1==(t/=r)?e+n:(s||(s=.3*r),!i||i<Math.abs(n)?(i=n,o=s/4):o=s/(2*Math.PI)*Math.asin(n/i),-i*Math.pow(2,10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/s)+e)},ElasticEaseOut(t,e,n,r,i,s){var o=0;return 0===t?e:1==(t/=r)?e+n:(s||(s=.3*r),!i||i<Math.abs(n)?(i=n,o=s/4):o=s/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*t)*Math.sin((t*r-o)*(2*Math.PI)/s)+n+e)},ElasticEaseInOut(t,e,n,r,i,s){var o=0;return 0===t?e:2==(t/=r/2)?e+n:(s||(s=r*(.3*1.5)),!i||i<Math.abs(n)?(i=n,o=s/4):o=s/(2*Math.PI)*Math.asin(n/i),t<1?i*Math.pow(2,10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/s)*-.5+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/s)*.5+n+e)},BounceEaseOut:(t,e,n,r)=>(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e,BounceEaseIn:(t,e,n,r)=>n-Co.BounceEaseOut(r-t,0,n,r)+e,BounceEaseInOut:(t,e,n,r)=>t<r/2?.5*Co.BounceEaseIn(2*t,0,n,r)+e:.5*Co.BounceEaseOut(2*t-r,0,n,r)+.5*n+e,EaseIn:(t,e,n,r)=>n*(t/=r)*t+e,EaseOut:(t,e,n,r)=>-n*(t/=r)*(t-2)+e,EaseInOut:(t,e,n,r)=>(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e,StrongEaseIn:(t,e,n,r)=>n*(t/=r)*t*t*t*t+e,StrongEaseOut:(t,e,n,r)=>n*((t=t/r-1)*t*t*t*t+1)+e,StrongEaseInOut:(t,e,n,r)=>(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e,Linear:(t,e,n,r)=>n*t/r+e},hC=D._assign(k,{Util:D,Transform:kt,Node:x,Container:Nt,Stage:kl,stages:Ol,Layer:$r,FastLayer:qh,Group:Zi,DD:de,Shape:M,shapes:_o,Animation:Qh,Tween:dC,Easings:Co,Context:bl,Canvas:El});class Gn extends M{_sceneFunc(e){var n=k.getAngle(this.angle()),r=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,r),e.arc(0,0,this.innerRadius(),n,0,!r),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),n=this.outerRadius(),r=this.clockwise(),i=k.getAngle(r?360-this.angle():this.angle()),s=Math.cos(Math.min(i,Math.PI)),a=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),l=Math.sin(Math.min(i,Math.PI/2)),u=s*(s>0?e:n),d=a*(a>0?e:n),h=l*(l>0?n:e);return{x:u,y:r?-1*h:d,width:1*n-u,height:h-d}}}function Zh(t,e,n,r,i,s,o){var a=Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2)),l=Math.sqrt(Math.pow(i-n,2)+Math.pow(s-r,2)),u=o*a/(a+l),c=o*l/(a+l);return[n-u*(i-t),r-u*(s-e),n+c*(i-t),r+c*(s-e)]}function fC(t,e){var i,s,n=t.length,r=[];for(i=2;i<n-2;i+=2)s=Zh(t[i-2],t[i-1],t[i],t[i+1],t[i+2],t[i+3],e),!isNaN(s[0])&&(r.push(s[0]),r.push(s[1]),r.push(t[i]),r.push(t[i+1]),r.push(s[2]),r.push(s[3]));return r}Gn.prototype._centroid=!0,Gn.prototype.className="Arc",Gn.prototype._attrsAffectingSize=["innerRadius","outerRadius"],Pe(Gn),v.addGetterSetter(Gn,"innerRadius",0,I()),v.addGetterSetter(Gn,"outerRadius",0,I()),v.addGetterSetter(Gn,"angle",0,I()),v.addGetterSetter(Gn,"clockwise",!1,on());class $n extends M{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){var a,l,u,n=this.points(),r=n.length,i=this.tension(),s=this.closed(),o=this.bezier();if(r){if(e.beginPath(),e.moveTo(n[0],n[1]),0!==i&&r>4){for(l=(a=this.getTensionPoints()).length,u=s?0:4,s||e.quadraticCurveTo(a[0],a[1],a[2],a[3]);u<l-2;)e.bezierCurveTo(a[u++],a[u++],a[u++],a[u++],a[u++],a[u++]);s||e.quadraticCurveTo(a[l-2],a[l-1],n[r-2],n[r-1])}else if(o)for(u=2;u<r;)e.bezierCurveTo(n[u++],n[u++],n[u++],n[u++],n[u++],n[u++]);else for(u=2;u<r;u+=2)e.lineTo(n[u],n[u+1]);s?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():fC(this.points(),this.tension())}_getTensionPointsClosed(){var e=this.points(),n=e.length,r=this.tension(),i=Zh(e[n-2],e[n-1],e[0],e[1],e[2],e[3],r),s=Zh(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],r),o=fC(e,r);return[i[2],i[3]].concat(o).concat([s[0],s[1],e[n-2],e[n-1],s[2],s[3],i[0],i[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};for(var o,a,n=(e=0!==this.tension()?[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:this.points())[0],r=e[0],i=e[1],s=e[1],l=0;l<e.length/2;l++)o=e[2*l],a=e[2*l+1],n=Math.min(n,o),r=Math.max(r,o),i=Math.min(i,a),s=Math.max(s,a);return{x:n,y:i,width:r-n,height:s-i}}}$n.prototype.className="Line",$n.prototype._attrsAffectingSize=["points","bezier","tension"],Pe($n),v.addGetterSetter($n,"closed",!1),v.addGetterSetter($n,"bezier",!1),v.addGetterSetter($n,"tension",0,I()),v.addGetterSetter($n,"points",[],function KO(){if(k.isUnminified)return function(t,e){return D._isArray(t)?t.forEach(function(n){D._isNumber(n)||D.warn('"'+e+'" attribute has non numeric element '+n+". Make sure that all elements are numbers.")}):D.warn(Hn(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.'),t}}());class Ce extends M{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this.dataArray=Ce.parsePathData(this.data()),this.pathLength=0;for(var n=0;n<this.dataArray.length;++n)this.pathLength+=this.dataArray[n].pathLength;this.on("dataChange.konva",function(){this.dataArray=Ce.parsePathData(this.data()),this.pathLength=0;for(var r=0;r<this.dataArray.length;++r)this.pathLength+=this.dataArray[r].pathLength})}_sceneFunc(e){var n=this.dataArray;e.beginPath();for(var r=!1,i=0;i<n.length;i++){var o=n[i].points;switch(n[i].command){case"L":e.lineTo(o[0],o[1]);break;case"M":e.moveTo(o[0],o[1]);break;case"C":e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"Q":e.quadraticCurveTo(o[0],o[1],o[2],o[3]);break;case"A":var a=o[0],l=o[1],u=o[2],c=o[3],d=o[4],h=o[5],p=o[6],f=o[7],m=u>c?u:c,g=u>c?1:u/c,_=u>c?c/u:1;e.translate(a,l),e.rotate(p),e.scale(g,_),e.arc(0,0,m,d,d+h,1-f),e.scale(1/g,1/_),e.rotate(-p),e.translate(-a,-l);break;case"z":r=!0,e.closePath()}}r||this.hasFill()?e.fillStrokeShape(this):e.strokeShape(this)}getSelfRect(){var e=[];this.dataArray.forEach(function(u){if("A"===u.command){var c=u.points[4],d=u.points[5],h=u.points[4]+d,p=Math.PI/180;if(Math.abs(c-h)<p&&(p=Math.abs(c-h)),d<0)for(let f=c-p;f>h;f-=p){const m=Ce.getPointOnEllipticalArc(u.points[0],u.points[1],u.points[2],u.points[3],f,0);e.push(m.x,m.y)}else for(let f=c+p;f<h;f+=p){const m=Ce.getPointOnEllipticalArc(u.points[0],u.points[1],u.points[2],u.points[3],f,0);e.push(m.x,m.y)}}else if("C"===u.command)for(let f=0;f<=1;f+=.01){const m=Ce.getPointOnCubicBezier(f,u.start.x,u.start.y,u.points[0],u.points[1],u.points[2],u.points[3],u.points[4],u.points[5]);e.push(m.x,m.y)}else e=e.concat(u.points)});for(var o,a,n=e[0],r=e[0],i=e[1],s=e[1],l=0;l<e.length/2;l++)o=e[2*l],a=e[2*l+1],isNaN(o)||(n=Math.min(n,o),r=Math.max(r,o)),isNaN(a)||(i=Math.min(i,a),s=Math.max(s,a));return{x:n,y:i,width:r-n,height:s-i}}getLength(){return this.pathLength}getPointAtLength(e){var n,r=0,i=this.dataArray.length;if(!i)return null;for(;r<i&&e>this.dataArray[r].pathLength;)e-=this.dataArray[r].pathLength,++r;if(r===i)return{x:(n=this.dataArray[r-1].points.slice(-2))[0],y:n[1]};if(e<.01)return{x:(n=this.dataArray[r].points.slice(0,2))[0],y:n[1]};var s=this.dataArray[r],o=s.points;switch(s.command){case"L":return Ce.getPointOnLine(e,s.start.x,s.start.y,o[0],o[1]);case"C":return Ce.getPointOnCubicBezier(e/s.pathLength,s.start.x,s.start.y,o[0],o[1],o[2],o[3],o[4],o[5]);case"Q":return Ce.getPointOnQuadraticBezier(e/s.pathLength,s.start.x,s.start.y,o[0],o[1],o[2],o[3]);case"A":var d=o[4];return Ce.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],d+=o[5]*e/s.pathLength,o[6])}return null}static getLineLength(e,n,r,i){return Math.sqrt((r-e)*(r-e)+(i-n)*(i-n))}static getPointOnLine(e,n,r,i,s,o,a){void 0===o&&(o=n),void 0===a&&(a=r);var l=(s-r)/(i-n+1e-8),u=Math.sqrt(e*e/(1+l*l));i<n&&(u*=-1);var d,c=l*u;if(i===n)d={x:o,y:a+c};else if((a-r)/(o-n+1e-8)===l)d={x:o+u,y:a+c};else{var h,p,f=this.getLineLength(n,r,i,s),m=(o-n)*(i-n)+(a-r)*(s-r),g=this.getLineLength(o,a,h=n+(m/=f*f)*(i-n),p=r+m*(s-r)),_=Math.sqrt(e*e-g*g);u=Math.sqrt(_*_/(1+l*l)),i<n&&(u*=-1),d={x:h+u,y:p+(c=l*u)}}return d}static getPointOnCubicBezier(e,n,r,i,s,o,a,l,u){function c(g){return g*g*g}function d(g){return 3*g*g*(1-g)}function h(g){return 3*g*(1-g)*(1-g)}function p(g){return(1-g)*(1-g)*(1-g)}return{x:l*c(e)+o*d(e)+i*h(e)+n*p(e),y:u*c(e)+a*d(e)+s*h(e)+r*p(e)}}static getPointOnQuadraticBezier(e,n,r,i,s,o,a){function l(p){return p*p}function u(p){return 2*p*(1-p)}function c(p){return(1-p)*(1-p)}return{x:o*l(e)+i*u(e)+n*c(e),y:a*l(e)+s*u(e)+r*c(e)}}static getPointOnEllipticalArc(e,n,r,i,s,o){var a=Math.cos(o),l=Math.sin(o),u_x=r*Math.cos(s),u_y=i*Math.sin(s);return{x:e+(u_x*a-u_y*l),y:n+(u_x*l+u_y*a)}}static parsePathData(e){if(!e)return[];var n=e,r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(var i=0;i<r.length;i++)n=n.replace(new RegExp(r[i],"g"),"|"+r[i]);var d,s=n.split("|"),o=[],a=[],l=0,u=0,c=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;for(i=1;i<s.length;i++){var h=s[i],p=h.charAt(0);for(h=h.slice(1),a.length=0;d=c.exec(h);)a.push(d[0]);for(var f=[],m=0,g=a.length;m<g;m++)if("00"!==a[m]){var _=parseFloat(a[m]);isNaN(_)?f.push(0):f.push(_)}else f.push(0,0);for(;f.length>0&&!isNaN(f[0]);){var E,N,R,B,j,L,J,H,ye,tt,C=null,y=[],w=l,S=u;switch(p){case"l":l+=f.shift(),u+=f.shift(),C="L",y.push(l,u);break;case"L":l=f.shift(),u=f.shift(),y.push(l,u);break;case"m":var pe=f.shift(),Xe=f.shift();if(l+=pe,u+=Xe,C="M",o.length>2&&"z"===o[o.length-1].command)for(var St=o.length-2;St>=0;St--)if("M"===o[St].command){l=o[St].points[0]+pe,u=o[St].points[1]+Xe;break}y.push(l,u),p="l";break;case"M":l=f.shift(),u=f.shift(),C="M",y.push(l,u),p="L";break;case"h":l+=f.shift(),C="L",y.push(l,u);break;case"H":l=f.shift(),C="L",y.push(l,u);break;case"v":u+=f.shift(),C="L",y.push(l,u);break;case"V":u=f.shift(),C="L",y.push(l,u);break;case"C":y.push(f.shift(),f.shift(),f.shift(),f.shift()),l=f.shift(),u=f.shift(),y.push(l,u);break;case"c":y.push(l+f.shift(),u+f.shift(),l+f.shift(),u+f.shift()),l+=f.shift(),u+=f.shift(),C="C",y.push(l,u);break;case"S":N=l,R=u,"C"===(E=o[o.length-1]).command&&(N=l+(l-E.points[2]),R=u+(u-E.points[3])),y.push(N,R,f.shift(),f.shift()),l=f.shift(),u=f.shift(),C="C",y.push(l,u);break;case"s":N=l,R=u,"C"===(E=o[o.length-1]).command&&(N=l+(l-E.points[2]),R=u+(u-E.points[3])),y.push(N,R,l+f.shift(),u+f.shift()),l+=f.shift(),u+=f.shift(),C="C",y.push(l,u);break;case"Q":y.push(f.shift(),f.shift()),l=f.shift(),u=f.shift(),y.push(l,u);break;case"q":y.push(l+f.shift(),u+f.shift()),l+=f.shift(),u+=f.shift(),C="Q",y.push(l,u);break;case"T":N=l,R=u,"Q"===(E=o[o.length-1]).command&&(N=l+(l-E.points[0]),R=u+(u-E.points[1])),l=f.shift(),u=f.shift(),C="Q",y.push(N,R,l,u);break;case"t":N=l,R=u,"Q"===(E=o[o.length-1]).command&&(N=l+(l-E.points[0]),R=u+(u-E.points[1])),l+=f.shift(),u+=f.shift(),C="Q",y.push(N,R,l,u);break;case"A":B=f.shift(),j=f.shift(),L=f.shift(),J=f.shift(),H=f.shift(),ye=l,tt=u,l=f.shift(),u=f.shift(),C="A",y=this.convertEndpointToCenterParameterization(ye,tt,l,u,J,H,B,j,L);break;case"a":B=f.shift(),j=f.shift(),L=f.shift(),J=f.shift(),H=f.shift(),ye=l,tt=u,l+=f.shift(),u+=f.shift(),C="A",y=this.convertEndpointToCenterParameterization(ye,tt,l,u,J,H,B,j,L)}o.push({command:C||p,points:y,start:{x:w,y:S},pathLength:this.calcLength(w,S,C||p,y)})}("z"===p||"Z"===p)&&o.push({command:"z",points:[],start:void 0,pathLength:0})}return o}static calcLength(e,n,r,i){var s,o,a,l,u=Ce;switch(r){case"L":return u.getLineLength(e,n,i[0],i[1]);case"C":for(s=0,o=u.getPointOnCubicBezier(0,e,n,i[0],i[1],i[2],i[3],i[4],i[5]),l=.01;l<=1;l+=.01)a=u.getPointOnCubicBezier(l,e,n,i[0],i[1],i[2],i[3],i[4],i[5]),s+=u.getLineLength(o.x,o.y,a.x,a.y),o=a;return s;case"Q":for(s=0,o=u.getPointOnQuadraticBezier(0,e,n,i[0],i[1],i[2],i[3]),l=.01;l<=1;l+=.01)a=u.getPointOnQuadraticBezier(l,e,n,i[0],i[1],i[2],i[3]),s+=u.getLineLength(o.x,o.y,a.x,a.y),o=a;return s;case"A":s=0;var c=i[4],d=i[5],h=i[4]+d,p=Math.PI/180;if(Math.abs(c-h)<p&&(p=Math.abs(c-h)),o=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],c,0),d<0)for(l=c-p;l>h;l-=p)a=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),s+=u.getLineLength(o.x,o.y,a.x,a.y),o=a;else for(l=c+p;l<h;l+=p)a=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),s+=u.getLineLength(o.x,o.y,a.x,a.y),o=a;return a=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],h,0),s+u.getLineLength(o.x,o.y,a.x,a.y)}return 0}static convertEndpointToCenterParameterization(e,n,r,i,s,o,a,l,u){var c=u*(Math.PI/180),d=Math.cos(c)*(e-r)/2+Math.sin(c)*(n-i)/2,h=-1*Math.sin(c)*(e-r)/2+Math.cos(c)*(n-i)/2,p=d*d/(a*a)+h*h/(l*l);p>1&&(a*=Math.sqrt(p),l*=Math.sqrt(p));var f=Math.sqrt((a*a*(l*l)-a*a*(h*h)-l*l*(d*d))/(a*a*(h*h)+l*l*(d*d)));s===o&&(f*=-1),isNaN(f)&&(f=0);var m=f*a*h/l,g=f*-l*d/a,_=(e+r)/2+Math.cos(c)*m-Math.sin(c)*g,C=(n+i)/2+Math.sin(c)*m+Math.cos(c)*g,y=function(j){return Math.sqrt(j[0]*j[0]+j[1]*j[1])},w=function(j,L){return(j[0]*L[0]+j[1]*L[1])/(y(j)*y(L))},S=function(j,L){return(j[0]*L[1]<j[1]*L[0]?-1:1)*Math.acos(w(j,L))},E=S([1,0],[(d-m)/a,(h-g)/l]),N=[(d-m)/a,(h-g)/l],R=[(-1*d-m)/a,(-1*h-g)/l],B=S(N,R);return w(N,R)<=-1&&(B=Math.PI),w(N,R)>=1&&(B=0),0===o&&B>0&&(B-=2*Math.PI),1===o&&B<0&&(B+=2*Math.PI),[_,C,a,l,E,B,c,o]}}Ce.prototype.className="Path",Ce.prototype._attrsAffectingSize=["data"],Pe(Ce),v.addGetterSetter(Ce,"data");class zr extends $n{_sceneFunc(e){super._sceneFunc(e);var n=2*Math.PI,r=this.points(),i=r,s=0!==this.tension()&&r.length>4;s&&(i=this.getTensionPoints());var l,u,o=this.pointerLength(),a=r.length;if(s){const h=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],r[a-2],r[a-1]],p=Ce.calcLength(i[i.length-4],i[i.length-3],"C",h),f=Ce.getPointOnQuadraticBezier(Math.min(1,1-o/p),h[0],h[1],h[2],h[3],h[4],h[5]);l=r[a-2]-f.x,u=r[a-1]-f.y}else l=r[a-2]-r[a-4],u=r[a-1]-r[a-3];var c=(Math.atan2(u,l)+n)%n,d=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(r[a-2],r[a-1]),e.rotate(c),e.moveTo(0,0),e.lineTo(-o,d/2),e.lineTo(-o,-d/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(r[0],r[1]),s?(l=(i[0]+i[2])/2-r[0],u=(i[1]+i[3])/2-r[1]):(l=r[2]-r[0],u=r[3]-r[1]),e.rotate((Math.atan2(-u,-l)+n)%n),e.moveTo(0,0),e.lineTo(-o,d/2),e.lineTo(-o,-d/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){var n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x-n,y:e.y-n,width:e.width+2*n,height:e.height+2*n}}}zr.prototype.className="Arrow",Pe(zr),v.addGetterSetter(zr,"pointerLength",10,I()),v.addGetterSetter(zr,"pointerWidth",10,I()),v.addGetterSetter(zr,"pointerAtBeginning",!1),v.addGetterSetter(zr,"pointerAtEnding",!0);class Xi extends M{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,2*Math.PI,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}}Xi.prototype._centroid=!0,Xi.prototype.className="Circle",Xi.prototype._attrsAffectingSize=["radius"],Pe(Xi),v.addGetterSetter(Xi,"radius",0,I());class fr extends M{_sceneFunc(e){var n=this.radiusX(),r=this.radiusY();e.beginPath(),e.save(),n!==r&&e.scale(1,r/n),e.arc(0,0,n,0,2*Math.PI,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.radiusX()}getHeight(){return 2*this.radiusY()}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}fr.prototype.className="Ellipse",fr.prototype._centroid=!0,fr.prototype._attrsAffectingSize=["radiusX","radiusY"],Pe(fr),v.addComponentsGetterSetter(fr,"radius",["x","y"]),v.addGetterSetter(fr,"radiusX",0,I()),v.addGetterSetter(fr,"radiusY",0,I());class an extends M{constructor(e){super(e),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&4===e.readyState||e&&e.addEventListener&&e.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),r=this.getHeight(),i=this.attrs.image;let s;if(i){const o=this.attrs.cropWidth,a=this.attrs.cropHeight;s=o&&a?[i,this.cropX(),this.cropY(),o,a,0,0,n,r]:[i,0,0,n,r]}(this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)),i&&e.drawImage.apply(e,s)}_hitFunc(e){var n=this.width(),r=this.height();e.beginPath(),e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n;return null!==(e=this.attrs.width)&&void 0!==e?e:null===(n=this.image())||void 0===n?void 0:n.width}getHeight(){var e,n;return null!==(e=this.attrs.height)&&void 0!==e?e:null===(n=this.image())||void 0===n?void 0:n.height}static fromURL(e,n,r=null){var i=D.createImageElement();i.onload=function(){var s=new an({image:i});n(s)},i.onerror=r,i.crossOrigin="Anonymous",i.src=e}}an.prototype.className="Image",Pe(an),v.addGetterSetter(an,"image"),v.addComponentsGetterSetter(an,"crop",["x","y","width","height"]),v.addGetterSetter(an,"cropX",0,I()),v.addGetterSetter(an,"cropY",0,I()),v.addGetterSetter(an,"cropWidth",0,I()),v.addGetterSetter(an,"cropHeight",0,I());var pC=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],Kh="right",Jh="down",ef="left",zk=pC.length;class tf extends Zi{constructor(e){super(e),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){var r,n=this,i=function(){n._sync()};for(r=0;r<zk;r++)e.on(pC[r]+"Change.konva",i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var r,i,s,o,a,l,u,e=this.getText(),n=this.getTag();if(e&&n){switch(r=e.width(),i=e.height(),s=n.pointerDirection(),o=n.pointerWidth(),u=n.pointerHeight(),a=0,l=0,s){case"up":a=r/2,l=-1*u;break;case Kh:a=r+o,l=i/2;break;case Jh:a=r/2,l=i+u;break;case ef:a=-1*o,l=i/2}n.setAttrs({x:-1*a,y:-1*l,width:r,height:i}),e.setAttrs({x:-1*a,y:-1*l})}}}tf.prototype.className="Label",Pe(tf);class Wr extends M{_sceneFunc(e){var n=this.width(),r=this.height(),i=this.pointerDirection(),s=this.pointerWidth(),o=this.pointerHeight(),a=this.cornerRadius();let l=0,u=0,c=0,d=0;"number"==typeof a?l=u=c=d=Math.min(a,n/2,r/2):(l=Math.min(a[0]||0,n/2,r/2),u=Math.min(a[1]||0,n/2,r/2),d=Math.min(a[2]||0,n/2,r/2),c=Math.min(a[3]||0,n/2,r/2)),e.beginPath(),e.moveTo(l,0),"up"===i&&(e.lineTo((n-s)/2,0),e.lineTo(n/2,-1*o),e.lineTo((n+s)/2,0)),e.lineTo(n-u,0),e.arc(n-u,u,u,3*Math.PI/2,0,!1),i===Kh&&(e.lineTo(n,(r-o)/2),e.lineTo(n+s,r/2),e.lineTo(n,(r+o)/2)),e.lineTo(n,r-d),e.arc(n-d,r-d,d,0,Math.PI/2,!1),i===Jh&&(e.lineTo((n+s)/2,r),e.lineTo(n/2,r+o),e.lineTo((n-s)/2,r)),e.lineTo(c,r),e.arc(c,r-c,c,Math.PI/2,Math.PI,!1),i===ef&&(e.lineTo(0,(r+o)/2),e.lineTo(-1*s,r/2),e.lineTo(0,(r-o)/2)),e.lineTo(0,l),e.arc(l,l,l,Math.PI,3*Math.PI/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){var e=0,n=0,r=this.pointerWidth(),i=this.pointerHeight(),s=this.pointerDirection(),o=this.width(),a=this.height();return"up"===s?(n-=i,a+=i):s===Jh?a+=i:s===ef?(e-=1.5*r,o+=r):s===Kh&&(o+=1.5*r),{x:e,y:n,width:o,height:a}}}Wr.prototype.className="Tag",Pe(Wr),v.addGetterSetter(Wr,"pointerDirection","none"),v.addGetterSetter(Wr,"pointerWidth",0,I()),v.addGetterSetter(Wr,"pointerHeight",0,I()),v.addGetterSetter(Wr,"cornerRadius",0,P1(4));class Do extends M{_sceneFunc(e){var n=this.cornerRadius(),r=this.width(),i=this.height();if(e.beginPath(),n){let s=0,o=0,a=0,l=0;"number"==typeof n?s=o=a=l=Math.min(n,r/2,i/2):(s=Math.min(n[0]||0,r/2,i/2),o=Math.min(n[1]||0,r/2,i/2),l=Math.min(n[2]||0,r/2,i/2),a=Math.min(n[3]||0,r/2,i/2)),e.moveTo(s,0),e.lineTo(r-o,0),e.arc(r-o,o,o,3*Math.PI/2,0,!1),e.lineTo(r,i-l),e.arc(r-l,i-l,l,0,Math.PI/2,!1),e.lineTo(a,i),e.arc(a,i-a,a,Math.PI/2,Math.PI,!1),e.lineTo(0,s),e.arc(s,s,s,Math.PI,3*Math.PI/2,!1)}else e.rect(0,0,r,i);e.closePath(),e.fillStrokeShape(this)}}Do.prototype.className="Rect",Pe(Do),v.addGetterSetter(Do,"cornerRadius",0,P1(4));class qr extends M{_sceneFunc(e){const n=this._getPoints();e.beginPath(),e.moveTo(n[0].x,n[0].y);for(var r=1;r<n.length;r++)e.lineTo(n[r].x,n[r].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,n=this.attrs.radius||0,r=[];for(var i=0;i<e;i++)r.push({x:n*Math.sin(2*i*Math.PI/e),y:-1*n*Math.cos(2*i*Math.PI/e)});return r}getSelfRect(){const e=this._getPoints();var n=e[0].x,r=e[0].y,i=e[0].x,s=e[0].y;return e.forEach(o=>{n=Math.min(n,o.x),r=Math.max(r,o.x),i=Math.min(i,o.y),s=Math.max(s,o.y)}),{x:n,y:i,width:r-n,height:s-i}}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}qr.prototype.className="RegularPolygon",qr.prototype._centroid=!0,qr.prototype._attrsAffectingSize=["radius"],Pe(qr),v.addGetterSetter(qr,"radius",0,I()),v.addGetterSetter(qr,"sides",0,I());var gC=2*Math.PI;class Yr extends M{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,gC,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),gC,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Yr.prototype.className="Ring",Yr.prototype._centroid=!0,Yr.prototype._attrsAffectingSize=["innerRadius","outerRadius"],Pe(Yr),v.addGetterSetter(Yr,"innerRadius",0,I()),v.addGetterSetter(Yr,"outerRadius",0,I());class wn extends M{constructor(e){super(e),this._updated=!0,this.anim=new Qh(()=>{var n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){!this.anim.isRunning()||(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){var n=this.animation(),r=this.frameIndex(),i=4*r,s=this.animations()[n],o=this.frameOffsets(),a=s[i+0],l=s[i+1],u=s[i+2],c=s[i+3],d=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,u,c),e.closePath(),e.fillStrokeShape(this)),d)if(o){var h=o[n],p=2*r;e.drawImage(d,a,l,u,c,h[p+0],h[p+1],u,c)}else e.drawImage(d,a,l,u,c,0,0,u,c)}_hitFunc(e){var n=this.animation(),r=this.frameIndex(),i=4*r,s=this.animations()[n],o=this.frameOffsets(),a=s[i+2],l=s[i+3];if(e.beginPath(),o){var u=o[n],c=2*r;e.rect(u[c+0],u[c+1],a,l)}else e.rect(0,0,a,l);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var e=this.frameIndex(),n=this.animation(),r=this.animations();this.frameIndex(e<r[n].length/4-1?e+1:0)}}wn.prototype.className="Sprite",Pe(wn),v.addGetterSetter(wn,"animation"),v.addGetterSetter(wn,"animations"),v.addGetterSetter(wn,"frameOffsets"),v.addGetterSetter(wn,"image"),v.addGetterSetter(wn,"frameIndex",0,I()),v.addGetterSetter(wn,"frameRate",17,I()),v.backCompat(wn,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class pr extends M{_sceneFunc(e){var n=this.innerRadius(),r=this.outerRadius(),i=this.numPoints();e.beginPath(),e.moveTo(0,0-r);for(var s=1;s<2*i;s++){var o=s%2==0?r:n,a=o*Math.sin(s*Math.PI/i),l=-1*o*Math.cos(s*Math.PI/i);e.lineTo(a,l)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.outerRadius()}getHeight(){return 2*this.outerRadius()}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}function mC(t){return Array.from(t)}pr.prototype.className="Star",pr.prototype._centroid=!0,pr.prototype._attrsAffectingSize=["innerRadius","outerRadius"],Pe(pr),v.addGetterSetter(pr,"numPoints",5,I()),v.addGetterSetter(pr,"innerRadius",0,I()),v.addGetterSetter(pr,"outerRadius",0,I());var Ll,Ki="auto",wo="justify",wC=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],rN=wC.length;function rf(){return Ll||(Ll=D.createCanvasElement().getContext("2d"))}class Re extends M{constructor(e){super(function aN(t){return!(t=t||{}).fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}(e)),this._partialTextX=0,this._partialTextY=0;for(var n=0;n<rN;n++)this.on(wC[n]+"Change.konva",this._setTextData);this._setTextData()}_sceneFunc(e){var n=this.textArr,r=n.length;if(this.text()){var g,i=this.padding(),s=this.fontSize(),o=this.lineHeight()*s,a=this.verticalAlign(),l=0,u=this.align(),c=this.getWidth(),d=this.letterSpacing(),h=this.fill(),p=this.textDecoration(),f=-1!==p.indexOf("underline"),m=-1!==p.indexOf("line-through"),_=0,C=(_=o/2,0),y=0;for(e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline","middle"),e.setAttr("textAlign","left"),"middle"===a?l=(this.getHeight()-r*o-2*i)/2:"bottom"===a&&(l=this.getHeight()-r*o-2*i),e.translate(i,l+i),g=0;g<r;g++){C=0,y=0;var R,B,j,w=n[g],S=w.text,E=w.width,N=w.lastInParagraph;if(e.save(),"right"===u?C+=c-E-2*i:"center"===u&&(C+=(c-E-2*i)/2),f&&(e.save(),e.beginPath(),e.moveTo(C,_+y+Math.round(s/2)),B=0==(R=S.split(" ").length-1),j=u===wo&&N&&!B?c-2*i:E,e.lineTo(C+Math.round(j),_+y+Math.round(s/2)),e.lineWidth=s/15,e.strokeStyle=h,e.stroke(),e.restore()),m&&(e.save(),e.beginPath(),e.moveTo(C,_+y),B=0==(R=S.split(" ").length-1),j=u===wo&&N&&!B?c-2*i:E,e.lineTo(C+Math.round(j),_+y),e.lineWidth=s/15,e.strokeStyle=h,e.stroke(),e.restore()),0!==d||u===wo){R=S.split(" ").length-1;for(var L=mC(S),J=0;J<L.length;J++){var H=L[J];" "===H&&!N&&u===wo&&(C+=(c-2*i-E)/R),this._partialTextX=C,this._partialTextY=_+y,this._partialText=H,e.fillStrokeShape(this),C+=this.measureSize(H).width+d}}else this._partialTextX=C,this._partialTextY=_+y,this._partialText=S,e.fillStrokeShape(this);e.restore(),r>1&&(_+=o)}}}_hitFunc(e){var n=this.getWidth(),r=this.getHeight();e.beginPath(),e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}setText(e){var n=D._isString(e)?e:null==e?"":e+"";return this._setAttr("text",n),this}getWidth(){return this.attrs.width===Ki||void 0===this.attrs.width?this.getTextWidth()+2*this.padding():this.attrs.width}getHeight(){return this.attrs.height===Ki||void 0===this.attrs.height?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return D.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var i,n=rf(),r=this.fontSize();return n.save(),n.font=this._getContextFont(),i=n.measureText(e),n.restore(),{width:i.width,height:r}}_getContextFont(){return this.fontStyle()+" "+this.fontVariant()+" "+this.fontSize()+"px "+function iN(t){return t.split(",").map(e=>{const n=(e=e.trim()).indexOf(" ")>=0,r=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!r&&(e=`"${e}"`),e}).join(", ")}(this.fontFamily())}_addTextLine(e){this.align()===wo&&(e=e.trim());var n=this._getTextWidth(e);return this.textArr.push({text:e,width:n,lastInParagraph:!1})}_getTextWidth(e){var n=this.letterSpacing(),r=e.length;return rf().measureText(e).width+(r?n*(r-1):0)}_setTextData(){var e=this.text().split("\n"),n=+this.fontSize(),r=0,i=this.lineHeight()*n,s=this.attrs.width,o=this.attrs.height,a=s!==Ki&&void 0!==s,l=o!==Ki&&void 0!==o,u=this.padding(),c=s-2*u,d=o-2*u,h=0,p=this.wrap(),m="char"!==p&&"none"!==p,g=this.ellipsis();this.textArr=[],rf().font=this._getContextFont();for(var _=g?this._getTextWidth("\u2026"):0,C=0,y=e.length;C<y;++C){var w=e[C],S=this._getTextWidth(w);if(a&&S>c)for(;w.length>0;){for(var E=0,N=w.length,R="",B=0;E<N;){var j=E+N>>>1,L=w.slice(0,j+1),J=this._getTextWidth(L)+_;J<=c?(E=j+1,R=L,B=J):N=j}if(!R)break;if(m){var H,ye=w[R.length];(H=(" "===ye||"-"===ye)&&B<=c?R.length:Math.max(R.lastIndexOf(" "),R.lastIndexOf("-"))+1)>0&&(R=R.slice(0,E=H),B=this._getTextWidth(R))}if(R=R.trimRight(),this._addTextLine(R),r=Math.max(r,B),this._shouldHandleEllipsis(h+=i)){this._tryToAddEllipsisToLastLine();break}if((w=(w=w.slice(E)).trimLeft()).length>0&&(S=this._getTextWidth(w))<=c){this._addTextLine(w),h+=i,r=Math.max(r,S);break}}else this._addTextLine(w),h+=i,r=Math.max(r,S),this._shouldHandleEllipsis(h)&&this._tryToAddEllipsisToLastLine();if(l&&h+i>d)break;this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0)}this.textHeight=n,this.textWidth=r}_shouldHandleEllipsis(e){var n=+this.fontSize(),r=this.lineHeight()*n,i=this.attrs.height,s=i!==Ki&&void 0!==i,a=i-2*this.padding();return!("none"!==this.wrap())||s&&e+r>a}_tryToAddEllipsisToLastLine(){var e=this.attrs.width,n=e!==Ki&&void 0!==e,i=e-2*this.padding(),s=this.ellipsis(),o=this.textArr[this.textArr.length-1];o&&s&&(n&&(this._getTextWidth(o.text+"\u2026")<i||(o.text=o.text.slice(0,o.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(o.text+"\u2026"))}getStrokeScaleEnabled(){return!0}}function SC(t){t.fillText(this.partialText,0,0)}function EC(t){t.strokeText(this.partialText,0,0)}Re.prototype._fillFunc=function sN(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)},Re.prototype._strokeFunc=function oN(t){t.strokeText(this._partialText,this._partialTextX,this._partialTextY)},Re.prototype.className="Text",Re.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],Pe(Re),v.overWriteSetter(Re,"width",Lh()),v.overWriteSetter(Re,"height",Lh()),v.addGetterSetter(Re,"fontFamily","Arial"),v.addGetterSetter(Re,"fontSize",12,I()),v.addGetterSetter(Re,"fontStyle","normal"),v.addGetterSetter(Re,"fontVariant","normal"),v.addGetterSetter(Re,"padding",0,I()),v.addGetterSetter(Re,"align","left"),v.addGetterSetter(Re,"verticalAlign","top"),v.addGetterSetter(Re,"lineHeight",1,I()),v.addGetterSetter(Re,"wrap","word"),v.addGetterSetter(Re,"ellipsis",!1,on()),v.addGetterSetter(Re,"letterSpacing",0,I()),v.addGetterSetter(Re,"text","",Wi()),v.addGetterSetter(Re,"textDecoration","");class Ze extends M{constructor(e){super(e),this.dummyCanvas=D.createCanvasElement(),this.dataArray=[],this.dataArray=Ce.parsePathData(this.attrs.data),this.on("dataChange.konva",function(){this.dataArray=Ce.parsePathData(this.attrs.data),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();var n=this.textDecoration(),r=this.fill(),i=this.fontSize(),s=this.glyphInfo;"underline"===n&&e.beginPath();for(var o=0;o<s.length;o++){e.save();var a=s[o].p0;e.translate(a.x,a.y),e.rotate(s[o].rotation),this.partialText=s[o].text,e.fillStrokeShape(this),"underline"===n&&(0===o&&e.moveTo(0,i/2+1),e.lineTo(i,i/2+1)),e.restore()}"underline"===n&&(e.strokeStyle=r,e.lineWidth=i/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();var n=this.glyphInfo;if(n.length>=1){var r=n[0].p0;e.moveTo(r.x,r.y)}for(var i=0;i<n.length;i++){var s=n[i].p1;e.lineTo(s.x,s.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return D.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return Re.prototype.setText.call(this,e)}_getContextFont(){return Re.prototype._getContextFont.call(this)}_getTextSize(e){var r=this.dummyCanvas.getContext("2d");r.save(),r.font=this._getContextFont();var i=r.measureText(e);return r.restore(),{width:i.width,height:parseInt(this.attrs.fontSize,10)}}_setTextData(){var e=this,n=this._getTextSize(this.attrs.text),r=this.letterSpacing(),i=this.align(),s=this.kerningFunc();this.textWidth=n.width,this.textHeight=n.height;var o=Math.max(this.textWidth+((this.attrs.text||"").length-1)*r,0);this.glyphInfo=[];for(var a=0,l=0;l<e.dataArray.length;l++)e.dataArray[l].pathLength>0&&(a+=e.dataArray[l].pathLength);var u=0;"center"===i&&(u=Math.max(0,a/2-o/2)),"right"===i&&(u=Math.max(0,a-o));for(var h,p,f,c=mC(this.text()),d=this.text().split(" ").length-1,m=-1,g=0,_=function(){g=0;for(var J=e.dataArray,H=m+1;H<J.length;H++){if(J[H].pathLength>0)return m=H,J[H];"M"===J[H].command&&(h={x:J[H].points[0],y:J[H].points[1]})}return{}},C=function(J){var H=e._getTextSize(J).width+r;" "===J&&"justify"===i&&(H+=(a-o)/d);var ye=0,tt=0;for(p=void 0;Math.abs(H-ye)/H>.01&&tt<20;){tt++;for(var pe=ye;void 0===f;)(f=_())&&pe+f.pathLength<H&&(pe+=f.pathLength,f=void 0);if(f==={}||void 0===h)return;var Xe=!1;switch(f.command){case"L":Ce.getLineLength(h.x,h.y,f.points[0],f.points[1])>H?p=Ce.getPointOnLine(H,h.x,h.y,f.points[0],f.points[1],h.x,h.y):f=void 0;break;case"A":var ln=f.points[5],le=f.points[4]+ln;0===g?g=f.points[4]+1e-8:H>ye?g+=Math.PI/180*ln/Math.abs(ln):g-=Math.PI/360*ln/Math.abs(ln),(ln<0&&g<le||ln>=0&&g>le)&&(g=le,Xe=!0),p=Ce.getPointOnEllipticalArc(f.points[0],f.points[1],f.points[2],f.points[3],g,f.points[6]);break;case"C":0===g?g=H>f.pathLength?1e-8:H/f.pathLength:H>ye?g+=(H-ye)/f.pathLength/2:g=Math.max(g-(ye-H)/f.pathLength/2,0),g>1&&(g=1,Xe=!0),p=Ce.getPointOnCubicBezier(g,f.start.x,f.start.y,f.points[0],f.points[1],f.points[2],f.points[3],f.points[4],f.points[5]);break;case"Q":0===g?g=H/f.pathLength:H>ye?g+=(H-ye)/f.pathLength:g-=(ye-H)/f.pathLength,g>1&&(g=1,Xe=!0),p=Ce.getPointOnQuadraticBezier(g,f.start.x,f.start.y,f.points[0],f.points[1],f.points[2],f.points[3])}void 0!==p&&(ye=Ce.getLineLength(h.x,h.y,p.x,p.y)),Xe&&(Xe=!1,f=void 0)}},S=u/(e._getTextSize("C").width+r)-1,E=0;E<S&&(C("C"),void 0!==h&&void 0!==p);E++)h=p;for(var N=0;N<c.length&&(C(c[N]),void 0!==h&&void 0!==p);N++){var R=Ce.getLineLength(h.x,h.y,p.x,p.y),B=0;if(s)try{B=s(c[N-1],c[N])*this.fontSize()}catch{B=0}h.x+=B,p.x+=B,this.textWidth+=B;var j=Ce.getPointOnLine(B+R/2,h.x,h.y,p.x,p.y),L=Math.atan2(p.y-h.y,p.x-h.x);this.glyphInfo.push({transposeX:j.x,transposeY:j.y,text:c[N],rotation:L,p0:h,p1:p}),h=p}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var e=[];this.glyphInfo.forEach(function(c){e.push(c.p0.x),e.push(c.p0.y),e.push(c.p1.x),e.push(c.p1.y)});for(var o,a,n=e[0]||0,r=e[0]||0,i=e[1]||0,s=e[1]||0,l=0;l<e.length/2;l++)o=e[2*l],a=e[2*l+1],n=Math.min(n,o),r=Math.max(r,o),i=Math.min(i,a),s=Math.max(s,a);var u=this.fontSize();return{x:n-u/2,y:i-u/2,width:r-n+u,height:s-i+u}}}Ze.prototype._fillFunc=SC,Ze.prototype._strokeFunc=EC,Ze.prototype._fillFuncHit=SC,Ze.prototype._strokeFuncHit=EC,Ze.prototype.className="TextPath",Ze.prototype._attrsAffectingSize=["text","fontSize","data"],Pe(Ze),v.addGetterSetter(Ze,"data"),v.addGetterSetter(Ze,"fontFamily","Arial"),v.addGetterSetter(Ze,"fontSize",12,I()),v.addGetterSetter(Ze,"fontStyle","normal"),v.addGetterSetter(Ze,"align","left"),v.addGetterSetter(Ze,"letterSpacing",0,I()),v.addGetterSetter(Ze,"textBaseline","middle"),v.addGetterSetter(Ze,"fontVariant","normal"),v.addGetterSetter(Ze,"text",""),v.addGetterSetter(Ze,"textDecoration",null),v.addGetterSetter(Ze,"kerningFunc",null);var MC="tr-konva",uN=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map(t=>t+`.${MC}`).join(" "),IC="nodesRect",cN=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],dN={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const hN="ontouchstart"in k._global;var Bl=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],xC=1e8;function TC(t,e,n){const r=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),i=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return Object.assign(Object.assign({},t),{rotation:t.rotation+e,x:r,y:i})}class me extends Zi{constructor(e){super(e),this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(uN,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return D.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return MC+this._id}setNodes(e=[]){return this._nodes&&this._nodes.length&&this.detach(),this._nodes=e,1===e.length&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(r=>{const i=()=>{1===this.nodes().length&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},s=r._attrsAffectingSize.map(o=>o+"Change."+this._getEventNamespace()).join(" ");r.on(s,i),r.on(cN.map(o=>o+`.${this._getEventNamespace()}`).join(" "),i),r.on(`absoluteTransformChange.${this._getEventNamespace()}`,i),this._proxyDrag(r)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,r=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(r,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!n)return;const i=e.getAbsolutePosition(),s=i.x-n.x,o=i.y-n.y;this.nodes().forEach(a=>{if(a===e||a.isDragging())return;const l=a.getAbsolutePosition();a.setAbsolutePosition({x:l.x+s,y:l.y+o}),a.startDrag(r)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(IC),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(IC,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),r){var i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),s=e.getAbsoluteScale(r),o=e.getAbsolutePosition(r),a=i.x*s.x-e.offsetX()*s.x,l=i.y*s.y-e.offsetY()*s.y;const u=(k.getAngle(e.getAbsoluteRotation())+2*Math.PI)%(2*Math.PI);return TC({x:o.x+a*Math.cos(u)+l*Math.sin(-u),y:o.y+l*Math.cos(u)+a*Math.sin(u),width:i.width*s.x,height:i.height*s.y,rotation:u},-k.getAngle(n),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-xC,y:-xC,width:0,height:0,rotation:0};const n=[];this.nodes().map(u=>{const c=u.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var d=[{x:c.x,y:c.y},{x:c.x+c.width,y:c.y},{x:c.x+c.width,y:c.y+c.height},{x:c.x,y:c.y+c.height}],h=u.getAbsoluteTransform();d.forEach(function(p){var f=h.point(p);n.push(f)})});const r=new kt;var i,s,o,a;r.rotate(-k.getAngle(this.rotation())),n.forEach(function(u){var c=r.point(u);void 0===i&&(i=o=c.x,s=a=c.y),i=Math.min(i,c.x),s=Math.min(s,c.y),o=Math.max(o,c.x),a=Math.max(a,c.y)}),r.invert();const l=r.point({x:i,y:s});return{x:l.x,y:l.y,width:o-i,height:a-s,rotation:k.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),Bl.forEach(function(e){this._createAnchor(e)}.bind(this)),this._createAnchor("rotater")}_createAnchor(e){var n=new Do({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:hN?10:"auto"}),r=this;n.on("mousedown touchstart",function(i){r._handleMouseDown(i)}),n.on("dragstart",i=>{n.stopDrag(),i.cancelBubble=!0}),n.on("dragend",i=>{i.cancelBubble=!0}),n.on("mouseenter",()=>{var i=k.getAngle(this.rotation()),s=function fN(t,e){if("rotater"===t)return"crosshair";e+=D.degToRad(dN[t]||0);var n=(D.radToDeg(e)%360+360)%360;return D._inRange(n,337.5,360)||D._inRange(n,0,22.5)?"ns-resize":D._inRange(n,22.5,67.5)?"nesw-resize":D._inRange(n,67.5,112.5)?"ew-resize":D._inRange(n,112.5,157.5)?"nwse-resize":D._inRange(n,157.5,202.5)?"ns-resize":D._inRange(n,202.5,247.5)?"nesw-resize":D._inRange(n,247.5,292.5)?"ew-resize":D._inRange(n,292.5,337.5)?"nwse-resize":(D.error("Transformer has unknown angle for cursor detection: "+n),"pointer")}(e,i);n.getStage().content&&(n.getStage().content.style.cursor=s),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){var e=new M({name:"back",width:0,height:0,draggable:!0,sceneFunc(n){var r=this.getParent(),i=r.padding();n.beginPath(),n.rect(-i,-i,this.width()+2*i,this.height()+2*i),n.moveTo(this.width()/2,-i),r.rotateEnabled()&&n.lineTo(this.width()/2,-r.rotateAnchorOffset()*D._sign(this.height())-i),n.fillStrokeShape(this)},hitFunc:(n,r)=>{if(this.shouldOverdrawWholeArea()){var i=this.padding();n.beginPath(),n.rect(-i,-i,r.width()+2*i,r.height()+2*i),n.fillStrokeShape(r)}}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){this._movingAnchorName=e.target.name().split(" ")[0];var n=this._getNodeRect(),r=n.width,i=n.height,s=Math.sqrt(Math.pow(r,2)+Math.pow(i,2));this.sin=Math.abs(i/s),this.cos=Math.abs(r/s),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var o=e.target.getAbsolutePosition(),a=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:a.x-o.x,y:a.y-o.y},this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(l=>{l._fire("transformstart",{evt:e.evt,target:l})})}_handleMouseMove(e){var n,r,i,s=this.findOne("."+this._movingAnchorName),o=s.getStage();o.setPointersPositions(e);const a=o.getPointerPosition();let l={x:a.x-this._anchorDragOffset.x,y:a.y-this._anchorDragOffset.y};const u=s.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(u,l,e)),s.setAbsolutePosition(l);const c=s.getAbsolutePosition();if(u.x!==c.x||u.y!==c.y){if("rotater"===this._movingAnchorName){var d=this._getNodeRect();n=s.x()-d.width/2,r=-s.y()+d.height/2;let J=Math.atan2(-r,n)+Math.PI/2;d.height<0&&(J-=Math.PI);const H=k.getAngle(this.rotation())+J,ye=k.getAngle(this.rotationSnapTolerance()),pe=function mN(t,e,n){let r=e;for(let i=0;i<t.length;i++){const s=k.getAngle(t[i]),o=Math.abs(s-e)%(2*Math.PI);Math.min(o,2*Math.PI-o)<n&&(r=s)}return r}(this.rotationSnaps(),H,ye)-d.rotation,Xe=function gN(t,e){const n=function pN(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}(t);return TC(t,e,n)}(d,pe);return void this._fitNodesInto(Xe,e)}var p=this.keepRatio()||e.shiftKey,C=this.centeredScaling()||e.altKey;if("top-left"===this._movingAnchorName){if(p){var f=C?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(f.x-s.x(),2)+Math.pow(f.y-s.y(),2));var m=this.findOne(".top-left").x()>f.x?-1:1,g=this.findOne(".top-left").y()>f.y?-1:1;n=i*this.cos*m,r=i*this.sin*g,this.findOne(".top-left").x(f.x-n),this.findOne(".top-left").y(f.y-r)}}else if("top-center"===this._movingAnchorName)this.findOne(".top-left").y(s.y());else if("top-right"===this._movingAnchorName){p&&(f=C?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()},i=Math.sqrt(Math.pow(s.x()-f.x,2)+Math.pow(f.y-s.y(),2)),m=this.findOne(".top-right").x()<f.x?-1:1,g=this.findOne(".top-right").y()>f.y?-1:1,n=i*this.cos*m,r=i*this.sin*g,this.findOne(".top-right").x(f.x+n),this.findOne(".top-right").y(f.y-r));var _=s.position();this.findOne(".top-left").y(_.y),this.findOne(".bottom-right").x(_.x)}else"middle-left"===this._movingAnchorName?this.findOne(".top-left").x(s.x()):"middle-right"===this._movingAnchorName?this.findOne(".bottom-right").x(s.x()):"bottom-left"===this._movingAnchorName?(p&&(f=C?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()},i=Math.sqrt(Math.pow(f.x-s.x(),2)+Math.pow(s.y()-f.y,2)),m=f.x<s.x()?-1:1,g=s.y()<f.y?-1:1,r=i*this.sin*g,s.x(f.x-(n=i*this.cos*m)),s.y(f.y+r)),_=s.position(),this.findOne(".top-left").x(_.x),this.findOne(".bottom-right").y(_.y)):"bottom-center"===this._movingAnchorName?this.findOne(".bottom-right").y(s.y()):"bottom-right"===this._movingAnchorName?p&&(f=C?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()},i=Math.sqrt(Math.pow(s.x()-f.x,2)+Math.pow(s.y()-f.y,2)),m=this.findOne(".bottom-right").x()<f.x?-1:1,g=this.findOne(".bottom-right").y()<f.y?-1:1,n=i*this.cos*m,r=i*this.sin*g,this.findOne(".bottom-right").x(f.x+n),this.findOne(".bottom-right").y(f.y+r)):console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(C=this.centeredScaling()||e.altKey){var y=this.findOne(".top-left"),w=this.findOne(".bottom-right"),S=y.x(),E=y.y(),N=this.getWidth()-w.x(),R=this.getHeight()-w.y();w.move({x:-S,y:-E}),y.move({x:N,y:R})}var B=this.findOne(".top-left").getAbsolutePosition();n=B.x,r=B.y;var j=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),L=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:r,width:j,height:L,rotation:k.getAngle(this.rotation())},e)}}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var n=this.getNode();this._fire("transformend",{evt:e,target:n}),n&&this._nodes.forEach(r=>{r._fire("transformend",{evt:e,target:r})}),this._movingAnchorName=null}}_fitNodesInto(e,n){var r=this._getNodeRect();if(D._inRange(e.width,2*-this.padding()-1,1))return void this.update();if(D._inRange(e.height,2*-this.padding()-1,1))return void this.update();const s=this.flipEnabled();var o=new kt;if(o.rotate(k.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const d=o.point({x:2*-this.padding(),y:0});if(e.x+=d.x,e.y+=d.y,e.width+=2*this.padding(),this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=d.x,this._anchorDragOffset.y-=d.y,!s)return void this.update()}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const d=o.point({x:2*this.padding(),y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=d.x,this._anchorDragOffset.y-=d.y,e.width+=2*this.padding(),!s)return void this.update()}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const d=o.point({x:0,y:2*-this.padding()});if(e.x+=d.x,e.y+=d.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=d.x,this._anchorDragOffset.y-=d.y,e.height+=2*this.padding(),!s)return void this.update()}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const d=o.point({x:0,y:2*this.padding()});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=d.x,this._anchorDragOffset.y-=d.y,e.height+=2*this.padding(),!s)return void this.update()}if(this.boundBoxFunc()){const d=this.boundBoxFunc()(r,e);d?e=d:D.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const a=1e7,l=new kt;l.translate(r.x,r.y),l.rotate(r.rotation),l.scale(r.width/a,r.height/a);const u=new kt;u.translate(e.x,e.y),u.rotate(e.rotation),u.scale(e.width/a,e.height/a);const c=u.multiply(l.invert());this._nodes.forEach(d=>{var h;const p=d.getParent().getAbsoluteTransform(),f=d.getTransform().copy();f.translate(d.offsetX(),d.offsetY());const m=new kt;m.multiply(p.copy().invert()).multiply(c).multiply(p).multiply(f);const g=m.decompose();d.setAttrs(g),this._fire("transform",{evt:n,target:d}),d._fire("transform",{evt:n,target:d}),null===(h=d.getLayer())||void 0===h||h.batchDraw()}),this.rotation(D._getRotation(e.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e,n=this._getNodeRect();this.rotation(D._getRotation(n.rotation));var r=n.width,i=n.height,s=this.enabledAnchors(),o=this.resizeEnabled(),a=this.padding(),l=this.anchorSize();this.find("._anchor").forEach(u=>{u.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+a,offsetY:l/2+a,visible:o&&s.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:l/2+a,visible:o&&s.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:l/2-a,offsetY:l/2+a,visible:o&&s.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:l/2+a,visible:o&&s.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:i/2,offsetX:l/2-a,visible:o&&s.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:l/2+a,offsetY:l/2-a,visible:o&&s.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:i,offsetY:l/2-a,visible:o&&s.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:i,offsetX:l/2-a,offsetY:l/2-a,visible:o&&s.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*D._sign(i)-a,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0}),null===(e=this.getLayer())||void 0===e||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Zi.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return x.prototype.toObject.call(this)}getClientRect(){return{x:0,y:0,width:0,height:0}}}me.prototype.className="Transformer",Pe(me),v.addGetterSetter(me,"enabledAnchors",Bl,function vN(t){return t instanceof Array||D.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){-1===Bl.indexOf(e)&&D.warn("Unknown anchor name: "+e+". Available names are: "+Bl.join(", "))}),t||[]}),v.addGetterSetter(me,"flipEnabled",!0,on()),v.addGetterSetter(me,"resizeEnabled",!0),v.addGetterSetter(me,"anchorSize",10,I()),v.addGetterSetter(me,"rotateEnabled",!0),v.addGetterSetter(me,"rotationSnaps",[]),v.addGetterSetter(me,"rotateAnchorOffset",50,I()),v.addGetterSetter(me,"rotationSnapTolerance",5,I()),v.addGetterSetter(me,"borderEnabled",!0),v.addGetterSetter(me,"anchorStroke","rgb(0, 161, 255)"),v.addGetterSetter(me,"anchorStrokeWidth",1,I()),v.addGetterSetter(me,"anchorFill","white"),v.addGetterSetter(me,"anchorCornerRadius",0,I()),v.addGetterSetter(me,"borderStroke","rgb(0, 161, 255)"),v.addGetterSetter(me,"borderStrokeWidth",1,I()),v.addGetterSetter(me,"borderDash"),v.addGetterSetter(me,"keepRatio",!0),v.addGetterSetter(me,"centeredScaling",!1),v.addGetterSetter(me,"ignoreStroke",!1),v.addGetterSetter(me,"padding",0,I()),v.addGetterSetter(me,"node"),v.addGetterSetter(me,"nodes"),v.addGetterSetter(me,"boundBoxFunc"),v.addGetterSetter(me,"anchorDragBoundFunc"),v.addGetterSetter(me,"shouldOverdrawWholeArea",!1),v.addGetterSetter(me,"useSingleNodeRotation",!0),v.backCompat(me,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class zn extends M{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,k.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return 2*this.radius()}getHeight(){return 2*this.radius()}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}function AC(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}zn.prototype.className="Wedge",zn.prototype._centroid=!0,zn.prototype._attrsAffectingSize=["radius"],Pe(zn),v.addGetterSetter(zn,"radius",0,I()),v.addGetterSetter(zn,"angle",0,I()),v.addGetterSetter(zn,"clockwise",!1),v.backCompat(zn,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});var yN=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],_N=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function sf(t,e,n,r,i){var s=n-e,o=i-r;return 0===s?r+o/2:0===o?r:o*((t-e)/s)+r}function jl(t,e,n){var r=4*(n*t.width+e),i=[];return i.push(t.data[r++],t.data[r++],t.data[r++],t.data[r++]),i}function bo(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}v.addGetterSetter(x,"blurRadius",0,I(),v.afterSetFilter),v.addGetterSetter(x,"brightness",0,I(),v.afterSetFilter),v.addGetterSetter(x,"contrast",0,I(),v.afterSetFilter),v.addGetterSetter(x,"embossStrength",.5,I(),v.afterSetFilter),v.addGetterSetter(x,"embossWhiteLevel",.5,I(),v.afterSetFilter),v.addGetterSetter(x,"embossDirection","top-left",null,v.afterSetFilter),v.addGetterSetter(x,"embossBlend",!1,null,v.afterSetFilter),v.addGetterSetter(x,"enhance",0,I(),v.afterSetFilter),v.addGetterSetter(x,"hue",0,I(),v.afterSetFilter),v.addGetterSetter(x,"saturation",0,I(),v.afterSetFilter),v.addGetterSetter(x,"luminance",0,I(),v.afterSetFilter),v.addGetterSetter(x,"hue",0,I(),v.afterSetFilter),v.addGetterSetter(x,"saturation",0,I(),v.afterSetFilter),v.addGetterSetter(x,"value",0,I(),v.afterSetFilter),v.addGetterSetter(x,"kaleidoscopePower",2,I(),v.afterSetFilter),v.addGetterSetter(x,"kaleidoscopeAngle",0,I(),v.afterSetFilter),v.addGetterSetter(x,"threshold",0,I(),v.afterSetFilter),v.addGetterSetter(x,"noise",.2,I(),v.afterSetFilter),v.addGetterSetter(x,"pixelSize",8,I(),v.afterSetFilter),v.addGetterSetter(x,"levels",.5,I(),v.afterSetFilter),v.addGetterSetter(x,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)}),v.addGetterSetter(x,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)}),v.addGetterSetter(x,"blue",0,A1,v.afterSetFilter),v.addGetterSetter(x,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)}),v.addGetterSetter(x,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)}),v.addGetterSetter(x,"blue",0,A1,v.afterSetFilter),v.addGetterSetter(x,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t}),v.addGetterSetter(x,"threshold",.5,I(),v.afterSetFilter);const af=hC.Util._assign(hC,{Arc:Gn,Arrow:zr,Circle:Xi,Ellipse:fr,Image:an,Label:tf,Tag:Wr,Line:$n,Path:Ce,Rect:Do,RegularPolygon:qr,Ring:Yr,Sprite:wn,Star:pr,Text:Re,TextPath:Ze,Transformer:me,Wedge:zn,Filters:{Blur:function(e){var n=Math.round(this.blurRadius());n>0&&function CN(t,e){var s,o,a,l,u,c,d,h,p,f,m,g,_,C,y,w,S,E,N,R,B,j,L,J,n=t.data,r=t.width,i=t.height,H=e+e+1,ye=r-1,tt=i-1,pe=e+1,Xe=pe*(pe+1)/2,St=new AC,ln=null,le=St,Fe=null,Et=null,gr=yN[e],mr=_N[e];for(a=1;a<H;a++)le=le.next=new AC,a===pe&&(ln=le);for(le.next=St,d=c=0,o=0;o<i;o++){for(w=S=E=N=h=p=f=m=0,g=pe*(R=n[c]),_=pe*(B=n[c+1]),C=pe*(j=n[c+2]),y=pe*(L=n[c+3]),h+=Xe*R,p+=Xe*B,f+=Xe*j,m+=Xe*L,le=St,a=0;a<pe;a++)le.r=R,le.g=B,le.b=j,le.a=L,le=le.next;for(a=1;a<pe;a++)h+=(le.r=R=n[l=c+((ye<a?ye:a)<<2)])*(J=pe-a),p+=(le.g=B=n[l+1])*J,f+=(le.b=j=n[l+2])*J,m+=(le.a=L=n[l+3])*J,w+=R,S+=B,E+=j,N+=L,le=le.next;for(Fe=St,Et=ln,s=0;s<r;s++)n[c+3]=L=m*gr>>mr,0!==L?(n[c]=(h*gr>>mr)*(L=255/L),n[c+1]=(p*gr>>mr)*L,n[c+2]=(f*gr>>mr)*L):n[c]=n[c+1]=n[c+2]=0,h-=g,p-=_,f-=C,m-=y,g-=Fe.r,_-=Fe.g,C-=Fe.b,y-=Fe.a,l=d+((l=s+e+1)<ye?l:ye)<<2,h+=w+=Fe.r=n[l],p+=S+=Fe.g=n[l+1],f+=E+=Fe.b=n[l+2],m+=N+=Fe.a=n[l+3],Fe=Fe.next,g+=R=Et.r,_+=B=Et.g,C+=j=Et.b,y+=L=Et.a,w-=R,S-=B,E-=j,N-=L,Et=Et.next,c+=4;d+=r}for(s=0;s<r;s++){for(S=E=N=w=p=f=m=h=0,g=pe*(R=n[c=s<<2]),_=pe*(B=n[c+1]),C=pe*(j=n[c+2]),y=pe*(L=n[c+3]),h+=Xe*R,p+=Xe*B,f+=Xe*j,m+=Xe*L,le=St,a=0;a<pe;a++)le.r=R,le.g=B,le.b=j,le.a=L,le=le.next;for(u=r,a=1;a<=e;a++)h+=(le.r=R=n[c=u+s<<2])*(J=pe-a),p+=(le.g=B=n[c+1])*J,f+=(le.b=j=n[c+2])*J,m+=(le.a=L=n[c+3])*J,w+=R,S+=B,E+=j,N+=L,le=le.next,a<tt&&(u+=r);for(c=s,Fe=St,Et=ln,o=0;o<i;o++)n[3+(l=c<<2)]=L=m*gr>>mr,L>0?(n[l]=(h*gr>>mr)*(L=255/L),n[l+1]=(p*gr>>mr)*L,n[l+2]=(f*gr>>mr)*L):n[l]=n[l+1]=n[l+2]=0,h-=g,p-=_,f-=C,m-=y,g-=Fe.r,_-=Fe.g,C-=Fe.b,y-=Fe.a,l=s+((l=o+pe)<tt?l:tt)*r<<2,h+=w+=Fe.r=n[l],p+=S+=Fe.g=n[l+1],f+=E+=Fe.b=n[l+2],m+=N+=Fe.a=n[l+3],Fe=Fe.next,g+=R=Et.r,_+=B=Et.g,C+=j=Et.b,y+=L=Et.a,w-=R,S-=B,E-=j,N-=L,Et=Et.next,c+=r}}(e,n)},Brighten:function(t){var i,e=255*this.brightness(),n=t.data,r=n.length;for(i=0;i<r;i+=4)n[i]+=e,n[i+1]+=e,n[i+2]+=e},Contrast:function(t){var a,e=Math.pow((this.contrast()+100)/100,2),n=t.data,r=n.length,i=150,s=150,o=150;for(a=0;a<r;a+=4)i=n[a],s=n[a+1],o=n[a+2],i/=255,i-=.5,i*=e,i+=.5,s/=255,s-=.5,s*=e,s+=.5,o/=255,o-=.5,o*=e,o+=.5,s=(s*=255)<0?0:s>255?255:s,o=(o*=255)<0?0:o>255?255:o,n[a]=i=(i*=255)<0?0:i>255?255:i,n[a+1]=s,n[a+2]=o},Emboss:function(t){var e=10*this.embossStrength(),n=255*this.embossWhiteLevel(),r=this.embossDirection(),i=this.embossBlend(),s=0,o=0,a=t.data,l=t.width,u=t.height,c=4*l,d=u;switch(r){case"top-left":s=-1,o=-1;break;case"top":s=-1,o=0;break;case"top-right":s=-1,o=1;break;case"right":s=0,o=1;break;case"bottom-right":s=1,o=1;break;case"bottom":s=1,o=0;break;case"bottom-left":s=1,o=-1;break;case"left":s=0,o=-1;break;default:D.error("Unknown emboss direction: "+r)}do{var h=(d-1)*c,p=s;d+p<1&&(p=0),d+p>u&&(p=0);var f=(d-1+p)*l*4,m=l;do{var g=h+4*(m-1),_=o;m+_<1&&(_=0),m+_>l&&(_=0);var C=f+4*(m-1+_),w=a[g+1]-a[C+1],S=a[g+2]-a[C+2],E=a[g]-a[C],N=E>0?E:-E;if((w>0?w:-w)>N&&(E=w),(S>0?S:-S)>N&&(E=S),E*=e,i){var j=a[g]+E,L=a[g+1]+E,J=a[g+2]+E;a[g]=j>255?255:j<0?0:j,a[g+1]=L>255?255:L<0?0:L,a[g+2]=J>255?255:J<0?0:J}else{var H=n-E;H<0?H=0:H>255&&(H=255),a[g]=a[g+1]=a[g+2]=H}}while(--m)}while(--d)},Enhance:function(t){var s,l,d,h,e=t.data,n=e.length,r=e[0],i=r,o=e[1],a=o,u=e[2],c=u,p=this.enhance();if(0!==p){for(h=0;h<n;h+=4)(s=e[h+0])<r?r=s:s>i&&(i=s),(l=e[h+1])<o?o=l:l>a&&(a=l),(d=e[h+2])<u?u=d:d>c&&(c=d);var f,m,g,_,C,y,w,S,E;for(i===r&&(i=255,r=0),a===o&&(a=255,o=0),c===u&&(c=255,u=0),p>0?(m=i+p*(255-i),g=r-p*(r-0),C=a+p*(255-a),y=o-p*(o-0),S=c+p*(255-c),E=u-p*(u-0)):(m=i+p*(i-(f=.5*(i+r))),g=r+p*(r-f),C=a+p*(a-(_=.5*(a+o))),y=o+p*(o-_),S=c+p*(c-(w=.5*(c+u))),E=u+p*(u-w)),h=0;h<n;h+=4)e[h+0]=sf(e[h+0],r,i,g,m),e[h+1]=sf(e[h+1],o,a,y,C),e[h+2]=sf(e[h+2],u,c,E,S)}},Grayscale:function(t){var r,i,e=t.data,n=e.length;for(r=0;r<n;r+=4)e[r]=i=.34*e[r]+.5*e[r+1]+.16*e[r+2],e[r+1]=i,e[r+2]=i},HSL:function(t){var a,y,w,S,E,e=t.data,n=e.length,i=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,o=127*this.luminance(),l=1*i*Math.cos(s*Math.PI/180),u=1*i*Math.sin(s*Math.PI/180),c=.299+.701*l+.167*u,d=.587-.587*l+.33*u,h=.114-.114*l-.497*u,p=.299-.299*l-.328*u,f=.587+.413*l+.035*u,m=.114-.114*l+.293*u,g=.299-.3*l+1.25*u,_=.587-.586*l-1.05*u,C=.114+.886*l-.2*u;for(a=0;a<n;a+=4)E=e[a+3],e[a+0]=c*(y=e[a+0])+d*(w=e[a+1])+h*(S=e[a+2])+o,e[a+1]=p*y+f*w+m*S+o,e[a+2]=g*y+_*w+C*S+o,e[a+3]=E},HSV:function(t){var o,C,y,w,S,e=t.data,n=e.length,r=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),s=Math.abs(this.hue()+360)%360,a=r*i*Math.cos(s*Math.PI/180),l=r*i*Math.sin(s*Math.PI/180),u=.299*r+.701*a+.167*l,c=.587*r-.587*a+.33*l,d=.114*r-.114*a-.497*l,h=.299*r-.299*a-.328*l,p=.587*r+.413*a+.035*l,f=.114*r-.114*a+.293*l,m=.299*r-.3*a+1.25*l,g=.587*r-.586*a-1.05*l,_=.114*r+.886*a-.2*l;for(o=0;o<n;o+=4)S=e[o+3],e[o+0]=u*(C=e[o+0])+c*(y=e[o+1])+d*(w=e[o+2]),e[o+1]=h*C+p*y+f*w,e[o+2]=m*C+g*y+_*w,e[o+3]=S},Invert:function(t){var r,e=t.data,n=e.length;for(r=0;r<n;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2]},Kaleidoscope:function(t){var r,i,s,o,l,u,c,d,h,e=t.width,n=t.height,p=Math.round(this.kaleidoscopePower()),f=Math.round(this.kaleidoscopeAngle()),m=Math.floor(e*(f%360)/360);if(!(p<1)){var g=D.createCanvasElement();g.width=e,g.height=n;var _=g.getContext("2d").getImageData(0,0,e,n);!function(t,e,n){var u,c,d,g,r=t.data,i=e.data,s=t.width,o=t.height,a=n.polarCenterX||s/2,l=n.polarCenterY||o/2,h=0,p=0,f=0,m=0,_=Math.sqrt(a*a+l*l);c=s-a,d=o-l,_=(g=Math.sqrt(c*c+d*d))>_?g:_;var w,S,N,R,C=o,y=s,E=360/y*Math.PI/180;for(S=0;S<y;S+=1)for(N=Math.sin(S*E),R=Math.cos(S*E),w=0;w<C;w+=1)c=Math.floor(a+_*w/C*R),h=r[0+(u=4*((d=Math.floor(l+_*w/C*N))*s+c))],p=r[u+1],f=r[u+2],m=r[u+3],i[0+(u=4*(S+w*s))]=h,i[u+1]=p,i[u+2]=f,i[u+3]=m}(t,_,{polarCenterX:e/2,polarCenterY:n/2});for(var C=e/Math.pow(2,p);C<=8;)C*=2,p-=1;var y=C=Math.ceil(C),w=0,S=y,E=1;for(m+C>e&&(w=y,S=0,E=-1),i=0;i<n;i+=1)for(r=w;r!==S;r+=E)s=Math.round(r+m)%e,l=_.data[1+(d=4*(e*i+s))],u=_.data[d+2],c=_.data[d+3],_.data[0+(h=4*(e*i+r))]=_.data[d+0],_.data[h+1]=l,_.data[h+2]=u,_.data[h+3]=c;for(i=0;i<n;i+=1)for(y=Math.floor(C),o=0;o<p;o+=1){for(r=0;r<y+1;r+=1)l=_.data[1+(d=4*(e*i+r))],u=_.data[d+2],c=_.data[d+3],_.data[0+(h=4*(e*i+2*y-r-1))]=_.data[d+0],_.data[h+1]=l,_.data[h+2]=u,_.data[h+3]=c;y*=2}!function(t,e,n){var u,c,d,h,p,C,r=t.data,i=e.data,s=t.width,o=t.height,a=n.polarCenterX||s/2,l=n.polarCenterY||o/2,f=0,m=0,g=0,_=0,y=Math.sqrt(a*a+l*l);c=s-a,d=o-l,y=(C=Math.sqrt(c*c+d*d))>y?C:y;var E,N,B,w=o,S=s,R=n.polarRotation||0;for(c=0;c<s;c+=1)for(d=0;d<o;d+=1)h=c-a,p=d-l,E=Math.sqrt(h*h+p*p)*w/y,N=(N=(180*Math.atan2(p,h)/Math.PI+360+R)%360)*S/360,B=Math.floor(N),f=r[0+(u=4*(Math.floor(E)*s+B))],m=r[u+1],g=r[u+2],_=r[u+3],i[0+(u=4*(d*s+c))]=f,i[u+1]=m,i[u+2]=g,i[u+3]=_}(_,t,{polarRotation:0})}},Mask:function(t){var n=function kN(t,e){var n=jl(t,0,0),r=jl(t,t.width-1,0),i=jl(t,0,t.height-1),s=jl(t,t.width-1,t.height-1),o=e||10;if(bo(n,r)<o&&bo(r,s)<o&&bo(s,i)<o&&bo(i,n)<o){for(var a=function ON(t){for(var e=[0,0,0],n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}([r,n,s,i]),l=[],u=0;u<t.width*t.height;u++){var c=bo(a,[t.data[4*u],t.data[4*u+1],t.data[4*u+2]]);l[u]=c<o?0:255}return l}}(t,this.threshold());return n&&(n=function FN(t,e,n){for(var r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),o=[],a=0;a<n;a++)for(var l=0;l<e;l++){for(var u=a*e+l,c=0,d=0;d<i;d++)for(var h=0;h<i;h++){var p=a+d-s,f=l+h-s;p>=0&&p<n&&f>=0&&f<e&&(c+=t[p*e+f]*r[d*i+h])}o[u]=2040===c?255:0}return o}(n,t.width,t.height),n=function LN(t,e,n){for(var r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),o=[],a=0;a<n;a++)for(var l=0;l<e;l++){for(var u=a*e+l,c=0,d=0;d<i;d++)for(var h=0;h<i;h++){var p=a+d-s,f=l+h-s;p>=0&&p<n&&f>=0&&f<e&&(c+=t[p*e+f]*r[d*i+h])}o[u]=c>=1020?255:0}return o}(n,t.width,t.height),n=function BN(t,e,n){for(var r=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],i=Math.round(Math.sqrt(r.length)),s=Math.floor(i/2),o=[],a=0;a<n;a++)for(var l=0;l<e;l++){for(var u=a*e+l,c=0,d=0;d<i;d++)for(var h=0;h<i;h++){var p=a+d-s,f=l+h-s;p>=0&&p<n&&f>=0&&f<e&&(c+=t[p*e+f]*r[d*i+h])}o[u]=c}return o}(n,t.width,t.height),function NN(t,e){for(var n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}(t,n)),t},Noise:function(t){var s,e=255*this.noise(),n=t.data,r=n.length,i=e/2;for(s=0;s<r;s+=4)n[s+0]+=i-2*i*Math.random(),n[s+1]+=i-2*i*Math.random(),n[s+2]+=i-2*i*Math.random()},Pixelate:function(t){var i,s,o,a,l,u,c,p,f,m,g,_,C,y,e=Math.ceil(this.pixelSize()),n=t.width,r=t.height,d=Math.ceil(n/e),h=Math.ceil(r/e),w=t.data;if(e<=0)D.error("pixelSize value can not be <= 0");else for(_=0;_<d;_+=1)for(C=0;C<h;C+=1){for(a=0,l=0,u=0,c=0,f=(p=_*e)+e,g=(m=C*e)+e,y=0,i=p;i<f;i+=1)if(!(i>=n))for(s=m;s<g;s+=1)s>=r||(a+=w[0+(o=4*(n*s+i))],l+=w[o+1],u+=w[o+2],c+=w[o+3],y+=1);for(a/=y,l/=y,u/=y,c/=y,i=p;i<f;i+=1)if(!(i>=n))for(s=m;s<g;s+=1)s>=r||(w[0+(o=4*(n*s+i))]=a,w[o+1]=l,w[o+2]=u,w[o+3]=c)}},Posterize:function(t){var s,e=Math.round(254*this.levels())+1,n=t.data,r=n.length,i=255/e;for(s=0;s<r;s+=1)n[s]=Math.floor(n[s]/i)*i},RGB:function(t){var o,a,e=t.data,n=e.length,r=this.red(),i=this.green(),s=this.blue();for(o=0;o<n;o+=4)e[o]=(a=(.34*e[o]+.5*e[o+1]+.16*e[o+2])/255)*r,e[o+1]=a*i,e[o+2]=a*s,e[o+3]=e[o+3]},RGBA:function(t){var a,l,e=t.data,n=e.length,r=this.red(),i=this.green(),s=this.blue(),o=this.alpha();for(a=0;a<n;a+=4)e[a]=r*o+e[a]*(l=1-o),e[a+1]=i*o+e[a+1]*l,e[a+2]=s*o+e[a+2]*l},Sepia:function(t){var r,i,s,o,e=t.data,n=e.length;for(r=0;r<n;r+=4)i=e[r+0],s=e[r+1],o=e[r+2],e[r+0]=Math.min(255,.393*i+.769*s+.189*o),e[r+1]=Math.min(255,.349*i+.686*s+.168*o),e[r+2]=Math.min(255,.272*i+.534*s+.131*o)},Solarize:function(t){var e=t.data,n=t.width,i=4*n,s=t.height;do{var o=(s-1)*i,a=n;do{var l=o+4*(a-1),u=e[l],c=e[l+1],d=e[l+2];u>127&&(u=255-u),c>127&&(c=255-c),d>127&&(d=255-d),e[l]=u,e[l+1]=c,e[l+2]=d}while(--a)}while(--s)},Threshold:function(t){var i,e=255*this.threshold(),n=t.data,r=n.length;for(i=0;i<r;i+=1)n[i]=n[i]<e?0:255}}}),YN=[{path:"rxjs-fantasy",component:(()=>{class t{constructor(){}ngOnInit(){var n=new af.Stage({container:"container",width:500,height:500}),r=new af.Layer,i=new af.Circle({x:n.width()/2,y:n.height()/2,radius:70,fill:"red",stroke:"black",strokeWidth:4});r.add(i),n.add(r),r.draw()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=is({type:t,selectors:[["app-rxjs"]],decls:1,vars:0,consts:[["id","main"]],template:function(n,r){1&n&&oe(0,"div",0)},encapsulation:2}),t})()}];let QN=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Dr({type:t}),t.\u0275inj=Wn({imports:[E1.forRoot(YN),E1]}),t})();function ZN(t,e){1&t&&(T(0,"pre"),ce(1,"ng generate component xyz"),F())}function XN(t,e){1&t&&(T(0,"pre"),ce(1,"ng add @angular/material"),F())}function KN(t,e){1&t&&(T(0,"pre"),ce(1,"ng add @angular/pwa"),F())}function JN(t,e){1&t&&(T(0,"pre"),ce(1,"ng add _____"),F())}function eF(t,e){1&t&&(T(0,"pre"),ce(1,"ng test"),F())}function tF(t,e){1&t&&(T(0,"pre"),ce(1,"ng build"),F())}let nF=(()=>{class t{constructor(){this.title="web"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=is({type:t,selectors:[["app-root"]],decls:152,vars:7,consts:[["role","banner",1,"toolbar"],["width","40","alt","Angular Logo","src","data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg=="],[1,"spacer"],["aria-label","Angular on twitter","target","_blank","rel","noopener","href","https://twitter.com/angular","title","Twitter"],["id","twitter-logo","height","24","data-name","Logo","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 400 400"],["width","400","height","400","fill","none"],["d","M153.62,301.59c94.34,0,145.94-78.16,145.94-145.94,0-2.22,0-4.43-.15-6.63A104.36,104.36,0,0,0,325,122.47a102.38,102.38,0,0,1-29.46,8.07,51.47,51.47,0,0,0,22.55-28.37,102.79,102.79,0,0,1-32.57,12.45,51.34,51.34,0,0,0-87.41,46.78A145.62,145.62,0,0,1,92.4,107.81a51.33,51.33,0,0,0,15.88,68.47A50.91,50.91,0,0,1,85,169.86c0,.21,0,.43,0,.65a51.31,51.31,0,0,0,41.15,50.28,51.21,51.21,0,0,1-23.16.88,51.35,51.35,0,0,0,47.92,35.62,102.92,102.92,0,0,1-63.7,22A104.41,104.41,0,0,1,75,278.55a145.21,145.21,0,0,0,78.62,23","fill","#fff"],["aria-label","Angular on YouTube","target","_blank","rel","noopener","href","https://youtube.com/angular","title","YouTube"],["id","youtube-logo","height","24","width","24","data-name","Logo","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","#fff"],["d","M0 0h24v24H0V0z","fill","none"],["d","M21.58 7.19c-.23-.86-.91-1.54-1.77-1.77C18.25 5 12 5 12 5s-6.25 0-7.81.42c-.86.23-1.54.91-1.77 1.77C2 8.75 2 12 2 12s0 3.25.42 4.81c.23.86.91 1.54 1.77 1.77C5.75 19 12 19 12 19s6.25 0 7.81-.42c.86-.23 1.54-.91 1.77-1.77C22 15.25 22 12 22 12s0-3.25-.42-4.81zM10 15V9l5.2 3-5.2 3z"],["role","main",1,"content"],[1,"card","highlight-card","card-small"],["id","rocket","xmlns","http://www.w3.org/2000/svg","width","101.678","height","101.678","viewBox","0 0 101.678 101.678"],["id","Group_83","data-name","Group 83","transform","translate(-141 -696)"],["id","Ellipse_8","data-name","Ellipse 8","cx","50.839","cy","50.839","r","50.839","transform","translate(141 696)","fill","#dd0031"],["id","Group_47","data-name","Group 47","transform","translate(165.185 720.185)"],["id","Path_33","data-name","Path 33","d","M3.4,42.615a3.084,3.084,0,0,0,3.553,3.553,21.419,21.419,0,0,0,12.215-6.107L9.511,30.4A21.419,21.419,0,0,0,3.4,42.615Z","transform","translate(0.371 3.363)","fill","#fff"],["id","Path_34","data-name","Path 34","d","M53.3,3.221A3.09,3.09,0,0,0,50.081,0,48.227,48.227,0,0,0,18.322,13.437c-6-1.666-14.991-1.221-18.322,7.218A33.892,33.892,0,0,1,9.439,25.1l-.333.666a3.013,3.013,0,0,0,.555,3.553L23.985,43.641a2.9,2.9,0,0,0,3.553.555l.666-.333A33.892,33.892,0,0,1,32.647,53.3c8.55-3.664,8.884-12.326,7.218-18.322A48.227,48.227,0,0,0,53.3,3.221ZM34.424,9.772a6.439,6.439,0,1,1,9.106,9.106,6.368,6.368,0,0,1-9.106,0A6.467,6.467,0,0,1,34.424,9.772Z","transform","translate(0 0.005)","fill","#fff"],["id","rocket-smoke","xmlns","http://www.w3.org/2000/svg","width","516.119","height","1083.632","viewBox","0 0 516.119 1083.632"],["id","Path_40","data-name","Path 40","d","M644.6,141S143.02,215.537,147.049,870.207s342.774,201.755,342.774,201.755S404.659,847.213,388.815,762.2c-27.116-145.51-11.551-384.124,271.9-609.1C671.15,139.365,644.6,141,644.6,141Z","transform","translate(-147.025 -140.939)","fill","#f5f5f5"],[1,"card-container"],["target","_blank","rel","noopener","href","https://angular.io/tutorial",1,"card"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24",1,"material-icons"],["d","M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3L1 9l11 6 9-4.91V17h2V9L12 3z"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["target","_blank","rel","noopener","href","https://angular.io/cli",1,"card"],["d","M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"],["target","_blank","rel","noopener","href","https://material.angular.io",1,"card"],["xmlns","http://www.w3.org/2000/svg","width","21.813","height","23.453","viewBox","0 0 179.2 192.7",2,"margin-right","8px"],["fill","#ffa726","d","M89.4 0 0 32l13.5 118.4 75.9 42.3 76-42.3L179.2 32 89.4 0z"],["fill","#fb8c00","d","M89.4 0v192.7l76-42.3L179.2 32 89.4 0z"],["fill","#ffe0b2","d","m102.9 146.3-63.3-30.5 36.3-22.4 63.7 30.6-36.7 22.3z"],["fill","#fff3e0","d","M102.9 122.8 39.6 92.2l36.3-22.3 63.7 30.6-36.7 22.3z"],["fill","#fff","d","M102.9 99.3 39.6 68.7l36.3-22.4 63.7 30.6-36.7 22.4z"],["target","_blank","rel","noopener","href","https://blog.angular.io/",1,"card"],["d","M13.5.67s.74 2.65.74 4.8c0 2.06-1.35 3.73-3.41 3.73-2.07 0-3.63-1.67-3.63-3.73l.03-.36C5.21 7.51 4 10.62 4 14c0 4.42 3.58 8 8 8s8-3.58 8-8C20 8.61 17.41 3.8 13.5.67zM11.71 19c-1.78 0-3.22-1.4-3.22-3.14 0-1.62 1.05-2.76 2.81-3.12 1.77-.36 3.6-1.21 4.62-2.58.39 1.29.59 2.65.59 4.04 0 2.65-2.15 4.8-4.8 4.8z"],["target","_blank","rel","noopener","href","https://angular.io/devtools/",1,"card"],["xmlns","http://www.w3.org/2000/svg","enable-background","new 0 0 24 24","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000",1,"material-icons"],["fill","none","height","24","width","24"],["d","M14.73,13.31C15.52,12.24,16,10.93,16,9.5C16,5.91,13.09,3,9.5,3S3,5.91,3,9.5C3,13.09,5.91,16,9.5,16 c1.43,0,2.74-0.48,3.81-1.27L19.59,21L21,19.59L14.73,13.31z M9.5,14C7.01,14,5,11.99,5,9.5S7.01,5,9.5,5S14,7.01,14,9.5 S11.99,14,9.5,14z"],["points","10.29,8.44 9.5,6 8.71,8.44 6.25,8.44 8.26,10.03 7.49,12.5 9.5,10.97 11.51,12.5 10.74,10.03 12.75,8.44"],["type","hidden"],["selection",""],["tabindex","0",1,"card","card-small",3,"click"],["d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"],[1,"terminal",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],["title","Find a Local Meetup","href","https://www.meetup.com/find/?keywords=angular","target","_blank","rel","noopener",1,"circle-link"],["xmlns","http://www.w3.org/2000/svg","width","24.607","height","23.447","viewBox","0 0 24.607 23.447"],["id","logo--mSwarm","d","M21.221,14.95A4.393,4.393,0,0,1,17.6,19.281a4.452,4.452,0,0,1-.8.069c-.09,0-.125.035-.154.117a2.939,2.939,0,0,1-2.506,2.091,2.868,2.868,0,0,1-2.248-.624.168.168,0,0,0-.245-.005,3.926,3.926,0,0,1-2.589.741,4.015,4.015,0,0,1-3.7-3.347,2.7,2.7,0,0,1-.043-.38c0-.106-.042-.146-.143-.166a3.524,3.524,0,0,1-1.516-.69A3.623,3.623,0,0,1,2.23,14.557a3.66,3.66,0,0,1,1.077-3.085.138.138,0,0,0,.026-.2,3.348,3.348,0,0,1-.451-1.821,3.46,3.46,0,0,1,2.749-3.28.44.44,0,0,0,.355-.281,5.072,5.072,0,0,1,3.863-3,5.028,5.028,0,0,1,3.555.666.31.31,0,0,0,.271.03A4.5,4.5,0,0,1,18.3,4.7a4.4,4.4,0,0,1,1.334,2.751,3.658,3.658,0,0,1,.022.706.131.131,0,0,0,.1.157,2.432,2.432,0,0,1,1.574,1.645,2.464,2.464,0,0,1-.7,2.616c-.065.064-.051.1-.014.166A4.321,4.321,0,0,1,21.221,14.95ZM13.4,14.607a2.09,2.09,0,0,0,1.409,1.982,4.7,4.7,0,0,0,1.275.221,1.807,1.807,0,0,0,.9-.151.542.542,0,0,0,.321-.545.558.558,0,0,0-.359-.534,1.2,1.2,0,0,0-.254-.078c-.262-.047-.526-.086-.787-.138a.674.674,0,0,1-.617-.75,3.394,3.394,0,0,1,.218-1.109c.217-.658.509-1.286.79-1.918a15.609,15.609,0,0,0,.745-1.86,1.95,1.95,0,0,0,.06-1.073,1.286,1.286,0,0,0-1.051-1.033,1.977,1.977,0,0,0-1.521.2.339.339,0,0,1-.446-.042c-.1-.092-.2-.189-.307-.284a1.214,1.214,0,0,0-1.643-.061,7.563,7.563,0,0,1-.614.512A.588.588,0,0,1,10.883,8c-.215-.115-.437-.215-.659-.316a2.153,2.153,0,0,0-.695-.248A2.091,2.091,0,0,0,7.541,8.562a9.915,9.915,0,0,0-.405.986c-.559,1.545-1.015,3.123-1.487,4.7a1.528,1.528,0,0,0,.634,1.777,1.755,1.755,0,0,0,1.5.211,1.35,1.35,0,0,0,.824-.858c.543-1.281,1.032-2.584,1.55-3.875.142-.355.28-.712.432-1.064a.548.548,0,0,1,.851-.24.622.622,0,0,1,.185.539,2.161,2.161,0,0,1-.181.621c-.337.852-.68,1.7-1.018,2.552a2.564,2.564,0,0,0-.173.528.624.624,0,0,0,.333.71,1.073,1.073,0,0,0,.814.034,1.22,1.22,0,0,0,.657-.655q.758-1.488,1.511-2.978.35-.687.709-1.37a1.073,1.073,0,0,1,.357-.434.43.43,0,0,1,.463-.016.373.373,0,0,1,.153.387.7.7,0,0,1-.057.236c-.065.157-.127.316-.2.469-.42.883-.846,1.763-1.262,2.648A2.463,2.463,0,0,0,13.4,14.607Zm5.888,6.508a1.09,1.09,0,0,0-2.179.006,1.09,1.09,0,0,0,2.179-.006ZM1.028,12.139a1.038,1.038,0,1,0,.01-2.075,1.038,1.038,0,0,0-.01,2.075ZM13.782.528a1.027,1.027,0,1,0-.011,2.055A1.027,1.027,0,0,0,13.782.528ZM22.21,6.95a.882.882,0,0,0-1.763.011A.882.882,0,0,0,22.21,6.95ZM4.153,4.439a.785.785,0,1,0,.787-.78A.766.766,0,0,0,4.153,4.439Zm8.221,18.22a.676.676,0,1,0-.677.666A.671.671,0,0,0,12.374,22.658ZM22.872,12.2a.674.674,0,0,0-.665.665.656.656,0,0,0,.655.643.634.634,0,0,0,.655-.644A.654.654,0,0,0,22.872,12.2ZM7.171-.123A.546.546,0,0,0,6.613.43a.553.553,0,1,0,1.106,0A.539.539,0,0,0,7.171-.123ZM24.119,9.234a.507.507,0,0,0-.493.488.494.494,0,0,0,.494.494.48.48,0,0,0,.487-.483A.491.491,0,0,0,24.119,9.234Zm-19.454,9.7a.5.5,0,0,0-.488-.488.491.491,0,0,0-.487.5.483.483,0,0,0,.491.479A.49.49,0,0,0,4.665,18.936Z","transform","translate(0 0.123)","fill","#f64060"],["title","Join the Conversation on Discord","href","https://discord.gg/angular","target","_blank","rel","noopener",1,"circle-link"],["xmlns","http://www.w3.org/2000/svg","width","26","height","26","viewBox","0 0 245 240"],["d","M104.4 103.9c-5.7 0-10.2 5-10.2 11.1s4.6 11.1 10.2 11.1c5.7 0 10.2-5 10.2-11.1.1-6.1-4.5-11.1-10.2-11.1zM140.9 103.9c-5.7 0-10.2 5-10.2 11.1s4.6 11.1 10.2 11.1c5.7 0 10.2-5 10.2-11.1s-4.5-11.1-10.2-11.1z"],["d","M189.5 20h-134C44.2 20 35 29.2 35 40.6v135.2c0 11.4 9.2 20.6 20.5 20.6h113.4l-5.3-18.5 12.8 11.9 12.1 11.2 21.5 19V40.6c0-11.4-9.2-20.6-20.5-20.6zm-38.6 130.6s-3.6-4.3-6.6-8.1c13.1-3.7 18.1-11.9 18.1-11.9-4.1 2.7-8 4.6-11.5 5.9-5 2.1-9.8 3.5-14.5 4.3-9.6 1.8-18.4 1.3-25.9-.1-5.7-1.1-10.6-2.7-14.7-4.3-2.3-.9-4.8-2-7.3-3.4-.3-.2-.6-.3-.9-.5-.2-.1-.3-.2-.4-.3-1.8-1-2.8-1.7-2.8-1.7s4.8 8 17.5 11.8c-3 3.8-6.7 8.3-6.7 8.3-22.1-.7-30.5-15.2-30.5-15.2 0-32.2 14.4-58.3 14.4-58.3 14.4-10.8 28.1-10.5 28.1-10.5l1 1.2c-18 5.2-26.3 13.1-26.3 13.1s2.2-1.2 5.9-2.9c10.7-4.7 19.2-6 22.7-6.3.6-.1 1.1-.2 1.7-.2 6.1-.8 13-1 20.2-.2 9.5 1.1 19.7 3.9 30.1 9.6 0 0-7.9-7.5-24.9-12.7l1.4-1.6s13.7-.3 28.1 10.5c0 0 14.4 26.1 14.4 58.3 0 0-8.5 14.5-30.6 15.2z"],["href","https://github.com/angular/angular","target","_blank","rel","noopener"],[1,"github-star-badge"],["d","M0 0h24v24H0z","fill","none"],["d","M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z","fill","#1976d2"],["id","clouds","xmlns","http://www.w3.org/2000/svg","width","2611.084","height","485.677","viewBox","0 0 2611.084 485.677"],["id","Path_39","data-name","Path 39","d","M2379.709,863.793c10-93-77-171-168-149-52-114-225-105-264,15-75,3-140,59-152,133-30,2.83-66.725,9.829-93.5,26.25-26.771-16.421-63.5-23.42-93.5-26.25-12-74-77-130-152-133-39-120-212-129-264-15-54.084-13.075-106.753,9.173-138.488,48.9-31.734-39.726-84.4-61.974-138.487-48.9-52-114-225-105-264,15a162.027,162.027,0,0,0-103.147,43.044c-30.633-45.365-87.1-72.091-145.206-58.044-52-114-225-105-264,15-75,3-140,59-152,133-53,5-127,23-130,83-2,42,35,72,70,86,49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33,61.112,8.015,113.854-5.72,150.492-29.764a165.62,165.62,0,0,0,110.861-3.236c47,94,178,113,251,33,31.385,4.116,60.563,2.495,86.487-3.311,25.924,5.806,55.1,7.427,86.488,3.311,73,80,204,61,251-33a165.625,165.625,0,0,0,120,0c51,13,108,15,157-5a147.188,147.188,0,0,0,33.5-18.694,147.217,147.217,0,0,0,33.5,18.694c49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33C2446.709,1093.793,2554.709,922.793,2379.709,863.793Z","transform","translate(142.69 -634.312)","fill","#eee"]],template:function(n,r){if(1&n){const i=function jm(){return b()}();T(0,"div",0),oe(1,"img",1),T(2,"span"),ce(3,"Welcome"),F(),oe(4,"div",2),T(5,"a",3),Ie(),T(6,"svg",4),oe(7,"rect",5)(8,"path",6),F()(),xe(),T(9,"a",7),Ie(),T(10,"svg",8),oe(11,"path",9)(12,"path",10),F()()(),xe(),T(13,"div",11)(14,"div",12),Ie(),T(15,"svg",13)(16,"title"),ce(17,"Rocket Ship"),F(),T(18,"g",14),oe(19,"circle",15),T(20,"g",16),oe(21,"path",17)(22,"path",18),F()()(),xe(),T(23,"span"),ce(24),F(),Ie(),T(25,"svg",19)(26,"title"),ce(27,"Rocket Ship Smoke"),F(),oe(28,"path",20),F()(),xe(),T(29,"h2"),ce(30,"Resources"),F(),T(31,"p"),ce(32,"Here are some links to help you get started:"),F(),T(33,"div",21)(34,"a",22),Ie(),T(35,"svg",23),oe(36,"path",24),F(),xe(),T(37,"span"),ce(38,"Learn Angular"),F(),Ie(),T(39,"svg",23),oe(40,"path",25),F()(),xe(),T(41,"a",26),Ie(),T(42,"svg",23),oe(43,"path",27),F(),xe(),T(44,"span"),ce(45,"CLI Documentation"),F(),Ie(),T(46,"svg",23),oe(47,"path",25),F()(),xe(),T(48,"a",28),Ie(),T(49,"svg",29),oe(50,"path",30)(51,"path",31)(52,"path",32)(53,"path",33)(54,"path",34),F(),xe(),T(55,"span"),ce(56,"Angular Material"),F(),Ie(),T(57,"svg",23),oe(58,"path",25),F()(),xe(),T(59,"a",35),Ie(),T(60,"svg",23),oe(61,"path",36),F(),xe(),T(62,"span"),ce(63,"Angular Blog"),F(),Ie(),T(64,"svg",23),oe(65,"path",25),F()(),xe(),T(66,"a",37),Ie(),T(67,"svg",38)(68,"g"),oe(69,"rect",39),F(),T(70,"g")(71,"g"),oe(72,"path",40)(73,"polygon",41),F()()(),xe(),T(74,"span"),ce(75,"Angular DevTools"),F(),Ie(),T(76,"svg",23),oe(77,"path",25),F()()(),xe(),T(78,"h2"),ce(79,"Next Steps"),F(),T(80,"p"),ce(81,"What do you want to do next with your app?"),F(),oe(82,"input",42,43),T(84,"div",21)(85,"button",44),vn("click",function(){return xr(i),Tr(rr(83).value="component")}),Ie(),T(86,"svg",23),oe(87,"path",45),F(),xe(),T(88,"span"),ce(89,"New Component"),F()(),T(90,"button",44),vn("click",function(){return xr(i),Tr(rr(83).value="material")}),Ie(),T(91,"svg",23),oe(92,"path",45),F(),xe(),T(93,"span"),ce(94,"Angular Material"),F()(),T(95,"button",44),vn("click",function(){return xr(i),Tr(rr(83).value="pwa")}),Ie(),T(96,"svg",23),oe(97,"path",45),F(),xe(),T(98,"span"),ce(99,"Add PWA Support"),F()(),T(100,"button",44),vn("click",function(){return xr(i),Tr(rr(83).value="dependency")}),Ie(),T(101,"svg",23),oe(102,"path",45),F(),xe(),T(103,"span"),ce(104,"Add Dependency"),F()(),T(105,"button",44),vn("click",function(){return xr(i),Tr(rr(83).value="test")}),Ie(),T(106,"svg",23),oe(107,"path",45),F(),xe(),T(108,"span"),ce(109,"Run and Watch Tests"),F()(),T(110,"button",44),vn("click",function(){return xr(i),Tr(rr(83).value="build")}),Ie(),T(111,"svg",23),oe(112,"path",45),F(),xe(),T(113,"span"),ce(114,"Build for Production"),F()()(),T(115,"div",46),kr(116,ZN,2,0,"pre",47),kr(117,XN,2,0,"pre",48),kr(118,KN,2,0,"pre",48),kr(119,JN,2,0,"pre",48),kr(120,eF,2,0,"pre",48),kr(121,tF,2,0,"pre",48),F(),T(122,"div",21)(123,"a",49),Ie(),T(124,"svg",50)(125,"title"),ce(126,"Meetup Logo"),F(),oe(127,"path",51),F()(),xe(),T(128,"a",52),Ie(),T(129,"svg",53)(130,"title"),ce(131,"Discord Logo"),F(),oe(132,"path",54)(133,"path",55),F()()(),xe(),T(134,"footer"),ce(135," Love Angular?\xa0 "),T(136,"a",56),ce(137," Give our repo a star. "),T(138,"div",57),Ie(),T(139,"svg",23),oe(140,"path",58)(141,"path",59),F(),ce(142," Star "),F()(),xe(),T(143,"a",56),Ie(),T(144,"svg",23),oe(145,"path",60)(146,"path",58),F()()(),T(147,"svg",61)(148,"title"),ce(149,"Gray Clouds Background"),F(),oe(150,"path",62),F()(),xe(),oe(151,"router-outlet")}if(2&n){const i=rr(83);er(24),Sa("",r.title," app is running!"),er(91),ir("ngSwitch",i.value),er(2),ir("ngSwitchCase","material"),er(1),ir("ngSwitchCase","pwa"),er(1),ir("ngSwitchCase","dependency"),er(1),ir("ngSwitchCase","test"),er(1),ir("ngSwitchCase","build")}},dependencies:[Xa,$y,zy,Dh],styles:['[_nghost-%COMP%] {\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n    font-size: 14px;\n    color: #333;\n    box-sizing: border-box;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%] {\n    margin: 8px 0;\n  }\n\n  p[_ngcontent-%COMP%] {\n    margin: 0;\n  }\n\n  .spacer[_ngcontent-%COMP%] {\n    flex: 1;\n  }\n\n  .toolbar[_ngcontent-%COMP%] {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 60px;\n    display: flex;\n    align-items: center;\n    background-color: #1976d2;\n    color: white;\n    font-weight: 600;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n    margin: 0 16px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%] {\n    height: 40px;\n    margin: 0 8px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%] {\n    height: 40px;\n    margin: 0 16px;\n  }\n\n  .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]:hover {\n    opacity: 0.8;\n  }\n\n  .content[_ngcontent-%COMP%] {\n    display: flex;\n    margin: 82px auto 32px;\n    padding: 0 16px;\n    max-width: 960px;\n    flex-direction: column;\n    align-items: center;\n  }\n\n  svg.material-icons[_ngcontent-%COMP%] {\n    height: 24px;\n    width: auto;\n  }\n\n  svg.material-icons[_ngcontent-%COMP%]:not(:last-child) {\n    margin-right: 8px;\n  }\n\n  .card[_ngcontent-%COMP%]   svg.material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {\n    fill: #888;\n  }\n\n  .card-container[_ngcontent-%COMP%] {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    margin-top: 16px;\n  }\n\n  .card[_ngcontent-%COMP%] {\n    all: unset;\n    border-radius: 4px;\n    border: 1px solid #eee;\n    background-color: #fafafa;\n    height: 40px;\n    width: 200px;\n    margin: 0 8px 16px;\n    padding: 16px;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    transition: all 0.2s ease-in-out;\n    line-height: 24px;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:last-child) {\n    margin-right: 0;\n  }\n\n  .card.card-small[_ngcontent-%COMP%] {\n    height: 16px;\n    width: 168px;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card) {\n    cursor: pointer;\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover {\n    transform: translateY(-3px);\n    box-shadow: 0 4px 17px rgba(0, 0, 0, 0.35);\n  }\n\n  .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover   .material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {\n    fill: rgb(105, 103, 103);\n  }\n\n  .card.highlight-card[_ngcontent-%COMP%] {\n    background-color: #1976d2;\n    color: white;\n    font-weight: 600;\n    border: none;\n    width: auto;\n    min-width: 30%;\n    position: relative;\n  }\n\n  .card.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n    margin-left: 60px;\n  }\n\n  svg#rocket[_ngcontent-%COMP%] {\n    width: 80px;\n    position: absolute;\n    left: -10px;\n    top: -24px;\n  }\n\n  svg#rocket-smoke[_ngcontent-%COMP%] {\n    height: calc(100vh - 95px);\n    position: absolute;\n    top: 10px;\n    right: 180px;\n    z-index: -10;\n  }\n\n  a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover {\n    color: #1976d2;\n    text-decoration: none;\n  }\n\n  a[_ngcontent-%COMP%]:hover {\n    color: #125699;\n  }\n\n  .terminal[_ngcontent-%COMP%] {\n    position: relative;\n    width: 80%;\n    max-width: 600px;\n    border-radius: 6px;\n    padding-top: 45px;\n    margin-top: 8px;\n    overflow: hidden;\n    background-color: rgb(15, 15, 16);\n  }\n\n  .terminal[_ngcontent-%COMP%]::before {\n    content: "\\2022 \\2022 \\2022";\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 4px;\n    background: rgb(58, 58, 58);\n    color: #c2c3c4;\n    width: 100%;\n    font-size: 2rem;\n    line-height: 0;\n    padding: 14px 0;\n    text-indent: 4px;\n  }\n\n  .terminal[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%] {\n    font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;\n    color: white;\n    padding: 0 1rem 1rem;\n    margin: 0;\n  }\n\n  .circle-link[_ngcontent-%COMP%] {\n    height: 40px;\n    width: 40px;\n    border-radius: 40px;\n    margin: 8px;\n    background-color: white;\n    border: 1px solid #eeeeee;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n    transition: 1s ease-out;\n  }\n\n  .circle-link[_ngcontent-%COMP%]:hover {\n    transform: translateY(-0.25rem);\n    box-shadow: 0px 3px 15px rgba(0, 0, 0, 0.2);\n  }\n\n  footer[_ngcontent-%COMP%] {\n    margin-top: 8px;\n    display: flex;\n    align-items: center;\n    line-height: 20px;\n  }\n\n  footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n    display: flex;\n    align-items: center;\n  }\n\n  .github-star-badge[_ngcontent-%COMP%] {\n    color: #24292e;\n    display: flex;\n    align-items: center;\n    font-size: 12px;\n    padding: 3px 10px;\n    border: 1px solid rgba(27,31,35,.2);\n    border-radius: 3px;\n    background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);\n    margin-left: 4px;\n    font-weight: 600;\n  }\n\n  .github-star-badge[_ngcontent-%COMP%]:hover {\n    background-image: linear-gradient(-180deg,#f0f3f6,#e6ebf1 90%);\n    border-color: rgba(27,31,35,.35);\n    background-position: -.5em;\n  }\n\n  .github-star-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%] {\n    height: 16px;\n    width: 16px;\n    margin-right: 4px;\n  }\n\n  svg#clouds[_ngcontent-%COMP%] {\n    position: fixed;\n    bottom: -160px;\n    left: -230px;\n    z-index: -10;\n    width: 1920px;\n  }\n\n  \n  @media screen and (max-width: 767px) {\n    .card-container[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%]:not(.circle-link), .terminal[_ngcontent-%COMP%] {\n      width: 100%;\n    }\n\n    .card[_ngcontent-%COMP%]:not(.highlight-card) {\n      height: 16px;\n      margin: 8px 0;\n    }\n\n    .card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n      margin-left: 72px;\n    }\n\n    svg#rocket-smoke[_ngcontent-%COMP%] {\n      right: 120px;\n      transform: rotate(-5deg);\n    }\n  }\n\n  @media screen and (max-width: 575px) {\n    svg#rocket-smoke[_ngcontent-%COMP%] {\n      display: none;\n      visibility: hidden;\n    }\n  }']}),t})(),rF=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Dr({type:t,bootstrap:[nF]}),t.\u0275inj=Wn({imports:[qA,QN]}),t})();(function Tx(){gy=!1})(),WA().bootstrapModule(rF).catch(t=>console.error(t))}},Se=>{Se(Se.s=689)}]);